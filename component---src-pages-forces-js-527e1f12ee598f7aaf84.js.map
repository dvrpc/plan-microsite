{"version":3,"file":"component---src-pages-forces-js-527e1f12ee598f7aaf84.js","mappings":"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","sources":["webpack://gatsby-starter-default/./src/images/bg.png","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/components/use-map.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/utils/transform.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/mapbox/proxy-transform.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/utils/style-utils.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/utils/deep-equal.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/mapbox/mapbox.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/mapbox/create-ref.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/utils/use-isomorphic-layout-effect.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/utils/set-globals.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/components/map.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/utils/apply-react-style.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/utils/compare-class-names.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/components/marker.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/components/popup.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/components/use-control.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/components/attribution-control.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/components/fullscreen-control.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/components/geolocate-control.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/components/navigation-control.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/components/scale-control.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/utils/assert.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/components/source.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/components/layer.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/index.js","webpack://gatsby-starter-default/./src/components/dvrpcmap.js","webpack://gatsby-starter-default/./src/components/popempmap.js","webpack://gatsby-starter-default/./node_modules/@headlessui/react/dist/internal/hidden.js","webpack://gatsby-starter-default/./node_modules/@headlessui/react/dist/internal/focus-sentinel.js","webpack://gatsby-starter-default/./node_modules/@headlessui/react/dist/hooks/use-is-mounted.js","webpack://gatsby-starter-default/./node_modules/@headlessui/react/dist/utils/stable-collection.js","webpack://gatsby-starter-default/./node_modules/@headlessui/react/dist/components/tabs/tabs.js","webpack://gatsby-starter-default/./node_modules/@heroicons/react/16/solid/esm/ChevronDownIcon.js","webpack://gatsby-starter-default/./src/pages/forces.js","webpack://gatsby-starter-default/./node_modules/@heroicons/react/16/solid/esm/ChevronRightIcon.js"],"sourcesContent":["export default __webpack_public_path__ + \"static/bg-30f3e941d590bb15a8edf4a49048089b.png\";","import * as React from 'react';\nimport { useState, useCallback, useMemo, useContext } from 'react';\nimport { MapContext } from \"./map.js\";\nexport const MountedMapsContext = React.createContext(null);\nexport const MapProvider = props => {\n    const [maps, setMaps] = useState({});\n    const onMapMount = useCallback((map, id = 'default') => {\n        setMaps(currMaps => {\n            if (id === 'current') {\n                throw new Error(\"'current' cannot be used as map id\");\n            }\n            if (currMaps[id]) {\n                throw new Error(`Multiple maps with the same id: ${id}`);\n            }\n            return { ...currMaps, [id]: map };\n        });\n    }, []);\n    const onMapUnmount = useCallback((id = 'default') => {\n        setMaps(currMaps => {\n            if (currMaps[id]) {\n                const nextMaps = { ...currMaps };\n                delete nextMaps[id];\n                return nextMaps;\n            }\n            return currMaps;\n        });\n    }, []);\n    return (React.createElement(MountedMapsContext.Provider, { value: {\n            maps,\n            onMapMount,\n            onMapUnmount\n        } }, props.children));\n};\nexport function useMap() {\n    const maps = useContext(MountedMapsContext)?.maps;\n    const currentMap = useContext(MapContext);\n    const mapsWithCurrent = useMemo(() => {\n        return { ...maps, current: currentMap?.map };\n    }, [maps, currentMap]);\n    return mapsWithCurrent;\n}\n//# sourceMappingURL=use-map.js.map","/**\n * Capture a transform's current state\n * @param transform\n * @returns descriptor of the view state\n */\nexport function transformToViewState(tr) {\n    return {\n        longitude: tr.center.lng,\n        latitude: tr.center.lat,\n        zoom: tr._seaLevelZoom ?? tr.zoom,\n        pitch: tr.pitch,\n        bearing: tr.bearing,\n        padding: tr.padding,\n        elevation: tr._centerAltitude\n    };\n}\n/** Returns `true` if the given props can potentially override view state updates */\nexport function isViewStateControlled(v) {\n    return (Number.isFinite(v.longitude) ||\n        Number.isFinite(v.latitude) ||\n        Number.isFinite(v.zoom) ||\n        Number.isFinite(v.pitch) ||\n        Number.isFinite(v.bearing));\n}\n/**\n * Returns `true` if transform needs to be updated to match view state\n */\nexport function compareViewStateWithTransform(tr, v) {\n    if (Number.isFinite(v.longitude) && tr.center.lng !== v.longitude) {\n        return true;\n    }\n    if (Number.isFinite(v.latitude) && tr.center.lat !== v.latitude) {\n        return true;\n    }\n    if (Number.isFinite(v.bearing) && tr.bearing !== v.bearing) {\n        return true;\n    }\n    if (Number.isFinite(v.pitch) && tr.pitch !== v.pitch) {\n        return true;\n    }\n    if (Number.isFinite(v.zoom) && (tr._seaLevelZoom ?? tr.zoom) !== v.zoom) {\n        return true;\n    }\n    if (v.padding && !tr.isPaddingEqual(v.padding)) {\n        return true;\n    }\n    return false;\n}\nfunction noOp() { }\n/* eslint-disable complexity */\n/**\n * Mutate a transform to match the given view state. Should reverse `transformToViewState`\n * @param transform\n * @param viewState\n */\nexport function applyViewStateToTransform(tr, v) {\n    // prevent constrain from running until all properties are set\n    // eslint-disable-next-line @typescript-eslint/unbound-method\n    const constrain = tr._constrain;\n    // eslint-disable-next-line @typescript-eslint/unbound-method\n    const calcMatrices = tr._calcMatrices;\n    tr._constrain = noOp;\n    tr._calcMatrices = noOp;\n    if (Number.isFinite(v.bearing)) {\n        tr.bearing = v.bearing;\n    }\n    if (Number.isFinite(v.pitch)) {\n        tr.pitch = v.pitch;\n    }\n    if (v.padding && !tr.isPaddingEqual(v.padding)) {\n        tr.padding = v.padding;\n    }\n    if (Number.isFinite(v.longitude) || Number.isFinite(v.latitude)) {\n        const center = tr.center;\n        // @ts-expect-error LngLat constructor is not typed\n        tr._center = new center.constructor(v.longitude ?? center.lng, v.latitude ?? center.lat);\n    }\n    if (Number.isFinite(v.zoom)) {\n        tr._centerAltitude = v.elevation ?? 0;\n        if (tr.elevation) {\n            tr._seaLevelZoom = v.zoom;\n            const mercatorElevation = (tr.pixelsPerMeter / tr.worldSize) * tr._centerAltitude;\n            const altitude = tr._mercatorZfromZoom(v.zoom);\n            const minHeight = tr._mercatorZfromZoom(tr._maxZoom);\n            const height = Math.max(altitude - mercatorElevation, minHeight);\n            tr._setZoom(tr._zoomFromMercatorZ(height));\n        }\n        else {\n            tr._seaLevelZoom = null;\n            tr.zoom = v.zoom;\n        }\n    }\n    // restore methods\n    tr._constrain = constrain;\n    tr._calcMatrices = calcMatrices;\n    if (!tr._unmodified) {\n        tr._constrain();\n        tr._calcMatrices();\n    }\n}\n//# sourceMappingURL=transform.js.map","import { applyViewStateToTransform, isViewStateControlled } from \"../utils/transform.js\";\n// These are Transform class methods that:\n// + do not mutate any view state properties\n// + populate private members derived from view state properties\n// They should always reflect the state of their owning instance and NOT trigger any proxied getter/setter\nconst unproxiedMethods = new Set([\n    '_calcMatrices',\n    '_calcFogMatrices',\n    '_updateCameraState',\n    '_updateSeaLevelZoom'\n]);\nexport function createProxyTransform(tr) {\n    let internalUpdate = false;\n    let reactViewState = {};\n    /**\n     * Reflects view state set by react props\n     * This is the transform seen by painter, style etc.\n     */\n    const controlledTransform = tr;\n    /** Populated during camera move (handler/easeTo) if there is a discrepency between react props and proposed view state\n     * This is the transform seen by Mapbox's input handlers\n     */\n    let proposedTransform = null;\n    const handlers = {\n        get(target, prop) {\n            // Props added by us\n            if (prop === '$reactViewState') {\n                return reactViewState;\n            }\n            if (prop === '$proposedTransform') {\n                return proposedTransform;\n            }\n            if (prop === '$internalUpdate') {\n                return internalUpdate;\n            }\n            // Ugly - this method is called from HandlerManager bypassing zoom setter\n            if (prop === '_setZoom') {\n                return (z) => {\n                    if (internalUpdate) {\n                        proposedTransform?.[prop](z);\n                    }\n                    if (!Number.isFinite(reactViewState.zoom)) {\n                        controlledTransform[prop](z);\n                    }\n                };\n            }\n            // Ugly - this method is called from HandlerManager and mutates transform._camera\n            if (internalUpdate &&\n                prop === '_translateCameraConstrained' &&\n                isViewStateControlled(reactViewState)) {\n                proposedTransform = proposedTransform || controlledTransform.clone();\n            }\n            if (unproxiedMethods.has(prop)) {\n                // When this function is executed, it updates both transforms respectively\n                return function (...parms) {\n                    proposedTransform?.[prop](...parms);\n                    controlledTransform[prop](...parms);\n                };\n            }\n            // Expose the proposed transform to input handlers\n            if (internalUpdate && proposedTransform) {\n                return proposedTransform[prop];\n            }\n            // Expose the controlled transform to renderer, markers, and event listeners\n            return controlledTransform[prop];\n        },\n        set(target, prop, value) {\n            // Props added by us\n            if (prop === '$reactViewState') {\n                reactViewState = value;\n                applyViewStateToTransform(controlledTransform, reactViewState);\n                return true;\n            }\n            if (prop === '$proposedTransform') {\n                proposedTransform = value;\n                return true;\n            }\n            if (prop === '$internalUpdate') {\n                internalUpdate = value;\n                return true;\n            }\n            // Controlled props\n            let controlledValue = value;\n            if (prop === 'center' || prop === '_center') {\n                if (Number.isFinite(reactViewState.longitude) || Number.isFinite(reactViewState.latitude)) {\n                    // @ts-expect-error LngLat constructor is not typed\n                    controlledValue = new value.constructor(reactViewState.longitude ?? value.lng, reactViewState.latitude ?? value.lat);\n                }\n            }\n            else if (prop === 'zoom' || prop === '_zoom' || prop === '_seaLevelZoom') {\n                if (Number.isFinite(reactViewState.zoom)) {\n                    controlledValue = controlledTransform[prop];\n                }\n            }\n            else if (prop === '_centerAltitude') {\n                if (Number.isFinite(reactViewState.elevation)) {\n                    controlledValue = controlledTransform[prop];\n                }\n            }\n            else if (prop === 'pitch' || prop === '_pitch') {\n                if (Number.isFinite(reactViewState.pitch)) {\n                    controlledValue = controlledTransform[prop];\n                }\n            }\n            else if (prop === 'bearing' || prop === 'rotation' || prop === 'angle') {\n                if (Number.isFinite(reactViewState.bearing)) {\n                    controlledValue = controlledTransform[prop];\n                }\n            }\n            // During camera update, we save view states that are overriden by controlled values in proposedTransform\n            if (internalUpdate && controlledValue !== value) {\n                proposedTransform = proposedTransform || controlledTransform.clone();\n            }\n            if (internalUpdate && proposedTransform) {\n                proposedTransform[prop] = value;\n            }\n            // controlledTransform is not exposed to view state mutation\n            controlledTransform[prop] = controlledValue;\n            return true;\n        }\n    };\n    return new Proxy(tr, handlers);\n}\n//# sourceMappingURL=proxy-transform.js.map","const refProps = ['type', 'source', 'source-layer', 'minzoom', 'maxzoom', 'filter', 'layout'];\n// Prepare a map style object for diffing\n// If immutable - convert to plain object\n// Work around some issues in older styles that would fail Mapbox's diffing\nexport function normalizeStyle(style) {\n    if (!style) {\n        return null;\n    }\n    if (typeof style === 'string') {\n        return style;\n    }\n    if ('toJS' in style) {\n        style = style.toJS();\n    }\n    if (!style.layers) {\n        return style;\n    }\n    const layerIndex = {};\n    for (const layer of style.layers) {\n        layerIndex[layer.id] = layer;\n    }\n    const layers = style.layers.map(layer => {\n        let normalizedLayer = null;\n        if ('interactive' in layer) {\n            normalizedLayer = Object.assign({}, layer);\n            // Breaks style diffing :(\n            // @ts-ignore legacy field not typed\n            delete normalizedLayer.interactive;\n        }\n        // Style diffing doesn't work with refs so expand them out manually before diffing.\n        // @ts-ignore legacy field not typed\n        const layerRef = layerIndex[layer.ref];\n        if (layerRef) {\n            normalizedLayer = normalizedLayer || Object.assign({}, layer);\n            // @ts-ignore\n            delete normalizedLayer.ref;\n            // https://github.com/mapbox/mapbox-gl-js/blob/master/src/style-spec/deref.js\n            for (const propName of refProps) {\n                if (propName in layerRef) {\n                    normalizedLayer[propName] = layerRef[propName];\n                }\n            }\n        }\n        return normalizedLayer || layer;\n    });\n    // Do not mutate the style object provided by the user\n    return { ...style, layers };\n}\n//# sourceMappingURL=style-utils.js.map","/**\n * Compare two points\n * @param a\n * @param b\n * @returns true if the points are equal\n */\nexport function arePointsEqual(a, b) {\n    const ax = Array.isArray(a) ? a[0] : a ? a.x : 0;\n    const ay = Array.isArray(a) ? a[1] : a ? a.y : 0;\n    const bx = Array.isArray(b) ? b[0] : b ? b.x : 0;\n    const by = Array.isArray(b) ? b[1] : b ? b.y : 0;\n    return ax === bx && ay === by;\n}\n/* eslint-disable complexity */\n/**\n * Compare any two objects\n * @param a\n * @param b\n * @returns true if the objects are deep equal\n */\nexport function deepEqual(a, b) {\n    if (a === b) {\n        return true;\n    }\n    if (!a || !b) {\n        return false;\n    }\n    if (Array.isArray(a)) {\n        if (!Array.isArray(b) || a.length !== b.length) {\n            return false;\n        }\n        for (let i = 0; i < a.length; i++) {\n            if (!deepEqual(a[i], b[i])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    else if (Array.isArray(b)) {\n        return false;\n    }\n    if (typeof a === 'object' && typeof b === 'object') {\n        const aKeys = Object.keys(a);\n        const bKeys = Object.keys(b);\n        if (aKeys.length !== bKeys.length) {\n            return false;\n        }\n        for (const key of aKeys) {\n            if (!b.hasOwnProperty(key)) {\n                return false;\n            }\n            if (!deepEqual(a[key], b[key])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    return false;\n}\n//# sourceMappingURL=deep-equal.js.map","import { transformToViewState, compareViewStateWithTransform } from \"../utils/transform.js\";\nimport { createProxyTransform } from \"./proxy-transform.js\";\nimport { normalizeStyle } from \"../utils/style-utils.js\";\nimport { deepEqual } from \"../utils/deep-equal.js\";\nconst DEFAULT_STYLE = { version: 8, sources: {}, layers: [] };\nconst pointerEvents = {\n    mousedown: 'onMouseDown',\n    mouseup: 'onMouseUp',\n    mouseover: 'onMouseOver',\n    mousemove: 'onMouseMove',\n    click: 'onClick',\n    dblclick: 'onDblClick',\n    mouseenter: 'onMouseEnter',\n    mouseleave: 'onMouseLeave',\n    mouseout: 'onMouseOut',\n    contextmenu: 'onContextMenu',\n    touchstart: 'onTouchStart',\n    touchend: 'onTouchEnd',\n    touchmove: 'onTouchMove',\n    touchcancel: 'onTouchCancel'\n};\nconst cameraEvents = {\n    movestart: 'onMoveStart',\n    move: 'onMove',\n    moveend: 'onMoveEnd',\n    dragstart: 'onDragStart',\n    drag: 'onDrag',\n    dragend: 'onDragEnd',\n    zoomstart: 'onZoomStart',\n    zoom: 'onZoom',\n    zoomend: 'onZoomEnd',\n    rotatestart: 'onRotateStart',\n    rotate: 'onRotate',\n    rotateend: 'onRotateEnd',\n    pitchstart: 'onPitchStart',\n    pitch: 'onPitch',\n    pitchend: 'onPitchEnd'\n};\nconst otherEvents = {\n    wheel: 'onWheel',\n    boxzoomstart: 'onBoxZoomStart',\n    boxzoomend: 'onBoxZoomEnd',\n    boxzoomcancel: 'onBoxZoomCancel',\n    resize: 'onResize',\n    load: 'onLoad',\n    render: 'onRender',\n    idle: 'onIdle',\n    remove: 'onRemove',\n    data: 'onData',\n    styledata: 'onStyleData',\n    sourcedata: 'onSourceData',\n    error: 'onError'\n};\nconst settingNames = [\n    'minZoom',\n    'maxZoom',\n    'minPitch',\n    'maxPitch',\n    'maxBounds',\n    'projection',\n    'renderWorldCopies'\n];\nconst handlerNames = [\n    'scrollZoom',\n    'boxZoom',\n    'dragRotate',\n    'dragPan',\n    'keyboard',\n    'doubleClickZoom',\n    'touchZoomRotate',\n    'touchPitch'\n];\n/**\n * A wrapper for mapbox-gl's Map class\n */\nclass Mapbox {\n    constructor(MapClass, props, container) {\n        /** mapboxgl.Map instance */\n        this._map = null;\n        // Internal states\n        /** Making updates driven by React props. Do not trigger React callbacks to avoid infinite loop */\n        this._internalUpdate = false;\n        /** Map is currently rendering */\n        this._inRender = false;\n        /** Map features under the pointer */\n        this._hoveredFeatures = null;\n        /** View state changes driven by React props\n         * They still need to fire move/etc. events because controls such as marker/popup\n         * subscribe to the move event internally to update their position\n         * React callbacks like onMove are not called for these */\n        this._deferredEvents = {\n            move: false,\n            zoom: false,\n            pitch: false,\n            rotate: false\n        };\n        this._onEvent = (e) => {\n            // @ts-ignore\n            const cb = this.props[otherEvents[e.type]];\n            if (cb) {\n                cb(e);\n            }\n            else if (e.type === 'error') {\n                console.error(e.error); // eslint-disable-line\n            }\n        };\n        this._onPointerEvent = (e) => {\n            if (e.type === 'mousemove' || e.type === 'mouseout') {\n                this._updateHover(e);\n            }\n            // @ts-ignore\n            const cb = this.props[pointerEvents[e.type]];\n            if (cb) {\n                if (this.props.interactiveLayerIds && e.type !== 'mouseover' && e.type !== 'mouseout') {\n                    e.features = this._hoveredFeatures || this._queryRenderedFeatures(e.point);\n                }\n                cb(e);\n                delete e.features;\n            }\n        };\n        this._onCameraEvent = (e) => {\n            if (!this._internalUpdate) {\n                // @ts-ignore\n                const cb = this.props[cameraEvents[e.type]];\n                const tr = this._proxyTransform;\n                if (cb) {\n                    e.viewState = transformToViewState(tr.$proposedTransform ?? tr);\n                    cb(e);\n                }\n                if (e.type === 'moveend') {\n                    tr.$proposedTransform = null;\n                }\n            }\n            if (e.type in this._deferredEvents) {\n                this._deferredEvents[e.type] = false;\n            }\n        };\n        this._MapClass = MapClass;\n        this.props = props;\n        this._initialize(container);\n    }\n    get map() {\n        return this._map;\n    }\n    get transform() {\n        return this._map.transform;\n    }\n    setProps(props) {\n        const oldProps = this.props;\n        this.props = props;\n        const settingsChanged = this._updateSettings(props, oldProps);\n        if (settingsChanged) {\n            this._createProxyTransform(this._map);\n        }\n        const sizeChanged = this._updateSize(props);\n        const viewStateChanged = this._updateViewState(props, true);\n        this._updateStyle(props, oldProps);\n        this._updateStyleComponents(props, oldProps);\n        this._updateHandlers(props, oldProps);\n        // If 1) view state has changed to match props and\n        //    2) the props change is not triggered by map events,\n        // it's driven by an external state change. Redraw immediately\n        if (settingsChanged || sizeChanged || (viewStateChanged && !this._map.isMoving())) {\n            this.redraw();\n        }\n    }\n    static reuse(props, container) {\n        const that = Mapbox.savedMaps.pop();\n        if (!that) {\n            return null;\n        }\n        const map = that.map;\n        // When reusing the saved map, we need to reparent the map(canvas) and other child nodes\n        // intoto the new container from the props.\n        // Step 1: reparenting child nodes from old container to new container\n        const oldContainer = map.getContainer();\n        container.className = oldContainer.className;\n        while (oldContainer.childNodes.length > 0) {\n            container.appendChild(oldContainer.childNodes[0]);\n        }\n        // Step 2: replace the internal container with new container from the react component\n        // @ts-ignore\n        map._container = container;\n        // Step 4: apply new props\n        that.setProps({ ...props, styleDiffing: false });\n        map.resize();\n        const { initialViewState } = props;\n        if (initialViewState) {\n            if (initialViewState.bounds) {\n                map.fitBounds(initialViewState.bounds, { ...initialViewState.fitBoundsOptions, duration: 0 });\n            }\n            else {\n                that._updateViewState(initialViewState, false);\n            }\n        }\n        // Simulate load event\n        if (map.isStyleLoaded()) {\n            map.fire('load');\n        }\n        else {\n            map.once('styledata', () => map.fire('load'));\n        }\n        // Force reload\n        // @ts-ignore\n        map._update();\n        return that;\n    }\n    /* eslint-disable complexity,max-statements */\n    _initialize(container) {\n        const { props } = this;\n        const { mapStyle = DEFAULT_STYLE } = props;\n        const mapOptions = {\n            ...props,\n            ...props.initialViewState,\n            accessToken: props.mapboxAccessToken || getAccessTokenFromEnv() || null,\n            container,\n            style: normalizeStyle(mapStyle)\n        };\n        const viewState = mapOptions.initialViewState || mapOptions.viewState || mapOptions;\n        Object.assign(mapOptions, {\n            center: [viewState.longitude || 0, viewState.latitude || 0],\n            zoom: viewState.zoom || 0,\n            pitch: viewState.pitch || 0,\n            bearing: viewState.bearing || 0\n        });\n        if (props.gl) {\n            // eslint-disable-next-line\n            const getContext = HTMLCanvasElement.prototype.getContext;\n            // Hijack canvas.getContext to return our own WebGLContext\n            // This will be called inside the mapboxgl.Map constructor\n            // @ts-expect-error\n            HTMLCanvasElement.prototype.getContext = () => {\n                // Unhijack immediately\n                HTMLCanvasElement.prototype.getContext = getContext;\n                return props.gl;\n            };\n        }\n        const map = new this._MapClass(mapOptions);\n        // Props that are not part of constructor options\n        if (viewState.padding) {\n            map.setPadding(viewState.padding);\n        }\n        if (props.cursor) {\n            map.getCanvas().style.cursor = props.cursor;\n        }\n        this._createProxyTransform(map);\n        // Hack\n        // Insert code into map's render cycle\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        const renderMap = map._render;\n        map._render = (arg) => {\n            // Hijacked to set this state flag\n            this._inRender = true;\n            renderMap.call(map, arg);\n            this._inRender = false;\n        };\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        const runRenderTaskQueue = map._renderTaskQueue.run;\n        map._renderTaskQueue.run = (arg) => {\n            // This is where camera updates from input handler/animation happens\n            // And where all view state change events are fired\n            this._proxyTransform.$internalUpdate = true;\n            runRenderTaskQueue.call(map._renderTaskQueue, arg);\n            this._proxyTransform.$internalUpdate = false;\n            this._fireDefferedEvents();\n        };\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        const jumpTo = map.jumpTo;\n        map.jumpTo = (...args) => {\n            // This method will fire view state change events immediately\n            this._proxyTransform.$internalUpdate = true;\n            jumpTo.apply(map, args);\n            this._proxyTransform.$internalUpdate = false;\n            return map;\n        };\n        // Insert code into map's event pipeline\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        const fireEvent = map.fire;\n        map.fire = this._fireEvent.bind(this, fireEvent);\n        // add listeners\n        map.on('styledata', () => {\n            this._updateStyleComponents(this.props, {});\n        });\n        map.on('sourcedata', () => {\n            this._updateStyleComponents(this.props, {});\n        });\n        for (const eventName in pointerEvents) {\n            map.on(eventName, this._onPointerEvent);\n        }\n        for (const eventName in cameraEvents) {\n            map.on(eventName, this._onCameraEvent);\n        }\n        for (const eventName in otherEvents) {\n            map.on(eventName, this._onEvent);\n        }\n        this._map = map;\n    }\n    /* eslint-enable complexity,max-statements */\n    recycle() {\n        // Clean up unnecessary elements before storing for reuse.\n        const container = this.map.getContainer();\n        const children = container.querySelector('[mapboxgl-children]');\n        children?.remove();\n        Mapbox.savedMaps.push(this);\n    }\n    destroy() {\n        this._map.remove();\n    }\n    // Force redraw the map now. Typically resize() and jumpTo() is reflected in the next\n    // render cycle, which is managed by Mapbox's animation loop.\n    // This removes the synchronization issue caused by requestAnimationFrame.\n    redraw() {\n        const map = this._map;\n        // map._render will throw error if style does not exist\n        // https://github.com/mapbox/mapbox-gl-js/blob/fb9fc316da14e99ff4368f3e4faa3888fb43c513\n        //   /src/ui/map.js#L1834\n        if (!this._inRender && map.style) {\n            // cancel the scheduled update\n            if (map._frame) {\n                map._frame.cancel();\n                map._frame = null;\n            }\n            // the order is important - render() may schedule another update\n            map._render();\n        }\n    }\n    _createProxyTransform(map) {\n        const proxyTransform = createProxyTransform(map.transform);\n        map.transform = proxyTransform;\n        map.painter.transform = proxyTransform;\n        this._proxyTransform = proxyTransform;\n    }\n    /* Trigger map resize if size is controlled\n       @param {object} nextProps\n       @returns {bool} true if size has changed\n     */\n    _updateSize(nextProps) {\n        // Check if size is controlled\n        const { viewState } = nextProps;\n        if (viewState) {\n            const map = this._map;\n            if (viewState.width !== map.transform.width || viewState.height !== map.transform.height) {\n                map.resize();\n                return true;\n            }\n        }\n        return false;\n    }\n    // Adapted from map.jumpTo\n    /* Update camera to match props\n       @param {object} nextProps\n       @param {bool} triggerEvents - should fire camera events\n       @returns {bool} true if anything is changed\n     */\n    _updateViewState(nextProps, triggerEvents) {\n        const viewState = nextProps.viewState || nextProps;\n        const tr = this._proxyTransform;\n        const { zoom, pitch, bearing } = tr;\n        const changed = compareViewStateWithTransform(this._proxyTransform, viewState);\n        tr.$reactViewState = viewState;\n        if (changed && triggerEvents) {\n            const deferredEvents = this._deferredEvents;\n            // Delay DOM control updates to the next render cycle\n            deferredEvents.move = true;\n            deferredEvents.zoom || (deferredEvents.zoom = zoom !== tr.zoom);\n            deferredEvents.rotate || (deferredEvents.rotate = bearing !== tr.bearing);\n            deferredEvents.pitch || (deferredEvents.pitch = pitch !== tr.pitch);\n        }\n        return changed;\n    }\n    /* Update camera constraints and projection settings to match props\n       @param {object} nextProps\n       @param {object} currProps\n       @returns {bool} true if anything is changed\n     */\n    _updateSettings(nextProps, currProps) {\n        const map = this._map;\n        let changed = false;\n        for (const propName of settingNames) {\n            if (propName in nextProps && !deepEqual(nextProps[propName], currProps[propName])) {\n                changed = true;\n                const setter = map[`set${propName[0].toUpperCase()}${propName.slice(1)}`];\n                setter?.call(map, nextProps[propName]);\n            }\n        }\n        return changed;\n    }\n    /* Update map style to match props\n       @param {object} nextProps\n       @param {object} currProps\n       @returns {bool} true if style is changed\n     */\n    _updateStyle(nextProps, currProps) {\n        if (nextProps.cursor !== currProps.cursor) {\n            this._map.getCanvas().style.cursor = nextProps.cursor || '';\n        }\n        if (nextProps.mapStyle !== currProps.mapStyle) {\n            const { mapStyle = DEFAULT_STYLE, styleDiffing = true } = nextProps;\n            const options = {\n                diff: styleDiffing\n            };\n            if ('localIdeographFontFamily' in nextProps) {\n                // @ts-ignore Mapbox specific prop\n                options.localIdeographFontFamily = nextProps.localIdeographFontFamily;\n            }\n            this._map.setStyle(normalizeStyle(mapStyle), options);\n            return true;\n        }\n        return false;\n    }\n    /* Update fog, light and terrain to match props\n       @param {object} nextProps\n       @param {object} currProps\n       @returns {bool} true if anything is changed\n     */\n    _updateStyleComponents(nextProps, currProps) {\n        const map = this._map;\n        let changed = false;\n        if (map.isStyleLoaded()) {\n            if ('light' in nextProps && map.setLight && !deepEqual(nextProps.light, currProps.light)) {\n                changed = true;\n                map.setLight(nextProps.light);\n            }\n            if ('fog' in nextProps && map.setFog && !deepEqual(nextProps.fog, currProps.fog)) {\n                changed = true;\n                map.setFog(nextProps.fog);\n            }\n            if ('terrain' in nextProps &&\n                map.setTerrain &&\n                !deepEqual(nextProps.terrain, currProps.terrain)) {\n                if (!nextProps.terrain || map.getSource(nextProps.terrain.source)) {\n                    changed = true;\n                    map.setTerrain(nextProps.terrain);\n                }\n            }\n        }\n        return changed;\n    }\n    /* Update interaction handlers to match props\n       @param {object} nextProps\n       @param {object} currProps\n       @returns {bool} true if anything is changed\n     */\n    _updateHandlers(nextProps, currProps) {\n        const map = this._map;\n        let changed = false;\n        for (const propName of handlerNames) {\n            const newValue = nextProps[propName] ?? true;\n            const oldValue = currProps[propName] ?? true;\n            if (!deepEqual(newValue, oldValue)) {\n                changed = true;\n                if (newValue) {\n                    map[propName].enable(newValue);\n                }\n                else {\n                    map[propName].disable();\n                }\n            }\n        }\n        return changed;\n    }\n    _queryRenderedFeatures(point) {\n        const map = this._map;\n        const { interactiveLayerIds = [] } = this.props;\n        try {\n            return map.queryRenderedFeatures(point, {\n                layers: interactiveLayerIds.filter(map.getLayer.bind(map))\n            });\n        }\n        catch {\n            // May fail if style is not loaded\n            return [];\n        }\n    }\n    _updateHover(e) {\n        const { props } = this;\n        const shouldTrackHoveredFeatures = props.interactiveLayerIds && (props.onMouseMove || props.onMouseEnter || props.onMouseLeave);\n        if (shouldTrackHoveredFeatures) {\n            const eventType = e.type;\n            const wasHovering = this._hoveredFeatures?.length > 0;\n            const features = this._queryRenderedFeatures(e.point);\n            const isHovering = features.length > 0;\n            if (!isHovering && wasHovering) {\n                e.type = 'mouseleave';\n                this._onPointerEvent(e);\n            }\n            this._hoveredFeatures = features;\n            if (isHovering && !wasHovering) {\n                e.type = 'mouseenter';\n                this._onPointerEvent(e);\n            }\n            e.type = eventType;\n        }\n        else {\n            this._hoveredFeatures = null;\n        }\n    }\n    _fireEvent(baseFire, event, properties) {\n        const map = this._map;\n        const tr = this._proxyTransform;\n        // Always expose the controlled transform to controls/end user\n        const internal = tr.$internalUpdate;\n        try {\n            tr.$internalUpdate = false;\n            baseFire.call(map, event, properties);\n        }\n        finally {\n            tr.$internalUpdate = internal;\n        }\n        return map;\n    }\n    // If there are camera changes driven by props, invoke camera events so that DOM controls are synced\n    _fireDefferedEvents() {\n        const map = this._map;\n        this._internalUpdate = true;\n        for (const eventType in this._deferredEvents) {\n            if (this._deferredEvents[eventType]) {\n                map.fire(eventType);\n            }\n        }\n        this._internalUpdate = false;\n    }\n}\nMapbox.savedMaps = [];\nexport default Mapbox;\n/**\n * Access token can be provided via one of:\n *   mapboxAccessToken prop\n *   access_token query parameter\n *   MapboxAccessToken environment variable\n *   REACT_APP_MAPBOX_ACCESS_TOKEN environment variable\n * @returns access token\n */\nfunction getAccessTokenFromEnv() {\n    let accessToken = null;\n    /* global location, process */\n    if (typeof location !== 'undefined') {\n        const match = /access_token=([^&\\/]*)/.exec(location.search);\n        accessToken = match && match[1];\n    }\n    // Note: This depends on bundler plugins (e.g. webpack) importing environment correctly\n    try {\n        // eslint-disable-next-line no-process-env\n        accessToken = accessToken || process.env.MapboxAccessToken;\n    }\n    catch {\n        // ignore\n    }\n    try {\n        // eslint-disable-next-line no-process-env\n        accessToken = accessToken || process.env.REACT_APP_MAPBOX_ACCESS_TOKEN;\n    }\n    catch {\n        // ignore\n    }\n    return accessToken;\n}\n//# sourceMappingURL=mapbox.js.map","/** These methods may break the react binding if called directly */\nconst skipMethods = [\n    'setMaxBounds',\n    'setMinZoom',\n    'setMaxZoom',\n    'setMinPitch',\n    'setMaxPitch',\n    'setRenderWorldCopies',\n    'setProjection',\n    'setStyle',\n    'addSource',\n    'removeSource',\n    'addLayer',\n    'removeLayer',\n    'setLayerZoomRange',\n    'setFilter',\n    'setPaintProperty',\n    'setLayoutProperty',\n    'setLight',\n    'setTerrain',\n    'setFog',\n    'remove'\n];\nexport default function createRef(mapInstance) {\n    if (!mapInstance) {\n        return null;\n    }\n    const map = mapInstance.map;\n    const ref = {\n        getMap: () => map,\n        // Overwrite getters to use our shadow transform\n        getCenter: () => mapInstance.transform.center,\n        getZoom: () => mapInstance.transform.zoom,\n        getBearing: () => mapInstance.transform.bearing,\n        getPitch: () => mapInstance.transform.pitch,\n        getPadding: () => mapInstance.transform.padding,\n        getBounds: () => mapInstance.transform.getBounds(),\n        project: (lnglat) => {\n            const tr = map.transform;\n            map.transform = mapInstance.transform;\n            const result = map.project(lnglat);\n            map.transform = tr;\n            return result;\n        },\n        unproject: (point) => {\n            const tr = map.transform;\n            map.transform = mapInstance.transform;\n            const result = map.unproject(point);\n            map.transform = tr;\n            return result;\n        },\n        // options diverge between mapbox and maplibre\n        queryTerrainElevation: (lnglat, options) => {\n            const tr = map.transform;\n            map.transform = mapInstance.transform;\n            const result = map.queryTerrainElevation(lnglat, options);\n            map.transform = tr;\n            return result;\n        },\n        queryRenderedFeatures: (geometry, options) => {\n            const tr = map.transform;\n            map.transform = mapInstance.transform;\n            const result = map.queryRenderedFeatures(geometry, options);\n            map.transform = tr;\n            return result;\n        }\n    };\n    for (const key of getMethodNames(map)) {\n        // @ts-expect-error\n        if (!(key in ref) && !skipMethods.includes(key)) {\n            ref[key] = map[key].bind(map);\n        }\n    }\n    return ref;\n}\nfunction getMethodNames(obj) {\n    const result = new Set();\n    let proto = obj;\n    while (proto) {\n        for (const key of Object.getOwnPropertyNames(proto)) {\n            if (key[0] !== '_' &&\n                typeof obj[key] === 'function' &&\n                key !== 'fire' &&\n                key !== 'setEventedParent') {\n                result.add(key);\n            }\n        }\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Array.from(result);\n}\n//# sourceMappingURL=create-ref.js.map","// From https://github.com/streamich/react-use/blob/master/src/useIsomorphicLayoutEffect.ts\n// useLayoutEffect but does not trigger warning in server-side rendering\nimport { useEffect, useLayoutEffect } from 'react';\nconst useIsomorphicLayoutEffect = typeof document !== 'undefined' ? useLayoutEffect : useEffect;\nexport default useIsomorphicLayoutEffect;\n//# sourceMappingURL=use-isomorphic-layout-effect.js.map","const globalSettings = [\n    'baseApiUrl',\n    'maxParallelImageRequests',\n    'workerClass',\n    'workerCount',\n    'workerUrl'\n];\nexport default function setGlobals(mapLib, props) {\n    for (const key of globalSettings) {\n        if (key in props) {\n            mapLib[key] = props[key];\n        }\n    }\n    const { RTLTextPlugin = 'https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js' } = props;\n    if (RTLTextPlugin &&\n        mapLib.getRTLTextPluginStatus &&\n        mapLib.getRTLTextPluginStatus() === 'unavailable') {\n        mapLib.setRTLTextPlugin(RTLTextPlugin, (error) => {\n            if (error) {\n                // eslint-disable-next-line\n                console.error(error);\n            }\n        }, true);\n    }\n}\n//# sourceMappingURL=set-globals.js.map","import * as React from 'react';\nimport { useState, useRef, useEffect, useContext, useMemo, useImperativeHandle } from 'react';\nimport { MountedMapsContext } from \"./use-map.js\";\nimport Mapbox from \"../mapbox/mapbox.js\";\nimport createRef from \"../mapbox/create-ref.js\";\nimport useIsomorphicLayoutEffect from \"../utils/use-isomorphic-layout-effect.js\";\nimport setGlobals from \"../utils/set-globals.js\";\nexport const MapContext = React.createContext(null);\nfunction _Map(props, ref) {\n    const mountedMapsContext = useContext(MountedMapsContext);\n    const [mapInstance, setMapInstance] = useState(null);\n    const containerRef = useRef();\n    const { current: contextValue } = useRef({ mapLib: null, map: null });\n    useEffect(() => {\n        const mapLib = props.mapLib;\n        let isMounted = true;\n        let mapbox;\n        Promise.resolve(mapLib || import('mapbox-gl'))\n            .then((module) => {\n            if (!isMounted) {\n                return;\n            }\n            if (!module) {\n                throw new Error('Invalid mapLib');\n            }\n            const mapboxgl = 'Map' in module ? module : module.default;\n            if (!mapboxgl.Map) {\n                throw new Error('Invalid mapLib');\n            }\n            setGlobals(mapboxgl, props);\n            if (props.reuseMaps) {\n                mapbox = Mapbox.reuse(props, containerRef.current);\n            }\n            if (!mapbox) {\n                mapbox = new Mapbox(mapboxgl.Map, props, containerRef.current);\n            }\n            contextValue.map = createRef(mapbox);\n            contextValue.mapLib = mapboxgl;\n            setMapInstance(mapbox);\n            mountedMapsContext?.onMapMount(contextValue.map, props.id);\n        })\n            .catch(error => {\n            const { onError } = props;\n            if (onError) {\n                onError({\n                    type: 'error',\n                    target: null,\n                    error\n                });\n            }\n            else {\n                console.error(error); // eslint-disable-line\n            }\n        });\n        return () => {\n            isMounted = false;\n            if (mapbox) {\n                mountedMapsContext?.onMapUnmount(props.id);\n                if (props.reuseMaps) {\n                    mapbox.recycle();\n                }\n                else {\n                    mapbox.destroy();\n                }\n            }\n        };\n    }, []);\n    useIsomorphicLayoutEffect(() => {\n        if (mapInstance) {\n            mapInstance.setProps(props);\n        }\n    });\n    useImperativeHandle(ref, () => contextValue.map, [mapInstance]);\n    const style = useMemo(() => ({\n        position: 'relative',\n        width: '100%',\n        height: '100%',\n        ...props.style\n    }), [props.style]);\n    const CHILD_CONTAINER_STYLE = {\n        height: '100%'\n    };\n    return (React.createElement(\"div\", { id: props.id, ref: containerRef, style: style }, mapInstance && (React.createElement(MapContext.Provider, { value: contextValue },\n        React.createElement(\"div\", { \"mapboxgl-children\": \"\", style: CHILD_CONTAINER_STYLE }, props.children)))));\n}\nexport const Map = React.forwardRef(_Map);\n//# sourceMappingURL=map.js.map","// This is a simplified version of\n// https://github.com/facebook/react/blob/4131af3e4bf52f3a003537ec95a1655147c81270/src/renderers/dom/shared/CSSPropertyOperations.js#L62\nconst unitlessNumber = /box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;\nexport function applyReactStyle(element, styles) {\n    if (!element || !styles) {\n        return;\n    }\n    const style = element.style;\n    for (const key in styles) {\n        const value = styles[key];\n        if (Number.isFinite(value) && !unitlessNumber.test(key)) {\n            style[key] = `${value}px`;\n        }\n        else {\n            style[key] = value;\n        }\n    }\n}\n//# sourceMappingURL=apply-react-style.js.map","/** Compare two classNames string and return the difference */\nexport function compareClassNames(prevClassName, nextClassName) {\n    if (prevClassName === nextClassName) {\n        return null;\n    }\n    const prevClassList = getClassList(prevClassName);\n    const nextClassList = getClassList(nextClassName);\n    const diff = [];\n    for (const c of nextClassList) {\n        if (!prevClassList.has(c)) {\n            diff.push(c);\n        }\n    }\n    for (const c of prevClassList) {\n        if (!nextClassList.has(c)) {\n            diff.push(c);\n        }\n    }\n    return diff.length === 0 ? null : diff;\n}\nfunction getClassList(className) {\n    return new Set(className ? className.trim().split(/\\s+/) : []);\n}\n//# sourceMappingURL=compare-class-names.js.map","/* global document */\nimport * as React from 'react';\nimport { createPortal } from 'react-dom';\nimport { useImperativeHandle, useEffect, useMemo, useRef, useContext, forwardRef, memo } from 'react';\nimport { applyReactStyle } from \"../utils/apply-react-style.js\";\nimport { MapContext } from \"./map.js\";\nimport { arePointsEqual } from \"../utils/deep-equal.js\";\nimport { compareClassNames } from \"../utils/compare-class-names.js\";\n/* eslint-disable complexity,max-statements */\nexport const Marker = memo(forwardRef((props, ref) => {\n    const { map, mapLib } = useContext(MapContext);\n    const thisRef = useRef({ props });\n    const marker = useMemo(() => {\n        let hasChildren = false;\n        React.Children.forEach(props.children, el => {\n            if (el) {\n                hasChildren = true;\n            }\n        });\n        const options = {\n            ...props,\n            element: hasChildren ? document.createElement('div') : null\n        };\n        const mk = new mapLib.Marker(options);\n        mk.setLngLat([props.longitude, props.latitude]);\n        mk.getElement().addEventListener('click', (e) => {\n            thisRef.current.props.onClick?.({\n                type: 'click',\n                target: mk,\n                originalEvent: e\n            });\n        });\n        mk.on('dragstart', e => {\n            const evt = e;\n            evt.lngLat = marker.getLngLat();\n            thisRef.current.props.onDragStart?.(evt);\n        });\n        mk.on('drag', e => {\n            const evt = e;\n            evt.lngLat = marker.getLngLat();\n            thisRef.current.props.onDrag?.(evt);\n        });\n        mk.on('dragend', e => {\n            const evt = e;\n            evt.lngLat = marker.getLngLat();\n            thisRef.current.props.onDragEnd?.(evt);\n        });\n        return mk;\n    }, []);\n    useEffect(() => {\n        marker.addTo(map.getMap());\n        return () => {\n            marker.remove();\n        };\n    }, []);\n    const { longitude, latitude, offset, style, draggable = false, popup = null, rotation = 0, rotationAlignment = 'auto', pitchAlignment = 'auto' } = props;\n    useEffect(() => {\n        applyReactStyle(marker.getElement(), style);\n    }, [style]);\n    useImperativeHandle(ref, () => marker, []);\n    const oldProps = thisRef.current.props;\n    if (marker.getLngLat().lng !== longitude || marker.getLngLat().lat !== latitude) {\n        marker.setLngLat([longitude, latitude]);\n    }\n    if (offset && !arePointsEqual(marker.getOffset(), offset)) {\n        marker.setOffset(offset);\n    }\n    if (marker.isDraggable() !== draggable) {\n        marker.setDraggable(draggable);\n    }\n    if (marker.getRotation() !== rotation) {\n        marker.setRotation(rotation);\n    }\n    if (marker.getRotationAlignment() !== rotationAlignment) {\n        marker.setRotationAlignment(rotationAlignment);\n    }\n    if (marker.getPitchAlignment() !== pitchAlignment) {\n        marker.setPitchAlignment(pitchAlignment);\n    }\n    if (marker.getPopup() !== popup) {\n        marker.setPopup(popup);\n    }\n    const classNameDiff = compareClassNames(oldProps.className, props.className);\n    if (classNameDiff) {\n        for (const c of classNameDiff) {\n            marker.toggleClassName(c);\n        }\n    }\n    thisRef.current.props = props;\n    return createPortal(props.children, marker.getElement());\n}));\n//# sourceMappingURL=marker.js.map","import { createPortal } from 'react-dom';\nimport { useImperativeHandle, useEffect, useMemo, useRef, useContext, forwardRef, memo } from 'react';\nimport { applyReactStyle } from \"../utils/apply-react-style.js\";\nimport { MapContext } from \"./map.js\";\nimport { deepEqual } from \"../utils/deep-equal.js\";\nimport { compareClassNames } from \"../utils/compare-class-names.js\";\n/* eslint-disable complexity,max-statements */\nexport const Popup = memo(forwardRef((props, ref) => {\n    const { map, mapLib } = useContext(MapContext);\n    const container = useMemo(() => {\n        return document.createElement('div');\n    }, []);\n    const thisRef = useRef({ props });\n    const popup = useMemo(() => {\n        const options = { ...props };\n        const pp = new mapLib.Popup(options);\n        pp.setLngLat([props.longitude, props.latitude]);\n        pp.once('open', e => {\n            thisRef.current.props.onOpen?.(e);\n        });\n        return pp;\n    }, []);\n    useEffect(() => {\n        const onClose = e => {\n            thisRef.current.props.onClose?.(e);\n        };\n        popup.on('close', onClose);\n        popup.setDOMContent(container).addTo(map.getMap());\n        return () => {\n            // https://github.com/visgl/react-map-gl/issues/1825\n            // onClose should not be fired if the popup is removed by unmounting\n            // When using React strict mode, the component is mounted twice.\n            // Firing the onClose callback here would be a false signal to remove the component.\n            popup.off('close', onClose);\n            if (popup.isOpen()) {\n                popup.remove();\n            }\n        };\n    }, []);\n    useEffect(() => {\n        applyReactStyle(popup.getElement(), props.style);\n    }, [props.style]);\n    useImperativeHandle(ref, () => popup, []);\n    if (popup.isOpen()) {\n        const oldProps = thisRef.current.props;\n        if (popup.getLngLat().lng !== props.longitude || popup.getLngLat().lat !== props.latitude) {\n            popup.setLngLat([props.longitude, props.latitude]);\n        }\n        if (props.offset && !deepEqual(oldProps.offset, props.offset)) {\n            popup.options.anchor = props.anchor;\n            popup.setOffset(props.offset);\n        }\n        if (oldProps.anchor !== props.anchor || oldProps.maxWidth !== props.maxWidth) {\n            popup.setMaxWidth(props.maxWidth);\n        }\n        const classNameDiff = compareClassNames(oldProps.className, props.className);\n        if (classNameDiff) {\n            for (const c of classNameDiff) {\n                popup.toggleClassName(c);\n            }\n        }\n        thisRef.current.props = props;\n    }\n    return createPortal(props.children, container);\n}));\n//# sourceMappingURL=popup.js.map","import { useContext, useMemo, useEffect } from 'react';\nimport { MapContext } from \"./map.js\";\nexport function useControl(onCreate, arg1, arg2, arg3) {\n    const context = useContext(MapContext);\n    const ctrl = useMemo(() => onCreate(context), []);\n    useEffect(() => {\n        const opts = (arg3 || arg2 || arg1);\n        const onAdd = typeof arg1 === 'function' && typeof arg2 === 'function' ? arg1 : null;\n        const onRemove = typeof arg2 === 'function' ? arg2 : typeof arg1 === 'function' ? arg1 : null;\n        const { map } = context;\n        if (!map.hasControl(ctrl)) {\n            map.addControl(ctrl, opts?.position);\n            if (onAdd) {\n                onAdd(context);\n            }\n        }\n        return () => {\n            if (onRemove) {\n                onRemove(context);\n            }\n            // Map might have been removed (parent effects are destroyed before child ones)\n            if (map.hasControl(ctrl)) {\n                map.removeControl(ctrl);\n            }\n        };\n    }, []);\n    return ctrl;\n}\n//# sourceMappingURL=use-control.js.map","import { useEffect, memo } from 'react';\nimport { applyReactStyle } from \"../utils/apply-react-style.js\";\nimport { useControl } from \"./use-control.js\";\nfunction _AttributionControl(props) {\n    const ctrl = useControl(({ mapLib }) => new mapLib.AttributionControl(props), {\n        position: props.position\n    });\n    useEffect(() => {\n        applyReactStyle(ctrl._container, props.style);\n    }, [props.style]);\n    return null;\n}\nexport const AttributionControl = memo(_AttributionControl);\n//# sourceMappingURL=attribution-control.js.map","import { useEffect, memo } from 'react';\nimport { applyReactStyle } from \"../utils/apply-react-style.js\";\nimport { useControl } from \"./use-control.js\";\nfunction _FullscreenControl(props) {\n    const ctrl = useControl(({ mapLib }) => new mapLib.FullscreenControl({\n        container: props.containerId && document.getElementById(props.containerId)\n    }), { position: props.position });\n    useEffect(() => {\n        applyReactStyle(ctrl._controlContainer, props.style);\n    }, [props.style]);\n    return null;\n}\nexport const FullscreenControl = memo(_FullscreenControl);\n//# sourceMappingURL=fullscreen-control.js.map","import { useImperativeHandle, useRef, useEffect, forwardRef, memo } from 'react';\nimport { applyReactStyle } from \"../utils/apply-react-style.js\";\nimport { useControl } from \"./use-control.js\";\nfunction _GeolocateControl(props, ref) {\n    const thisRef = useRef({ props });\n    const ctrl = useControl(({ mapLib }) => {\n        const gc = new mapLib.GeolocateControl(props);\n        // Hack: fix GeolocateControl reuse\n        // When using React strict mode, the component is mounted twice.\n        // GeolocateControl's UI creation is asynchronous. Removing and adding it back causes the UI to be initialized twice.\n        const setupUI = gc._setupUI.bind(gc);\n        gc._setupUI = args => {\n            if (!gc._container.hasChildNodes()) {\n                setupUI(args);\n            }\n        };\n        gc.on('geolocate', e => {\n            thisRef.current.props.onGeolocate?.(e);\n        });\n        gc.on('error', e => {\n            thisRef.current.props.onError?.(e);\n        });\n        gc.on('outofmaxbounds', e => {\n            thisRef.current.props.onOutOfMaxBounds?.(e);\n        });\n        gc.on('trackuserlocationstart', e => {\n            thisRef.current.props.onTrackUserLocationStart?.(e);\n        });\n        gc.on('trackuserlocationend', e => {\n            thisRef.current.props.onTrackUserLocationEnd?.(e);\n        });\n        return gc;\n    }, { position: props.position });\n    thisRef.current.props = props;\n    useImperativeHandle(ref, () => ctrl, []);\n    useEffect(() => {\n        applyReactStyle(ctrl._container, props.style);\n    }, [props.style]);\n    return null;\n}\nexport const GeolocateControl = memo(forwardRef(_GeolocateControl));\n//# sourceMappingURL=geolocate-control.js.map","import { useEffect, memo } from 'react';\nimport { applyReactStyle } from \"../utils/apply-react-style.js\";\nimport { useControl } from \"./use-control.js\";\nfunction _NavigationControl(props) {\n    const ctrl = useControl(({ mapLib }) => new mapLib.NavigationControl(props), {\n        position: props.position\n    });\n    useEffect(() => {\n        applyReactStyle(ctrl._container, props.style);\n    }, [props.style]);\n    return null;\n}\nexport const NavigationControl = memo(_NavigationControl);\n//# sourceMappingURL=navigation-control.js.map","import { useEffect, useRef, memo } from 'react';\nimport { applyReactStyle } from \"../utils/apply-react-style.js\";\nimport { useControl } from \"./use-control.js\";\nfunction _ScaleControl(props) {\n    const ctrl = useControl(({ mapLib }) => new mapLib.ScaleControl(props), {\n        position: props.position\n    });\n    const propsRef = useRef(props);\n    const prevProps = propsRef.current;\n    propsRef.current = props;\n    const { style } = props;\n    if (props.maxWidth !== undefined && props.maxWidth !== prevProps.maxWidth) {\n        ctrl.options.maxWidth = props.maxWidth;\n    }\n    if (props.unit !== undefined && props.unit !== prevProps.unit) {\n        ctrl.setUnit(props.unit);\n    }\n    useEffect(() => {\n        applyReactStyle(ctrl._container, style);\n    }, [style]);\n    return null;\n}\nexport const ScaleControl = memo(_ScaleControl);\n//# sourceMappingURL=scale-control.js.map","export default function assert(condition, message) {\n    if (!condition) {\n        throw new Error(message);\n    }\n}\n//# sourceMappingURL=assert.js.map","import * as React from 'react';\nimport { useContext, useEffect, useMemo, useState, useRef, cloneElement } from 'react';\nimport { MapContext } from \"./map.js\";\nimport assert from \"../utils/assert.js\";\nimport { deepEqual } from \"../utils/deep-equal.js\";\nlet sourceCounter = 0;\nfunction createSource(map, id, props) {\n    // @ts-ignore\n    if (map.style && map.style._loaded) {\n        const options = { ...props };\n        delete options.id;\n        delete options.children;\n        // @ts-ignore\n        map.addSource(id, options);\n        return map.getSource(id);\n    }\n    return null;\n}\n/* eslint-disable complexity */\nfunction updateSource(source, props, prevProps) {\n    assert(props.id === prevProps.id, 'source id changed');\n    assert(props.type === prevProps.type, 'source type changed');\n    let changedKey = '';\n    let changedKeyCount = 0;\n    for (const key in props) {\n        if (key !== 'children' && key !== 'id' && !deepEqual(prevProps[key], props[key])) {\n            changedKey = key;\n            changedKeyCount++;\n        }\n    }\n    if (!changedKeyCount) {\n        return;\n    }\n    const type = props.type;\n    if (type === 'geojson') {\n        source.setData(props.data);\n    }\n    else if (type === 'image') {\n        source.updateImage({\n            url: props.url,\n            coordinates: props.coordinates\n        });\n    }\n    else if ('setCoordinates' in source && changedKeyCount === 1 && changedKey === 'coordinates') {\n        source.setCoordinates(props.coordinates);\n    }\n    else if ('setUrl' in source && changedKey === 'url') {\n        source.setUrl(props.url);\n    }\n    else if ('setTiles' in source && changedKey === 'tiles') {\n        source.setTiles(props.tiles);\n    }\n    else {\n        // eslint-disable-next-line\n        console.warn(`Unable to update <Source> prop: ${changedKey}`);\n    }\n}\n/* eslint-enable complexity */\nexport function Source(props) {\n    const map = useContext(MapContext).map.getMap();\n    const propsRef = useRef(props);\n    const [, setStyleLoaded] = useState(0);\n    const id = useMemo(() => props.id || `jsx-source-${sourceCounter++}`, []);\n    useEffect(() => {\n        if (map) {\n            /* global setTimeout */\n            const forceUpdate = () => setTimeout(() => setStyleLoaded(version => version + 1), 0);\n            map.on('styledata', forceUpdate);\n            forceUpdate();\n            return () => {\n                map.off('styledata', forceUpdate);\n                // @ts-ignore\n                if (map.style && map.style._loaded && map.getSource(id)) {\n                    // Parent effects are destroyed before child ones, see\n                    // https://github.com/facebook/react/issues/16728\n                    // Source can only be removed after all child layers are removed\n                    const allLayers = map.getStyle()?.layers;\n                    if (allLayers) {\n                        for (const layer of allLayers) {\n                            // @ts-ignore (2339) source does not exist on all layer types\n                            if (layer.source === id) {\n                                map.removeLayer(layer.id);\n                            }\n                        }\n                    }\n                    map.removeSource(id);\n                }\n            };\n        }\n        return undefined;\n    }, [map]);\n    // @ts-ignore\n    let source = map && map.style && map.getSource(id);\n    if (source) {\n        updateSource(source, props, propsRef.current);\n    }\n    else {\n        source = createSource(map, id, props);\n    }\n    propsRef.current = props;\n    return ((source &&\n        React.Children.map(props.children, child => child &&\n            cloneElement(child, {\n                source: id\n            }))) ||\n        null);\n}\n//# sourceMappingURL=source.js.map","import { useContext, useEffect, useMemo, useState, useRef } from 'react';\nimport { MapContext } from \"./map.js\";\nimport assert from \"../utils/assert.js\";\nimport { deepEqual } from \"../utils/deep-equal.js\";\n/* eslint-disable complexity, max-statements */\nfunction updateLayer(map, id, props, prevProps) {\n    assert(props.id === prevProps.id, 'layer id changed');\n    assert(props.type === prevProps.type, 'layer type changed');\n    if (props.type === 'custom' || prevProps.type === 'custom') {\n        return;\n    }\n    // @ts-ignore filter does not exist in some Layer types\n    const { layout = {}, paint = {}, filter, minzoom, maxzoom, beforeId } = props;\n    if (beforeId !== prevProps.beforeId) {\n        map.moveLayer(id, beforeId);\n    }\n    if (layout !== prevProps.layout) {\n        const prevLayout = prevProps.layout || {};\n        for (const key in layout) {\n            if (!deepEqual(layout[key], prevLayout[key])) {\n                map.setLayoutProperty(id, key, layout[key]);\n            }\n        }\n        for (const key in prevLayout) {\n            if (!layout.hasOwnProperty(key)) {\n                map.setLayoutProperty(id, key, undefined);\n            }\n        }\n    }\n    if (paint !== prevProps.paint) {\n        const prevPaint = prevProps.paint || {};\n        for (const key in paint) {\n            if (!deepEqual(paint[key], prevPaint[key])) {\n                map.setPaintProperty(id, key, paint[key]);\n            }\n        }\n        for (const key in prevPaint) {\n            if (!paint.hasOwnProperty(key)) {\n                map.setPaintProperty(id, key, undefined);\n            }\n        }\n    }\n    // @ts-ignore filter does not exist in some Layer types\n    if (!deepEqual(filter, prevProps.filter)) {\n        map.setFilter(id, filter);\n    }\n    if (minzoom !== prevProps.minzoom || maxzoom !== prevProps.maxzoom) {\n        map.setLayerZoomRange(id, minzoom, maxzoom);\n    }\n}\nfunction createLayer(map, id, props) {\n    // @ts-ignore\n    if (map.style && map.style._loaded && (!('source' in props) || map.getSource(props.source))) {\n        const options = { ...props, id };\n        delete options.beforeId;\n        // @ts-ignore\n        map.addLayer(options, props.beforeId);\n    }\n}\n/* eslint-enable complexity, max-statements */\nlet layerCounter = 0;\nexport function Layer(props) {\n    const map = useContext(MapContext).map.getMap();\n    const propsRef = useRef(props);\n    const [, setStyleLoaded] = useState(0);\n    const id = useMemo(() => props.id || `jsx-layer-${layerCounter++}`, []);\n    useEffect(() => {\n        if (map) {\n            const forceUpdate = () => setStyleLoaded(version => version + 1);\n            map.on('styledata', forceUpdate);\n            forceUpdate();\n            return () => {\n                map.off('styledata', forceUpdate);\n                // @ts-ignore\n                if (map.style && map.style._loaded && map.getLayer(id)) {\n                    map.removeLayer(id);\n                }\n            };\n        }\n        return undefined;\n    }, [map]);\n    // @ts-ignore\n    const layer = map && map.style && map.getLayer(id);\n    if (layer) {\n        try {\n            updateLayer(map, id, props, propsRef.current);\n        }\n        catch (error) {\n            console.warn(error); // eslint-disable-line\n        }\n    }\n    else {\n        createLayer(map, id, props);\n    }\n    // Store last rendered props\n    propsRef.current = props;\n    return null;\n}\n//# sourceMappingURL=layer.js.map","import { Map } from \"./components/map.js\";\nexport { Map };\nexport default Map;\nexport { Marker } from \"./components/marker.js\";\nexport { Popup } from \"./components/popup.js\";\nexport { AttributionControl } from \"./components/attribution-control.js\";\nexport { FullscreenControl } from \"./components/fullscreen-control.js\";\nexport { GeolocateControl } from \"./components/geolocate-control.js\";\nexport { NavigationControl } from \"./components/navigation-control.js\";\nexport { ScaleControl } from \"./components/scale-control.js\";\nexport { Source } from \"./components/source.js\";\nexport { Layer } from \"./components/layer.js\";\nexport { useControl } from \"./components/use-control.js\";\nexport { MapProvider, useMap } from \"./components/use-map.js\";\n// Types\nexport * from \"./types/common.js\";\nexport * from \"./types/events.js\";\nexport * from \"./types/lib.js\";\nexport * from \"./types/style-spec.js\";\n//# sourceMappingURL=index.js.map","import React, { useState, useCallback, useRef } from \"react\"\r\nimport Map, { Source, Layer, Popup } from \"react-map-gl/mapbox\"\r\nimport \"mapbox-gl/dist/mapbox-gl.css\"\r\nimport { LngLatBounds } from \"mapbox-gl\"\r\n\r\nconst DVRPCMap = ({ children, features }) => {\r\n  const mapRef = useRef()\r\n  const maxExtent = new LngLatBounds([\r\n    [-76.09405517578125, 39.49211914385648],\r\n    [-74.32525634765625, 40.614734298694216],\r\n  ])\r\n  const [clickedFeature, setClickedFeature] = useState(null)\r\n  const [cursor, setCursor] = useState(\"grab\")\r\n\r\n  const onClick = event => {\r\n    const feature = event.features[0]\r\n    if (feature) {\r\n      setClickedFeature({\r\n        feature: feature,\r\n        latitude: event.lngLat.lat,\r\n        longitude: event.lngLat.lng,\r\n      })\r\n    }\r\n  }\r\n\r\n  const onMouseEnter = useCallback(() => setCursor(\"pointer\"), [])\r\n  const onMouseLeave = useCallback(() => setCursor(\"grab\"), [])\r\n\r\n  return (\r\n    <div className=\"h-[500px] w-full\">\r\n      <Map\r\n        interactiveLayerIds={[\"trail-lines\"]}\r\n        ref={mapRef}\r\n        initialViewState={{ bounds: maxExtent }}\r\n        mapboxAccessToken=\"pk.eyJ1IjoidGhhY2hhZG9yaWFuZHZycGMiLCJhIjoiY2x6Ymw5bjNoMDIxdTJscHJlbDMxMzM1ZyJ9.AZoU09L4abDOTWEUM5Uwdw\"\r\n        minZoom={8}\r\n        onClick={onClick}\r\n        cursor={cursor}\r\n        onMouseEnter={onMouseEnter}\r\n        onMouseLeave={onMouseLeave}\r\n      >\r\n        {children}\r\n        <Source\r\n          id=\"boundaries\"\r\n          type=\"vector\"\r\n          url=\"https://tiles.dvrpc.org/data/dvrpc-municipal.json\"\r\n        >\r\n          <Layer\r\n            id=\"dvrpcnt\"\r\n            type=\"fill\"\r\n            source-layer=\"county\"\r\n            paint={{\r\n              \"fill-color\": \"#B6C1C6\",\r\n              \"fill-opacity\": 0.2,\r\n            }}\r\n            filter={[\"!=\", \"dvrpc\", \"Yes\"]}\r\n          />\r\n\r\n          <Layer\r\n            id=\"municipality-outline\"\r\n            type=\"line\"\r\n            source-layer=\"municipalities\"\r\n            paint={{\r\n              \"line-width\": 0.5,\r\n              \"line-color\": \"#efefef\",\r\n            }}\r\n          />\r\n\r\n          <Layer\r\n            id=\"county-outline\"\r\n            type=\"line\"\r\n            source-layer=\"county\"\r\n            paint={{\r\n              \"line-width\": 2.5,\r\n              \"line-color\": \"#fff\",\r\n            }}\r\n          />\r\n        </Source>\r\n      </Map>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DVRPCMap\r\n","import React from \"react\"\r\nimport DvrpcMap from \"./dvrpcmap\"\r\nimport { Source, Layer } from \"react-map-gl/mapbox\"\r\n\r\nlet popColor = [\r\n  \"step\",\r\n  [\"get\", \"pop50\"],\r\n  \"#DFEFFB\",\r\n  10000,\r\n  \"#A6CFE1\",\r\n  25000,\r\n  \"#4D9DC0\",\r\n  50000,\r\n  \"#0078AE\",\r\n  100000,\r\n  \"#004E76\",\r\n]\r\n\r\nlet popColor2 = [\r\n  \"step\",\r\n  [\"get\", \"popabs50\"],\r\n  \"#CCCCCC\",\r\n  0,\r\n  \"#DFEFFB\",\r\n  1,\r\n  \"#A6CFE1\",\r\n  2000,\r\n  \"#4D9DC0\",\r\n  4000,\r\n  \"#0078AE\",\r\n]\r\n\r\nlet popColor3 = [\r\n  \"step\",\r\n  [\"get\", \"poppct50\"],\r\n  \"#DFEFFB\",\r\n  5,\r\n  \"#A6CFE1\",\r\n  25,\r\n  \"#4D9DC0\",\r\n  50,\r\n  \"#0078AE\",\r\n]\r\n\r\nconst secondaryMapLayers = [\r\n  {\r\n    id: \"popABS\",\r\n    type: \"fill\",\r\n    source: \"MCD\",\r\n    layout: {},\r\n    paint: {\r\n      \"fill-outline-color\": \"#748388\",\r\n      \"fill-opacity\": {\r\n        base: 9,\r\n        stops: [\r\n          [10, 0.9],\r\n          [12, 0.7],\r\n          [13, 0.6],\r\n        ],\r\n      },\r\n      \"fill-color\": popColor2,\r\n    },\r\n  },\r\n  {\r\n    id: \"popPER\",\r\n    type: \"fill\",\r\n    source: \"MCD\",\r\n    layout: {},\r\n    paint: {\r\n      \"fill-outline-color\": \"#748388\",\r\n      \"fill-opacity\": {\r\n        base: 9,\r\n        stops: [\r\n          [10, 0.9],\r\n          [12, 0.7],\r\n          [13, 0.6],\r\n        ],\r\n      },\r\n      \"fill-color\": popColor3,\r\n    },\r\n  },\r\n  {\r\n    id: \"pop\",\r\n    type: \"fill\",\r\n    source: \"MCD\",\r\n    layout: {},\r\n    paint: {\r\n      \"fill-outline-color\": \"#748388\",\r\n      \"fill-opacity\": {\r\n        base: 9,\r\n        stops: [\r\n          [10, 0.9],\r\n          [12, 0.7],\r\n          [13, 0.6],\r\n        ],\r\n      },\r\n      \"fill-color\": popColor,\r\n    },\r\n  },\r\n]\r\n\r\nconst PopEmpMap = ({ selectedLayer }) => {\r\n  return (\r\n    <DvrpcMap>\r\n      <Source\r\n        id=\"MCD\"\r\n        type=\"geojson\"\r\n        data={\r\n          \"https://arcgis.dvrpc.org/portal/rest/services/demographics/forecast_2050_mcd_v2/FeatureServer/0/query?where=1%3D1&outFields=*&geometryPrecision=6&outSR=4326&f=geojson\"\r\n        }\r\n      >\r\n        {secondaryMapLayers.map(\r\n          layer => layer.id === selectedLayer && <Layer {...layer} />\r\n        )}\r\n      </Source>\r\n    </DvrpcMap>\r\n  )\r\n}\r\n\r\nexport default PopEmpMap\r\n","import{forwardRefWithAs as i,useRender as p}from'../utils/render.js';let a=\"span\";var s=(e=>(e[e.None=1]=\"None\",e[e.Focusable=2]=\"Focusable\",e[e.Hidden=4]=\"Hidden\",e))(s||{});function l(t,r){var n;let{features:d=1,...e}=t,o={ref:r,\"aria-hidden\":(d&2)===2?!0:(n=e[\"aria-hidden\"])!=null?n:void 0,hidden:(d&4)===4?!0:void 0,style:{position:\"fixed\",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:\"hidden\",clip:\"rect(0, 0, 0, 0)\",whiteSpace:\"nowrap\",borderWidth:\"0\",...(d&4)===4&&(d&2)!==2&&{display:\"none\"}}};return p()({ourProps:o,theirProps:e,slot:{},defaultTag:a,name:\"Hidden\"})}let f=i(l);export{f as Hidden,s as HiddenFeatures};\n","import s,{useState as c}from\"react\";import{useIsMounted as m}from'../hooks/use-is-mounted.js';import{Hidden as f,HiddenFeatures as l}from'./hidden.js';function b({onFocus:n}){let[r,o]=c(!0),u=m();return r?s.createElement(f,{as:\"button\",type:\"button\",features:l.Focusable,onFocus:a=>{a.preventDefault();let e,i=50;function t(){if(i--<=0){e&&cancelAnimationFrame(e);return}if(n()){if(cancelAnimationFrame(e),!u.current)return;o(!1);return}e=requestAnimationFrame(t)}e=requestAnimationFrame(t)}}):null}export{b as FocusSentinel};\n","import{useRef as r}from\"react\";import{useIsoMorphicEffect as t}from'./use-iso-morphic-effect.js';function f(){let e=r(!1);return t(()=>(e.current=!0,()=>{e.current=!1}),[]),e}export{f as useIsMounted};\n","import*as l from\"react\";const s=l.createContext(null);function a(){return{groups:new Map,get(o,e){var i;let t=this.groups.get(o);t||(t=new Map,this.groups.set(o,t));let n=(i=t.get(e))!=null?i:0;t.set(e,n+1);let r=Array.from(t.keys()).indexOf(e);function u(){let c=t.get(e);c>1?t.set(e,c-1):t.delete(e)}return[r,u]}}}function f({children:o}){let e=l.useRef(a());return l.createElement(s.Provider,{value:e},o)}function C(o){let e=l.useContext(s);if(!e)throw new Error(\"You must wrap your component in a <StableCollection>\");let t=l.useId(),[n,r]=e.current.get(o,t);return l.useEffect(()=>r,[]),n}export{f as StableCollection,C as useStableCollectionIndex};\n","\"use client\";import{useFocusRing as te}from\"@react-aria/focus\";import{useHover as be}from\"@react-aria/interactions\";import G,{createContext as re,useContext as ne,useMemo as ae,useReducer as fe,useRef as q,useState as me}from\"react\";import{useActivePress as Pe}from'../../hooks/use-active-press.js';import{useEvent as F}from'../../hooks/use-event.js';import{useId as le}from'../../hooks/use-id.js';import{useIsoMorphicEffect as W}from'../../hooks/use-iso-morphic-effect.js';import{useLatestValue as j}from'../../hooks/use-latest-value.js';import{useResolveButtonType as ye}from'../../hooks/use-resolve-button-type.js';import{useSlot as U}from'../../hooks/use-slot.js';import{useSyncRefs as H}from'../../hooks/use-sync-refs.js';import{FocusSentinel as xe}from'../../internal/focus-sentinel.js';import{Hidden as ge}from'../../internal/hidden.js';import{Focus as y,FocusResult as K,focusIn as I,sortByDomNode as w}from'../../utils/focus-management.js';import{match as O}from'../../utils/match.js';import{microTask as Ae}from'../../utils/micro-task.js';import{getActiveElement as Ee}from'../../utils/owner.js';import{RenderFeatures as oe,forwardRefWithAs as N,mergeProps as se,useRender as k}from'../../utils/render.js';import{StableCollection as Re,useStableCollectionIndex as ie}from'../../utils/stable-collection.js';import{Keys as x}from'../keyboard.js';var Le=(t=>(t[t.Forwards=0]=\"Forwards\",t[t.Backwards=1]=\"Backwards\",t))(Le||{}),_e=(l=>(l[l.Less=-1]=\"Less\",l[l.Equal=0]=\"Equal\",l[l.Greater=1]=\"Greater\",l))(_e||{}),Se=(n=>(n[n.SetSelectedIndex=0]=\"SetSelectedIndex\",n[n.RegisterTab=1]=\"RegisterTab\",n[n.UnregisterTab=2]=\"UnregisterTab\",n[n.RegisterPanel=3]=\"RegisterPanel\",n[n.UnregisterPanel=4]=\"UnregisterPanel\",n))(Se||{});let De={[0](e,r){var d;let t=w(e.tabs,u=>u.current),l=w(e.panels,u=>u.current),a=t.filter(u=>{var T;return!((T=u.current)!=null&&T.hasAttribute(\"disabled\"))}),n={...e,tabs:t,panels:l};if(r.index<0||r.index>t.length-1){let u=O(Math.sign(r.index-e.selectedIndex),{[-1]:()=>1,[0]:()=>O(Math.sign(r.index),{[-1]:()=>0,[0]:()=>0,[1]:()=>1}),[1]:()=>0});if(a.length===0)return n;let T=O(u,{[0]:()=>t.indexOf(a[0]),[1]:()=>t.indexOf(a[a.length-1])});return{...n,selectedIndex:T===-1?e.selectedIndex:T}}let s=t.slice(0,r.index),f=[...t.slice(r.index),...s].find(u=>a.includes(u));if(!f)return n;let b=(d=t.indexOf(f))!=null?d:e.selectedIndex;return b===-1&&(b=e.selectedIndex),{...n,selectedIndex:b}},[1](e,r){if(e.tabs.includes(r.tab))return e;let t=e.tabs[e.selectedIndex],l=w([...e.tabs,r.tab],n=>n.current),a=e.selectedIndex;return e.info.current.isControlled||(a=l.indexOf(t),a===-1&&(a=e.selectedIndex)),{...e,tabs:l,selectedIndex:a}},[2](e,r){return{...e,tabs:e.tabs.filter(t=>t!==r.tab)}},[3](e,r){return e.panels.includes(r.panel)?e:{...e,panels:w([...e.panels,r.panel],t=>t.current)}},[4](e,r){return{...e,panels:e.panels.filter(t=>t!==r.panel)}}},z=re(null);z.displayName=\"TabsDataContext\";function h(e){let r=ne(z);if(r===null){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,h),t}return r}let V=re(null);V.displayName=\"TabsActionsContext\";function Q(e){let r=ne(V);if(r===null){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Q),t}return r}function Fe(e,r){return O(r.type,De,e,r)}let Ie=\"div\";function he(e,r){let{defaultIndex:t=0,vertical:l=!1,manual:a=!1,onChange:n,selectedIndex:s=null,...g}=e;const f=l?\"vertical\":\"horizontal\",b=a?\"manual\":\"auto\";let d=s!==null,u=j({isControlled:d}),T=H(r),[p,c]=fe(Fe,{info:u,selectedIndex:s!=null?s:t,tabs:[],panels:[]}),v=U({selectedIndex:p.selectedIndex}),m=j(n||(()=>{})),C=j(p.tabs),D=ae(()=>({orientation:f,activation:b,...p}),[f,b,p]),P=F(i=>(c({type:1,tab:i}),()=>c({type:2,tab:i}))),R=F(i=>(c({type:3,panel:i}),()=>c({type:4,panel:i}))),A=F(i=>{L.current!==i&&m.current(i),d||c({type:0,index:i})}),L=j(d?e.selectedIndex:p.selectedIndex),_=ae(()=>({registerTab:P,registerPanel:R,change:A}),[]);W(()=>{c({type:0,index:s!=null?s:t})},[s]),W(()=>{if(L.current===void 0||p.tabs.length<=0)return;let i=w(p.tabs,S=>S.current);i.some((S,$)=>p.tabs[$]!==S)&&A(i.indexOf(p.tabs[L.current]))});let J={ref:T},X=k();return G.createElement(Re,null,G.createElement(V.Provider,{value:_},G.createElement(z.Provider,{value:D},D.tabs.length<=0&&G.createElement(xe,{onFocus:()=>{var i,M;for(let S of C.current)if(((i=S.current)==null?void 0:i.tabIndex)===0)return(M=S.current)==null||M.focus(),!0;return!1}}),X({ourProps:J,theirProps:g,slot:v,defaultTag:Ie,name:\"Tabs\"}))))}let ve=\"div\";function Ce(e,r){let{orientation:t,selectedIndex:l}=h(\"Tab.List\"),a=H(r),n=U({selectedIndex:l}),s=e,g={ref:a,role:\"tablist\",\"aria-orientation\":t};return k()({ourProps:g,theirProps:s,slot:n,defaultTag:ve,name:\"Tabs.List\"})}let Me=\"button\";function Ge(e,r){var Y,Z;let t=le(),{id:l=`headlessui-tabs-tab-${t}`,disabled:a=!1,autoFocus:n=!1,...s}=e,{orientation:g,activation:f,selectedIndex:b,tabs:d,panels:u}=h(\"Tab\"),T=Q(\"Tab\"),p=h(\"Tab\"),[c,v]=me(null),m=q(null),C=H(m,r,v);W(()=>T.registerTab(m),[T,m]);let D=ie(\"tabs\"),P=d.indexOf(m);P===-1&&(P=D);let R=P===b,A=F(o=>{let E=o();if(E===K.Success&&f===\"auto\"){let ee=Ee(m.current),B=p.tabs.findIndex(ce=>ce.current===ee);B!==-1&&T.change(B)}return E}),L=F(o=>{let E=d.map(B=>B.current).filter(Boolean);if(o.key===x.Space||o.key===x.Enter){o.preventDefault(),o.stopPropagation(),T.change(P);return}switch(o.key){case x.Home:case x.PageUp:return o.preventDefault(),o.stopPropagation(),A(()=>I(E,y.First));case x.End:case x.PageDown:return o.preventDefault(),o.stopPropagation(),A(()=>I(E,y.Last))}if(A(()=>O(g,{vertical(){return o.key===x.ArrowUp?I(E,y.Previous|y.WrapAround):o.key===x.ArrowDown?I(E,y.Next|y.WrapAround):K.Error},horizontal(){return o.key===x.ArrowLeft?I(E,y.Previous|y.WrapAround):o.key===x.ArrowRight?I(E,y.Next|y.WrapAround):K.Error}}))===K.Success)return o.preventDefault()}),_=q(!1),J=F(()=>{var o;_.current||(_.current=!0,(o=m.current)==null||o.focus({preventScroll:!0}),T.change(P),Ae(()=>{_.current=!1}))}),X=F(o=>{o.preventDefault()}),{isFocusVisible:i,focusProps:M}=te({autoFocus:n}),{isHovered:S,hoverProps:$}=be({isDisabled:a}),{pressed:pe,pressProps:ue}=Pe({disabled:a}),Te=U({selected:R,hover:S,active:pe,focus:i,autofocus:n,disabled:a}),de=se({ref:C,onKeyDown:L,onMouseDown:X,onClick:J,id:l,role:\"tab\",type:ye(e,c),\"aria-controls\":(Z=(Y=u[P])==null?void 0:Y.current)==null?void 0:Z.id,\"aria-selected\":R,tabIndex:R?0:-1,disabled:a||void 0,autoFocus:n},M,$,ue);return k()({ourProps:de,theirProps:s,slot:Te,defaultTag:Me,name:\"Tabs.Tab\"})}let Ue=\"div\";function He(e,r){let{selectedIndex:t}=h(\"Tab.Panels\"),l=H(r),a=U({selectedIndex:t}),n=e,s={ref:l};return k()({ourProps:s,theirProps:n,slot:a,defaultTag:Ue,name:\"Tabs.Panels\"})}let we=\"div\",Oe=oe.RenderStrategy|oe.Static;function Ne(e,r){var R,A,L,_;let t=le(),{id:l=`headlessui-tabs-panel-${t}`,tabIndex:a=0,...n}=e,{selectedIndex:s,tabs:g,panels:f}=h(\"Tab.Panel\"),b=Q(\"Tab.Panel\"),d=q(null),u=H(d,r);W(()=>b.registerPanel(d),[b,d]);let T=ie(\"panels\"),p=f.indexOf(d);p===-1&&(p=T);let c=p===s,{isFocusVisible:v,focusProps:m}=te(),C=U({selected:c,focus:v}),D=se({ref:u,id:l,role:\"tabpanel\",\"aria-labelledby\":(A=(R=g[p])==null?void 0:R.current)==null?void 0:A.id,tabIndex:c?a:-1},m),P=k();return!c&&((L=n.unmount)==null||L)&&!((_=n.static)!=null&&_)?G.createElement(ge,{\"aria-hidden\":\"true\",...D}):P({ourProps:D,theirProps:n,slot:C,defaultTag:we,features:Oe,visible:c,name:\"Tabs.Panel\"})}let ke=N(Ge),Be=N(he),We=N(Ce),je=N(He),Ke=N(Ne),dt=Object.assign(ke,{Group:Be,List:We,Panels:je,Panel:Ke});export{dt as Tab,Be as TabGroup,We as TabList,Ke as TabPanel,je as TabPanels};\n","import * as React from \"react\";\nfunction ChevronDownIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 16 16\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M4.22 6.22a.75.75 0 0 1 1.06 0L8 8.94l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 7.28a.75.75 0 0 1 0-1.06Z\",\n    clipRule: \"evenodd\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ChevronDownIcon);\nexport default ForwardRef;","import React, { useState } from \"react\"\r\nimport { Link } from \"gatsby\"\r\nimport Layout from \"../components/layout\"\r\nimport Bg from \"../images/bg.png\"\r\nimport { ChevronRightIcon } from \"@heroicons/react/16/solid\"\r\nimport PopEmpMap from \"../components/popempmap\"\r\nimport {\r\n  Tab,\r\n  TabGroup,\r\n  TabList,\r\n  TabPanel,\r\n  TabPanels,\r\n  Menu,\r\n  MenuButton,\r\n  MenuItem,\r\n  MenuItems,\r\n} from \"@headlessui/react\"\r\nimport { ChevronDownIcon } from \"@heroicons/react/16/solid\"\r\n\r\nconst Tabs = ({ selectedLayer }) => {\r\n  return (\r\n    <div className=\"flex justify-center z-100 h-full\">\r\n      <TabGroup className=\"w-full h-full flex flex-col\">\r\n        <TabList className=\"flex gap-4 bg-[#16819a] text-white p-3\">\r\n          <Tab className=\"px-3\">Population Forecasts</Tab>\r\n          <Tab className=\"px-3\">Employment Forecasts</Tab>\r\n        </TabList>\r\n        <TabPanels className=\"bg-[#093446] p-3 text-white flex-1\">\r\n          <TabPanel className=\"p-3\">\r\n            <p>\r\n              By 2050, the Greater Philadelphia region is projected to add about\r\n              450,000 new residents, bringing the total population to more than\r\n              6.3 milliona 7% increase since 2020.\r\n            </p>\r\n          </TabPanel>\r\n          <TabPanel className=\"p-3\">\r\n            <p>\r\n              By 2050, the region is expected to gain 356,000 new jobs, an\r\n              increase of more than 10% since 2020, with growth across a wide\r\n              range of industries. Explore the web map to view absolute change,\r\n              percent change, and total forecasted employment by municipality\r\n              throughout the region.\r\n            </p>\r\n          </TabPanel>\r\n        </TabPanels>\r\n      </TabGroup>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst WhatIsThePlan = () => {\r\n  const [selectedLayer, setSelectedLayer] = useState(\"popABS\")\r\n  const layers = [\"popABS\", \"popPER\", \"pop\"]\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"bg-[#cce5f3] flex flex-col items-center\">\r\n        <div className=\"w-full h-full\">\r\n          <img src={Bg} className=\"absolute object-cover h-2/5 w-full\" />\r\n          <div className=\"flex text-white font-bold w-[70%] mx-auto z-50 relative items-center underline mt-4\">\r\n            <Link>Home</Link>\r\n            <ChevronRightIcon width=\"1.5%\" />\r\n            <Link>Forces</Link>\r\n          </div>\r\n        </div>\r\n        <div className=\"text-[#dfebf5] mx-auto w-[70%] bg-[#0c2e39] flex flex-col relative px-12 py-6 space-y-6 mt-[10%]\">\r\n          <h2 className=\"text-3xl font-bold\">Where Are We Headed?</h2>\r\n          <p className=\"text-2xl pb-0 z-50\">\r\n            Forecasts help planners understand how the Greater Philadelphia\r\n            region might grow in the coming decades and how that growth will\r\n            affect housing, transportation, jobs, and quality of life.\r\n          </p>\r\n          <p className=\"text-2xl pb-0 z-50\">\r\n            While no one can predict the future, population and employment\r\n            forecasts give us a roadmap to make smarter investments in roads,\r\n            buses, trains, and communities. Overall, the region is expected to\r\n            see steady growth in both people and jobs through 2050.\r\n          </p>\r\n        </div>\r\n        <div className=\"w-[68%] bg-[#eef4fb] relative ml-[2%] border-l-4 border-[#0c2e39]\">\r\n          <div className=\"flex flex-col space-y-6 m-6 \">\r\n            <p>\r\n              Explore the web map to view absolute change, percent change, and\r\n              total forecasted population by municipality throughout the region.\r\n            </p>\r\n            <div className=\"relative h-full\">\r\n              <div className=\"absolute z-[100] h-full w-1/4\">\r\n                <Tabs />\r\n              </div>\r\n              <PopEmpMap selectedLayer={selectedLayer} />\r\n              <div className=\"absolute right-0 top-0 w-52\">\r\n                <Menu>\r\n                  <MenuButton className=\"inline-flex items-center gap-2 rounded-md bg-white px-3 py-1.5 text-black w-full\">\r\n                    Select Layer\r\n                    <ChevronDownIcon className=\"ml-auto size-4 fill-black\" />\r\n                  </MenuButton>\r\n\r\n                  <MenuItems\r\n                    transition\r\n                    anchor=\"bottom end\"\r\n                    className=\"w-52 rounded-xl border bg-white p-1 text-black transition duration-100 ease-out\"\r\n                  >\r\n                    <MenuItem>\r\n                      <button\r\n                        className=\"group flex gap-2 rounded-lg px-3 py-1.5 data-focus:bg-white/10 text-left\"\r\n                        onClick={() => setSelectedLayer(\"popABS\")}\r\n                      >\r\n                        Absolute Change in Population\r\n                      </button>\r\n                    </MenuItem>\r\n                    <MenuItem>\r\n                      <button\r\n                        className=\"group flex gap-2 rounded-lg px-3 py-1.5 data-focus:bg-white/10 text-left\"\r\n                        onClick={() => setSelectedLayer(\"popPER\")}\r\n                      >\r\n                        Percent Change in Population\r\n                      </button>\r\n                    </MenuItem>\r\n                    <MenuItem>\r\n                      <button\r\n                        className=\"group flex items-center gap-2 rounded-lg px-3 py-1.5 data-focus:bg-white/10 text-left\"\r\n                        onClick={() => setSelectedLayer(\"pop\")}\r\n                      >\r\n                        2050 Population Forecast\r\n                      </button>\r\n                    </MenuItem>\r\n                  </MenuItems>\r\n                </Menu>\r\n              </div>\r\n            </div>\r\n            {(selectedLayer === \"popPER\" || selectedLayer === \"popABS\") && (\r\n              <>\r\n                <p>\r\n                  Most new residents will live in the regions cities, but the\r\n                  fastest growth is expected in Pennsylvanias suburban\r\n                  counties, especially Montgomery and Chester. Philadelphia is\r\n                  projected to gain about 130,000 people, nearly one-third of\r\n                  all regional growth. Together, Philadelphia, Montgomery, and\r\n                  Chester counties will account for almost three-fourths of the\r\n                  total population increase.\r\n                </p>\r\n                <p>\r\n                  The regions population is also getting older. Fewer births\r\n                  and longer lifespans mean that by 2050, the share of residents\r\n                  aged 65 and older will grow by nearly 50%, while those under\r\n                  30 will decline slightly. This shift mirrors national trends\r\n                  and will influence everything from healthcare needs to\r\n                  workforce availability.\r\n                </p>\r\n                <p>\r\n                  The regions population is also getting older. Fewer births\r\n                  and longer lifespans mean that by 2050, the share of residents\r\n                  aged 65 and older will grow by nearly 50%, while those under\r\n                  30 will decline slightly. This shift mirrors national trends\r\n                  and will influence everything from healthcare needs to\r\n                  workforce availability.\r\n                </p>\r\n              </>\r\n            )}\r\n            {selectedLayer === \"pop\" && (\r\n              <>\r\n                <p>\r\n                  The healthcare and social services sector will remain the\r\n                  regions largest employer, expanding as the population ages\r\n                  and demand for care increases. Transportation and warehousing\r\n                  jobs are expected to grow rapidly due to e-commerce and\r\n                  expanded delivery networks.\r\n                </p>\r\n                <p>\r\n                  The healthcare and social services sector will remain the\r\n                  regions largest employer, expanding as the population ages\r\n                  and demand for care increases. Transportation and warehousing\r\n                  jobs are expected to grow rapidly due to e-commerce and\r\n                  expanded delivery networks.\r\n                </p>\r\n                <p>\r\n                  By 2050, total regional employment is forecast to reach nearly\r\n                  4 million jobs.\r\n                  <ul className=\"list-disc ml-4\">\r\n                    <li>\r\n                      Philadelphia will see the largest share of job growth,\r\n                      with about 25% of the total increase.\r\n                    </li>\r\n                    <li>\r\n                      Montgomery and Chester counties will also expand, with 16%\r\n                      and 13% more jobs, respectively.\r\n                    </li>\r\n                    <li>\r\n                      Other counties across the region will experience steady,\r\n                      diversified growth.\r\n                    </li>\r\n                  </ul>\r\n                </p>\r\n                <p>\r\n                  These trends point to an economy driven by healthcare,\r\n                  logistics, and service jobs, supported by a stable workforce\r\n                  and a broad mix of industries across the region.\r\n                </p>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport default WhatIsThePlan\r\n","import * as React from \"react\";\nfunction ChevronRightIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 16 16\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M6.22 4.22a.75.75 0 0 1 1.06 0l3.25 3.25a.75.75 0 0 1 0 1.06l-3.25 3.25a.75.75 0 0 1-1.06-1.06L8.94 8 6.22 5.28a.75.75 0 0 1 0-1.06Z\",\n    clipRule: \"evenodd\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ChevronRightIcon);\nexport default ForwardRef;"],"names":["MountedMapsContext","noOp","unproxiedMethods","Set","createProxyTransform","tr","internalUpdate","reactViewState","controlledTransform","proposedTransform","handlers","get","target","prop","z","Number","isFinite","zoom","v","longitude","latitude","pitch","bearing","clone","has","parms","set","value","constrain","_constrain","calcMatrices","_calcMatrices","padding","isPaddingEqual","center","_center","constructor","lng","lat","_centerAltitude","elevation","_seaLevelZoom","mercatorElevation","pixelsPerMeter","worldSize","altitude","_mercatorZfromZoom","minHeight","_maxZoom","height","Math","max","_setZoom","_zoomFromMercatorZ","_unmodified","applyViewStateToTransform","controlledValue","Proxy","refProps","normalizeStyle","style","toJS","layers","layerIndex","layer","id","map","normalizedLayer","Object","assign","interactive","layerRef","ref","propName","deepEqual","a","b","Array","isArray","length","i","aKeys","keys","bKeys","key","hasOwnProperty","DEFAULT_STYLE","version","sources","pointerEvents","mousedown","mouseup","mouseover","mousemove","click","dblclick","mouseenter","mouseleave","mouseout","contextmenu","touchstart","touchend","touchmove","touchcancel","cameraEvents","movestart","move","moveend","dragstart","drag","dragend","zoomstart","zoomend","rotatestart","rotate","rotateend","pitchstart","pitchend","otherEvents","wheel","boxzoomstart","boxzoomend","boxzoomcancel","resize","load","render","idle","remove","data","styledata","sourcedata","error","settingNames","handlerNames","Mapbox","MapClass","props","container","this","_map","_internalUpdate","_inRender","_hoveredFeatures","_deferredEvents","_onEvent","e","cb","type","console","_onPointerEvent","_updateHover","interactiveLayerIds","features","_queryRenderedFeatures","point","_onCameraEvent","_proxyTransform","viewState","transformToViewState","$proposedTransform","_MapClass","_initialize","transform","setProps","oldProps","settingsChanged","_updateSettings","_createProxyTransform","sizeChanged","_updateSize","viewStateChanged","_updateViewState","_updateStyle","_updateStyleComponents","_updateHandlers","isMoving","redraw","reuse","that","savedMaps","pop","oldContainer","getContainer","className","childNodes","appendChild","_container","styleDiffing","initialViewState","bounds","fitBounds","fitBoundsOptions","duration","isStyleLoaded","fire","once","_update","mapStyle","mapOptions","accessToken","mapboxAccessToken","getAccessTokenFromEnv","gl","getContext","HTMLCanvasElement","prototype","setPadding","cursor","getCanvas","renderMap","_render","arg","call","runRenderTaskQueue","_renderTaskQueue","run","$internalUpdate","_fireDefferedEvents","jumpTo","args","apply","fireEvent","_fireEvent","bind","on","eventName","recycle","children","querySelector","push","destroy","_frame","cancel","proxyTransform","painter","nextProps","width","triggerEvents","changed","compareViewStateWithTransform","$reactViewState","deferredEvents","currProps","setter","toUpperCase","slice","options","diff","localIdeographFontFamily","setStyle","setLight","light","setFog","fog","setTerrain","terrain","getSource","source","newValue","enable","disable","queryRenderedFeatures","filter","getLayer","onMouseMove","onMouseEnter","onMouseLeave","eventType","wasHovering","isHovering","baseFire","event","properties","internal","location","match","exec","search","MapboxAccessToken","REACT_APP_MAPBOX_ACCESS_TOKEN","skipMethods","createRef","mapInstance","getMap","getCenter","getZoom","getBearing","getPitch","getPadding","getBounds","project","lnglat","result","unproject","queryTerrainElevation","geometry","obj","proto","getOwnPropertyNames","add","getPrototypeOf","from","getMethodNames","includes","document","useLayoutEffect","useEffect","globalSettings","mountedMapsContext","useContext","setMapInstance","useState","containerRef","useRef","current","contextValue","mapLib","mapbox","isMounted","Promise","resolve","then","module","Error","mapboxgl","default","Map","RTLTextPlugin","getRTLTextPluginStatus","setRTLTextPlugin","setGlobals","reuseMaps","onMapMount","catch","onError","onMapUnmount","useImperativeHandle","useMemo","position","Provider","unitlessNumber","applyReactStyle","element","styles","test","compareClassNames","prevClassName","nextClassName","prevClassList","getClassList","nextClassList","c","trim","split","memo","forwardRef","thisRef","marker","hasChildren","forEach","el","createElement","mk","Marker","setLngLat","getElement","addEventListener","onClick","originalEvent","evt","lngLat","getLngLat","onDragStart","onDrag","onDragEnd","addTo","offset","draggable","popup","rotation","rotationAlignment","pitchAlignment","ax","x","ay","y","bx","by","arePointsEqual","getOffset","setOffset","isDraggable","setDraggable","getRotation","setRotation","getRotationAlignment","setRotationAlignment","getPitchAlignment","setPitchAlignment","getPopup","setPopup","classNameDiff","toggleClassName","createPortal","pp","Popup","onOpen","onClose","setDOMContent","off","isOpen","anchor","maxWidth","setMaxWidth","useControl","onCreate","arg1","arg2","arg3","context","ctrl","opts","onAdd","onRemove","hasControl","addControl","removeControl","AttributionControl","FullscreenControl","containerId","getElementById","_controlContainer","gc","GeolocateControl","setupUI","_setupUI","hasChildNodes","onGeolocate","onOutOfMaxBounds","onTrackUserLocationStart","onTrackUserLocationEnd","NavigationControl","ScaleControl","propsRef","prevProps","undefined","unit","setUnit","assert","condition","message","sourceCounter","Source","setStyleLoaded","forceUpdate","setTimeout","_loaded","allLayers","getStyle","removeLayer","removeSource","changedKey","changedKeyCount","setData","updateImage","url","coordinates","setCoordinates","setUrl","setTiles","tiles","warn","updateSource","addSource","createSource","child","cloneElement","layerCounter","Layer","layout","paint","minzoom","maxzoom","beforeId","moveLayer","prevLayout","setLayoutProperty","prevPaint","setPaintProperty","setFilter","setLayerZoomRange","updateLayer","addLayer","createLayer","mapRef","maxExtent","LngLatBounds","clickedFeature","setClickedFeature","setCursor","useCallback","minZoom","feature","secondaryMapLayers","base","stops","selectedLayer","s","None","Focusable","Hidden","t","r","n","d","o","hidden","top","left","margin","overflow","clip","whiteSpace","borderWidth","display","ourProps","theirProps","slot","defaultTag","name","onFocus","u","as","preventDefault","requestAnimationFrame","cancelAnimationFrame","groups","indexOf","delete","Le","Forwards","Backwards","_e","l","Less","Equal","Greater","Se","SetSelectedIndex","RegisterTab","UnregisterTab","RegisterPanel","UnregisterPanel","De","tabs","panels","T","hasAttribute","index","sign","selectedIndex","f","find","tab","info","isControlled","panel","h","captureStackTrace","displayName","V","Q","Fe","Oe","RenderStrategy","Static","ke","Y","Z","disabled","autoFocus","orientation","g","activation","p","m","C","registerTab","D","P","R","A","E","Success","ee","B","findIndex","ce","change","L","Boolean","Space","Enter","stopPropagation","Home","PageUp","First","End","PageDown","Last","vertical","ArrowUp","Previous","WrapAround","ArrowDown","Next","horizontal","ArrowLeft","ArrowRight","_","J","focus","preventScroll","X","isFocusVisible","focusProps","M","isHovered","S","hoverProps","$","isDisabled","pressed","pe","pressProps","ue","Te","selected","hover","active","autofocus","de","onKeyDown","onMouseDown","role","tabIndex","Be","defaultIndex","manual","onChange","registerPanel","some","We","je","Ke","unmount","static","visible","dt","Group","List","Panels","Panel","ChevronDownIcon","title","titleId","svgRef","xmlns","viewBox","fill","fillRule","clipRule","Tabs","setSelectedLayer","src","Bg","ChevronRightIcon","transition","ForwardRef"],"sourceRoot":""}