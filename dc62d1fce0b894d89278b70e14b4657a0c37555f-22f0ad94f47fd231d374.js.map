{"version":3,"file":"dc62d1fce0b894d89278b70e14b4657a0c37555f-22f0ad94f47fd231d374.js","mappings":"oIAAA,IAAe,IAA0B,gD,qECoFzC,IA/EiB,IAA6B,IAA5B,SAAEA,EAAQ,SAAEC,GAAU,EACtC,MAAMC,GAASC,EAAAA,EAAAA,UACTC,EAAY,IAAIC,EAAAA,aAAa,CACjC,EAAE,kBAAmB,mBACrB,EAAE,kBAAmB,uBAEjB,EAACC,EAAe,EAACC,IAAqBC,EAAAA,EAAAA,UAAS,OAC/C,EAACC,EAAO,EAACC,IAAaF,EAAAA,EAAAA,UAAS,QAa/BG,GAAeC,EAAAA,EAAAA,aAAY,IAAMF,EAAU,WAAY,IACvDG,GAAeD,EAAAA,EAAAA,aAAY,IAAMF,EAAU,QAAS,IAE1D,OACE,uBAAKI,UAAU,oBACb,gBAAC,KAAG,CACFC,SAAS,yDACTC,oBAAqB,CAAC,eACtBC,IAAKf,EACLgB,iBAAkB,CAAEC,OAAQf,GAC5BgB,kBAAkB,yGAClBC,QAAS,EACTC,QAvBUC,IACd,MAAMC,EAAUD,EAAMtB,SAAS,GAC3BuB,GACFjB,EAAkB,CAChBiB,QAASA,EACTC,SAAUF,EAAMG,OAAOC,IACvBC,UAAWL,EAAMG,OAAOG,OAkBxBpB,OAAQA,EACRE,aAAcA,EACdE,aAAcA,GAEbb,EACD,gBAAC,KAAM,CACL8B,GAAG,aACHC,KAAK,SACLC,IAAI,qDAEJ,gBAAC,KAAK,CACJF,GAAG,UACHC,KAAK,OACL,eAAa,SACbE,MAAO,CACL,aAAc,UACd,eAAgB,IAElBC,OAAQ,CAAC,KAAM,QAAS,SAG1B,gBAAC,KAAK,CACJJ,GAAG,uBACHC,KAAK,OACL,eAAa,iBACbE,MAAO,CACL,aAAc,GACd,aAAc,aAIlB,gBAAC,KAAK,CACJH,GAAG,iBACHC,KAAK,OACL,eAAa,SACbE,MAAO,CACL,aAAc,IACd,aAAc,a,mICxErB,MAAME,EAAqB,gBAAoB,MC6CtD,SAASC,IAAS,CC3ClB,MAAMC,EAAmB,IAAIC,IAAI,CAC7B,gBACA,mBACA,qBACA,wBAEG,SAASC,EAAqBC,GACjC,IAAIC,GAAiB,EACjBC,EAAiB,CAAC,EAKtB,MAAMC,EAAsBH,EAI5B,IAAII,EAAoB,KACxB,MAAMC,EAAW,CACb,GAAAC,CAAIC,EAAQC,GAER,MAAa,oBAATA,EACON,EAEE,uBAATM,EACOJ,EAEE,oBAATI,EACOP,EAGE,aAATO,EACQC,IACAR,GACAG,IAAoBI,GAAMC,GAEzBC,OAAOC,SAAST,EAAeU,OAChCT,EAAoBK,GAAMC,KAKlCR,GACS,gCAATO,ID/BsBK,ECgCAX,ED/B1BQ,OAAOC,SAASE,EAAEzB,YACtBsB,OAAOC,SAASE,EAAE5B,WAClByB,OAAOC,SAASE,EAAED,OAClBF,OAAOC,SAASE,EAAEC,QAClBJ,OAAOC,SAASE,EAAEE,YC4BVX,EAAoBA,GAAqBD,EAAoBa,SAE7DnB,EAAiBoB,IAAIT,GAEd,YAAaU,GAChBd,IAAoBI,MAASU,GAC7Bf,EAAoBK,MAASU,EACjC,EAGAjB,GAAkBG,EACXA,EAAkBI,GAGtBL,EAAoBK,ID/ChC,IAA+BK,CCgD9B,EACA,GAAAM,CAAIZ,EAAQC,EAAMY,GAEd,GAAa,oBAATZ,EAGA,OAFAN,EAAiBkB,EDd1B,SAAmCpB,EAAIa,GAG1C,MAAMQ,EAAYrB,EAAGsB,WAEfC,EAAevB,EAAGwB,cAYxB,GAXAxB,EAAGsB,WAAa1B,EAChBI,EAAGwB,cAAgB5B,EACfc,OAAOC,SAASE,EAAEE,WAClBf,EAAGe,QAAUF,EAAEE,SAEfL,OAAOC,SAASE,EAAEC,SAClBd,EAAGc,MAAQD,EAAEC,OAEbD,EAAEY,UAAYzB,EAAG0B,eAAeb,EAAEY,WAClCzB,EAAGyB,QAAUZ,EAAEY,SAEff,OAAOC,SAASE,EAAEzB,YAAcsB,OAAOC,SAASE,EAAE5B,UAAW,CAC7D,MAAM0C,EAAS3B,EAAG2B,OAElB3B,EAAG4B,QAAU,IAAID,EAAOE,YAAYhB,EAAEzB,WAAauC,EAAOtC,IAAKwB,EAAE5B,UAAY0C,EAAOxC,IACxF,CACA,GAAIuB,OAAOC,SAASE,EAAED,MAElB,GADAZ,EAAG8B,gBAAkBjB,EAAEkB,WAAa,EAChC/B,EAAG+B,UAAW,CACd/B,EAAGgC,cAAgBnB,EAAED,KACrB,MAAMqB,EAAqBjC,EAAGkC,eAAiBlC,EAAGmC,UAAanC,EAAG8B,gBAC5DM,EAAWpC,EAAGqC,mBAAmBxB,EAAED,MACnC0B,EAAYtC,EAAGqC,mBAAmBrC,EAAGuC,UACrCC,EAASC,KAAKC,IAAIN,EAAWH,EAAmBK,GACtDtC,EAAG2C,SAAS3C,EAAG4C,mBAAmBJ,GACtC,MAEIxC,EAAGgC,cAAgB,KACnBhC,EAAGY,KAAOC,EAAED,KAIpBZ,EAAGsB,WAAaD,EAChBrB,EAAGwB,cAAgBD,EACdvB,EAAG6C,cACJ7C,EAAGsB,aACHtB,EAAGwB,gBAEX,CC7BgBsB,CAA0B3C,EAAqBD,IACxC,EAEX,GAAa,uBAATM,EAEA,OADAJ,EAAoBgB,GACb,EAEX,GAAa,oBAATZ,EAEA,OADAP,EAAiBmB,GACV,EAGX,IAAI2B,EAAkB3B,EAoCtB,MAnCa,WAATZ,GAA8B,YAATA,GACjBE,OAAOC,SAAST,EAAed,YAAcsB,OAAOC,SAAST,EAAejB,aAE5E8D,EAAkB,IAAI3B,EAAMS,YAAY3B,EAAed,WAAagC,EAAM/B,IAAKa,EAAejB,UAAYmC,EAAMjC,MAGtG,SAATqB,GAA4B,UAATA,GAA6B,kBAATA,EACxCE,OAAOC,SAAST,EAAeU,QAC/BmC,EAAkB5C,EAAoBK,IAG5B,oBAATA,EACDE,OAAOC,SAAST,EAAe6B,aAC/BgB,EAAkB5C,EAAoBK,IAG5B,UAATA,GAA6B,WAATA,EACrBE,OAAOC,SAAST,EAAeY,SAC/BiC,EAAkB5C,EAAoBK,IAG5B,YAATA,GAA+B,aAATA,GAAgC,UAATA,GAC9CE,OAAOC,SAAST,EAAea,WAC/BgC,EAAkB5C,EAAoBK,IAI1CP,GAAkB8C,IAAoB3B,IACtChB,EAAoBA,GAAqBD,EAAoBa,SAE7Df,GAAkBG,IAClBA,EAAkBI,GAAQY,GAG9BjB,EAAoBK,GAAQuC,GACrB,CACX,GAEJ,OAAO,IAAIC,MAAMhD,EAAIK,EACzB,CC1HA,MAAM4C,EAAW,CAAC,OAAQ,SAAU,eAAgB,UAAW,UAAW,SAAU,UAI7E,SAASC,EAAeC,GAC3B,IAAKA,EACD,OAAO,KAEX,GAAqB,iBAAVA,EACP,OAAOA,EAKX,GAHI,SAAUA,IACVA,EAAQA,EAAMC,SAEbD,EAAME,OACP,OAAOF,EAEX,MAAMG,EAAa,CAAC,EACpB,IAAK,MAAMC,KAASJ,EAAME,OACtBC,EAAWC,EAAMjE,IAAMiE,EAE3B,MAAMF,EAASF,EAAME,OAAOG,IAAID,IAC5B,IAAIE,EAAkB,KAClB,gBAAiBF,IACjBE,EAAkBC,OAAOC,OAAO,CAAC,EAAGJ,UAG7BE,EAAgBG,aAI3B,MAAMC,EAAWP,EAAWC,EAAM9E,KAClC,GAAIoF,EAAU,CACVJ,EAAkBA,GAAmBC,OAAOC,OAAO,CAAC,EAAGJ,UAEhDE,EAAgBhF,IAEvB,IAAK,MAAMqF,KAAYb,EACfa,KAAYD,IACZJ,EAAgBK,GAAYD,EAASC,GAGjD,CACA,OAAOL,GAAmBF,IAG9B,MAAO,IAAKJ,EAAOE,SACvB,CC3BO,SAASU,EAAUC,EAAGC,GACzB,GAAID,IAAMC,EACN,OAAO,EAEX,IAAKD,IAAMC,EACP,OAAO,EAEX,GAAIC,MAAMC,QAAQH,GAAI,CAClB,IAAKE,MAAMC,QAAQF,IAAMD,EAAEI,SAAWH,EAAEG,OACpC,OAAO,EAEX,IAAK,IAAIC,EAAI,EAAGA,EAAIL,EAAEI,OAAQC,IAC1B,IAAKN,EAAUC,EAAEK,GAAIJ,EAAEI,IACnB,OAAO,EAGf,OAAO,CACX,CACK,GAAIH,MAAMC,QAAQF,GACnB,OAAO,EAEX,GAAiB,iBAAND,GAA+B,iBAANC,EAAgB,CAChD,MAAMK,EAAQZ,OAAOa,KAAKP,GACpBQ,EAAQd,OAAOa,KAAKN,GAC1B,GAAIK,EAAMF,SAAWI,EAAMJ,OACvB,OAAO,EAEX,IAAK,MAAMK,KAAOH,EAAO,CACrB,IAAKL,EAAES,eAAeD,GAClB,OAAO,EAEX,IAAKV,EAAUC,EAAES,GAAMR,EAAEQ,IACrB,OAAO,CAEf,CACA,OAAO,CACX,CACA,OAAO,CACX,CCtDA,MAAME,EAAgB,CAAEC,QAAS,EAAGC,QAAS,CAAC,EAAGxB,OAAQ,IACnDyB,EAAgB,CAClBC,UAAW,cACXC,QAAS,YACTC,UAAW,cACXC,UAAW,cACXC,MAAO,UACPC,SAAU,aACVC,WAAY,eACZC,WAAY,eACZC,SAAU,aACVC,YAAa,gBACbC,WAAY,eACZC,SAAU,aACVC,UAAW,cACXC,YAAa,iBAEXC,EAAe,CACjBC,UAAW,cACXC,KAAM,SACNC,QAAS,YACTC,UAAW,cACXC,KAAM,SACNC,QAAS,YACTC,UAAW,cACXxF,KAAM,SACNyF,QAAS,YACTC,YAAa,gBACbC,OAAQ,WACRC,UAAW,cACXC,WAAY,eACZ3F,MAAO,UACP4F,SAAU,cAERC,EAAc,CAChBC,MAAO,UACPC,aAAc,iBACdC,WAAY,eACZC,cAAe,kBACfC,OAAQ,WACRC,KAAM,SACNC,OAAQ,WACRC,KAAM,SACNC,OAAQ,WACRC,KAAM,SACNC,UAAW,cACXC,WAAY,eACZC,MAAO,WAELC,EAAe,CACjB,UACA,UACA,WACA,WACA,YACA,aACA,qBAEEC,EAAe,CACjB,aACA,UACA,aACA,UACA,WACA,kBACA,kBACA,cAKJ,MAAMC,EACF,WAAA9F,CAAY+F,EAAUC,EAAOC,GAEzBC,KAAKC,KAAO,KAGZD,KAAKE,iBAAkB,EAEvBF,KAAKG,WAAY,EAEjBH,KAAKI,iBAAmB,KAKxBJ,KAAKK,gBAAkB,CACnBrC,MAAM,EACNnF,MAAM,EACNE,OAAO,EACPyF,QAAQ,GAEZwB,KAAKM,SAAYC,IAEb,MAAMC,EAAKR,KAAKF,MAAMlB,EAAY2B,EAAE/I,OAChCgJ,EACAA,EAAGD,GAEa,UAAXA,EAAE/I,MACPiJ,QAAQhB,MAAMc,EAAEd,QAGxBO,KAAKU,gBAAmBH,IACL,cAAXA,EAAE/I,MAAmC,aAAX+I,EAAE/I,MAC5BwI,KAAKW,aAAaJ,GAGtB,MAAMC,EAAKR,KAAKF,MAAM/C,EAAcwD,EAAE/I,OAClCgJ,IACIR,KAAKF,MAAMrJ,qBAAkC,cAAX8J,EAAE/I,MAAmC,aAAX+I,EAAE/I,OAC9D+I,EAAE7K,SAAWsK,KAAKI,kBAAoBJ,KAAKY,uBAAuBL,EAAEM,QAExEL,EAAGD,UACIA,EAAE7K,WAGjBsK,KAAKc,eAAkBP,IACnB,IAAKP,KAAKE,gBAAiB,CAEvB,MAAMM,EAAKR,KAAKF,MAAMhC,EAAayC,EAAE/I,OAC/BS,EAAK+H,KAAKe,gBACZP,IACAD,EAAES,UJzHf,SAA8B/I,GACjC,MAAO,CACHZ,UAAWY,EAAG2B,OAAOtC,IACrBJ,SAAUe,EAAG2B,OAAOxC,IACpByB,KAAMZ,EAAGgC,eAAiBhC,EAAGY,KAC7BE,MAAOd,EAAGc,MACVC,QAASf,EAAGe,QACZU,QAASzB,EAAGyB,QACZM,UAAW/B,EAAG8B,gBAEtB,CI+GkCkH,CAAqBhJ,EAAGiJ,oBAAsBjJ,GAC5DuI,EAAGD,IAEQ,YAAXA,EAAE/I,OACFS,EAAGiJ,mBAAqB,KAEhC,CACIX,EAAE/I,QAAQwI,KAAKK,kBACfL,KAAKK,gBAAgBE,EAAE/I,OAAQ,IAGvCwI,KAAKmB,UAAYtB,EACjBG,KAAKF,MAAQA,EACbE,KAAKoB,YAAYrB,EACrB,CACA,OAAItE,GACA,OAAOuE,KAAKC,IAChB,CACA,aAAIoB,GACA,OAAOrB,KAAKC,KAAKoB,SACrB,CACA,QAAAC,CAASxB,GACL,MAAMyB,EAAWvB,KAAKF,MACtBE,KAAKF,MAAQA,EACb,MAAM0B,EAAkBxB,KAAKyB,gBAAgB3B,EAAOyB,GAChDC,GACAxB,KAAK0B,sBAAsB1B,KAAKC,MAEpC,MAAM0B,EAAc3B,KAAK4B,YAAY9B,GAC/B+B,EAAmB7B,KAAK8B,iBAAiBhC,GAAO,GACtDE,KAAK+B,aAAajC,EAAOyB,GACzBvB,KAAKgC,uBAAuBlC,EAAOyB,GACnCvB,KAAKiC,gBAAgBnC,EAAOyB,IAIxBC,GAAmBG,GAAgBE,IAAqB7B,KAAKC,KAAKiC,aAClElC,KAAKmC,QAEb,CACA,YAAOC,CAAMtC,EAAOC,GAChB,MAAMsC,EAAOzC,EAAO0C,UAAUC,MAC9B,IAAKF,EACD,OAAO,KAEX,MAAM5G,EAAM4G,EAAK5G,IAIX+G,EAAe/G,EAAIgH,eAEzB,IADA1C,EAAUxJ,UAAYiM,EAAajM,UAC5BiM,EAAaE,WAAWrG,OAAS,GACpC0D,EAAU4C,YAAYH,EAAaE,WAAW,IAIlDjH,EAAImH,WAAa7C,EAEjBsC,EAAKf,SAAS,IAAKxB,EAAO+C,cAAc,IACxCpH,EAAIwD,SACJ,MAAM,iBAAEtI,GAAqBmJ,EAmB7B,OAlBInJ,IACIA,EAAiBC,OACjB6E,EAAIqH,UAAUnM,EAAiBC,OAAQ,IAAKD,EAAiBoM,iBAAkBC,SAAU,IAGzFX,EAAKP,iBAAiBnL,GAAkB,IAI5C8E,EAAIwH,gBACJxH,EAAIyH,KAAK,QAGTzH,EAAI0H,KAAK,YAAa,IAAM1H,EAAIyH,KAAK,SAIzCzH,EAAI2H,UACGf,CACX,CAEA,WAAAjB,CAAYrB,GACR,MAAM,MAAED,GAAUE,MACZ,SAAExJ,EAAWoG,GAAkBkD,EAC/BuD,EAAa,IACZvD,KACAA,EAAMnJ,iBACT2M,YAAaxD,EAAMjJ,mBAAqB0M,KAA2B,KACnExD,YACA3E,MAAOD,EAAe3E,IAEpBwK,EAAYqC,EAAW1M,kBAAoB0M,EAAWrC,WAAaqC,EAOzE,GANA1H,OAAOC,OAAOyH,EAAY,CACtBzJ,OAAQ,CAACoH,EAAU3J,WAAa,EAAG2J,EAAU9J,UAAY,GACzD2B,KAAMmI,EAAUnI,MAAQ,EACxBE,MAAOiI,EAAUjI,OAAS,EAC1BC,QAASgI,EAAUhI,SAAW,IAE9B8G,EAAM0D,GAAI,CAEV,MAAMC,EAAaC,kBAAkBC,UAAUF,WAI/CC,kBAAkBC,UAAUF,WAAa,KAErCC,kBAAkBC,UAAUF,WAAaA,EAClC3D,EAAM0D,GAErB,CACA,MAAM/H,EAAM,IAAIuE,KAAKmB,UAAUkC,GAE3BrC,EAAUtH,SACV+B,EAAImI,WAAW5C,EAAUtH,SAEzBoG,EAAM5J,SACNuF,EAAIoI,YAAYzI,MAAMlF,OAAS4J,EAAM5J,QAEzC8J,KAAK0B,sBAAsBjG,GAI3B,MAAMqI,EAAYrI,EAAIsI,QACtBtI,EAAIsI,QAAWC,IAEXhE,KAAKG,WAAY,EACjB2D,EAAUG,KAAKxI,EAAKuI,GACpBhE,KAAKG,WAAY,GAGrB,MAAM+D,EAAqBzI,EAAI0I,iBAAiBC,IAChD3I,EAAI0I,iBAAiBC,IAAOJ,IAGxBhE,KAAKe,gBAAgBsD,iBAAkB,EACvCH,EAAmBD,KAAKxI,EAAI0I,iBAAkBH,GAC9ChE,KAAKe,gBAAgBsD,iBAAkB,EACvCrE,KAAKsE,uBAGT,MAAMC,EAAS9I,EAAI8I,OACnB9I,EAAI8I,OAAS,IAAIC,KAEbxE,KAAKe,gBAAgBsD,iBAAkB,EACvCE,EAAOE,MAAMhJ,EAAK+I,GAClBxE,KAAKe,gBAAgBsD,iBAAkB,EAChC5I,GAIX,MAAMiJ,EAAYjJ,EAAIyH,KACtBzH,EAAIyH,KAAOlD,KAAK2E,WAAWC,KAAK5E,KAAM0E,GAEtCjJ,EAAIoJ,GAAG,YAAa,KAChB7E,KAAKgC,uBAAuBhC,KAAKF,MAAO,CAAC,KAE7CrE,EAAIoJ,GAAG,aAAc,KACjB7E,KAAKgC,uBAAuBhC,KAAKF,MAAO,CAAC,KAE7C,IAAK,MAAMgF,KAAa/H,EACpBtB,EAAIoJ,GAAGC,EAAW9E,KAAKU,iBAE3B,IAAK,MAAMoE,KAAahH,EACpBrC,EAAIoJ,GAAGC,EAAW9E,KAAKc,gBAE3B,IAAK,MAAMgE,KAAalG,EACpBnD,EAAIoJ,GAAGC,EAAW9E,KAAKM,UAE3BN,KAAKC,KAAOxE,CAChB,CAEA,OAAAsJ,GAEI,MACMtP,EADYuK,KAAKvE,IAAIgH,eACAuC,cAAc,uBACzCvP,GAAU4J,SACVO,EAAO0C,UAAU2C,KAAKjF,KAC1B,CACA,OAAAkF,GACIlF,KAAKC,KAAKZ,QACd,CAIA,MAAA8C,GACI,MAAM1G,EAAMuE,KAAKC,MAIZD,KAAKG,WAAa1E,EAAIL,QAEnBK,EAAI0J,SACJ1J,EAAI0J,OAAOC,SACX3J,EAAI0J,OAAS,MAGjB1J,EAAIsI,UAEZ,CACA,qBAAArC,CAAsBjG,GAClB,MAAM4J,EAAiBrN,EAAqByD,EAAI4F,WAChD5F,EAAI4F,UAAYgE,EAChB5J,EAAI6J,QAAQjE,UAAYgE,EACxBrF,KAAKe,gBAAkBsE,CAC3B,CAKA,WAAAzD,CAAY2D,GAER,MAAM,UAAEvE,GAAcuE,EACtB,GAAIvE,EAAW,CACX,MAAMvF,EAAMuE,KAAKC,KACjB,GAAIe,EAAUwE,QAAU/J,EAAI4F,UAAUmE,OAASxE,EAAUvG,SAAWgB,EAAI4F,UAAU5G,OAE9E,OADAgB,EAAIwD,UACG,CAEf,CACA,OAAO,CACX,CAOA,gBAAA6C,CAAiByD,EAAWE,GACxB,MAAMzE,EAAYuE,EAAUvE,WAAauE,EACnCtN,EAAK+H,KAAKe,iBACV,KAAElI,EAAI,MAAEE,EAAK,QAAEC,GAAYf,EAC3ByN,EJ3UP,SAAuCzN,EAAIa,GAC9C,UAAIH,OAAOC,SAASE,EAAEzB,YAAcY,EAAG2B,OAAOtC,MAAQwB,EAAEzB,cAGpDsB,OAAOC,SAASE,EAAE5B,WAAae,EAAG2B,OAAOxC,MAAQ0B,EAAE5B,aAGnDyB,OAAOC,SAASE,EAAEE,UAAYf,EAAGe,UAAYF,EAAEE,YAG/CL,OAAOC,SAASE,EAAEC,QAAUd,EAAGc,QAAUD,EAAEC,UAG3CJ,OAAOC,SAASE,EAAED,QAAUZ,EAAGgC,eAAiBhC,EAAGY,QAAUC,EAAED,SAG/DC,EAAEY,SAAYzB,EAAG0B,eAAeb,EAAEY,UAI1C,CIuTwBiM,CAA8B3F,KAAKe,gBAAiBC,GAEpE,GADA/I,EAAG2N,gBAAkB5E,EACjB0E,GAAWD,EAAe,CAC1B,MAAMI,EAAiB7F,KAAKK,gBAE5BwF,EAAe7H,MAAO,EACtB6H,EAAehN,OAASgN,EAAehN,KAAOA,IAASZ,EAAGY,MAC1DgN,EAAerH,SAAWqH,EAAerH,OAASxF,IAAYf,EAAGe,SACjE6M,EAAe9M,QAAU8M,EAAe9M,MAAQA,IAAUd,EAAGc,MACjE,CACA,OAAO2M,CACX,CAMA,eAAAjE,CAAgB8D,EAAWO,GACvB,MAAMrK,EAAMuE,KAAKC,KACjB,IAAIyF,GAAU,EACd,IAAK,MAAM3J,KAAY2D,EACnB,GAAI3D,KAAYwJ,IAAcvJ,EAAUuJ,EAAUxJ,GAAW+J,EAAU/J,IAAY,CAC/E2J,GAAU,EACV,MAAMK,EAAStK,EAAI,MAAMM,EAAS,GAAGiK,gBAAgBjK,EAASkK,MAAM,MACpEF,GAAQ9B,KAAKxI,EAAK8J,EAAUxJ,GAChC,CAEJ,OAAO2J,CACX,CAMA,YAAA3D,CAAawD,EAAWO,GAIpB,GAHIP,EAAUrP,SAAW4P,EAAU5P,SAC/B8J,KAAKC,KAAK4D,YAAYzI,MAAMlF,OAASqP,EAAUrP,QAAU,IAEzDqP,EAAU/O,WAAasP,EAAUtP,SAAU,CAC3C,MAAM,SAAEA,EAAWoG,EAAa,aAAEiG,GAAe,GAAS0C,EACpDW,EAAU,CACZC,KAAMtD,GAOV,MALI,6BAA8B0C,IAE9BW,EAAQE,yBAA2Bb,EAAUa,0BAEjDpG,KAAKC,KAAKoG,SAASlL,EAAe3E,GAAW0P,IACtC,CACX,CACA,OAAO,CACX,CAMA,sBAAAlE,CAAuBuD,EAAWO,GAC9B,MAAMrK,EAAMuE,KAAKC,KACjB,IAAIyF,GAAU,EAmBd,OAlBIjK,EAAIwH,kBACA,UAAWsC,GAAa9J,EAAI6K,WAAatK,EAAUuJ,EAAUgB,MAAOT,EAAUS,SAC9Eb,GAAU,EACVjK,EAAI6K,SAASf,EAAUgB,QAEvB,QAAShB,GAAa9J,EAAI+K,SAAWxK,EAAUuJ,EAAUkB,IAAKX,EAAUW,OACxEf,GAAU,EACVjK,EAAI+K,OAAOjB,EAAUkB,MAErB,YAAalB,GACb9J,EAAIiL,aACH1K,EAAUuJ,EAAUoB,QAASb,EAAUa,WACnCpB,EAAUoB,UAAWlL,EAAImL,UAAUrB,EAAUoB,QAAQE,UACtDnB,GAAU,EACVjK,EAAIiL,WAAWnB,EAAUoB,YAI9BjB,CACX,CAMA,eAAAzD,CAAgBsD,EAAWO,GACvB,MAAMrK,EAAMuE,KAAKC,KACjB,IAAIyF,GAAU,EACd,IAAK,MAAM3J,KAAY4D,EAAc,CACjC,MAAMmH,EAAWvB,EAAUxJ,KAAa,EAEnCC,EAAU8K,EADEhB,EAAU/J,KAAa,KAEpC2J,GAAU,EACNoB,EACArL,EAAIM,GAAUgL,OAAOD,GAGrBrL,EAAIM,GAAUiL,UAG1B,CACA,OAAOtB,CACX,CACA,sBAAA9E,CAAuBC,GACnB,MAAMpF,EAAMuE,KAAKC,MACX,oBAAExJ,EAAsB,IAAOuJ,KAAKF,MAC1C,IACI,OAAOrE,EAAIwL,sBAAsBpG,EAAO,CACpCvF,OAAQ7E,EAAoBkB,OAAO8D,EAAIyL,SAAStC,KAAKnJ,KAE7D,CACA,MAEI,MAAO,EACX,CACJ,CACA,YAAAkF,CAAaJ,GACT,MAAM,MAAET,GAAUE,KAElB,GADmCF,EAAMrJ,sBAAwBqJ,EAAMqH,aAAerH,EAAM1J,cAAgB0J,EAAMxJ,cAClF,CAC5B,MAAM8Q,EAAY7G,EAAE/I,KACd6P,EAAcrH,KAAKI,kBAAkB/D,OAAS,EAC9C3G,EAAWsK,KAAKY,uBAAuBL,EAAEM,OACzCyG,EAAa5R,EAAS2G,OAAS,GAChCiL,GAAcD,IACf9G,EAAE/I,KAAO,aACTwI,KAAKU,gBAAgBH,IAEzBP,KAAKI,iBAAmB1K,EACpB4R,IAAeD,IACf9G,EAAE/I,KAAO,aACTwI,KAAKU,gBAAgBH,IAEzBA,EAAE/I,KAAO4P,CACb,MAEIpH,KAAKI,iBAAmB,IAEhC,CACA,UAAAuE,CAAW4C,EAAUvQ,EAAOwQ,GACxB,MAAM/L,EAAMuE,KAAKC,KACXhI,EAAK+H,KAAKe,gBAEV0G,EAAWxP,EAAGoM,gBACpB,IACIpM,EAAGoM,iBAAkB,EACrBkD,EAAStD,KAAKxI,EAAKzE,EAAOwQ,EAC9B,CACA,QACIvP,EAAGoM,gBAAkBoD,CACzB,CACA,OAAOhM,CACX,CAEA,mBAAA6I,GACI,MAAM7I,EAAMuE,KAAKC,KACjBD,KAAKE,iBAAkB,EACvB,IAAK,MAAMkH,KAAapH,KAAKK,gBACrBL,KAAKK,gBAAgB+G,IACrB3L,EAAIyH,KAAKkE,GAGjBpH,KAAKE,iBAAkB,CAC3B,EAEJN,EAAO0C,UAAY,GACnB,QASA,SAASiB,IACL,IAAID,EAAc,KAElB,GAAwB,oBAAboE,SAA0B,CACjC,MAAMC,EAAQ,yBAAyBC,KAAKF,SAASG,QACrDvE,EAAcqE,GAASA,EAAM,EACjC,CAEA,IAEIrE,EAAcA,GAAe,GAAYwE,iBAC7C,CACA,MAEA,CACA,IAEIxE,EAAcA,GAAe,GAAYyE,6BAC7C,CACA,MAEA,CACA,OAAOzE,CACX,CC3iBA,MAAM0E,EAAc,CAChB,eACA,aACA,aACA,cACA,cACA,uBACA,gBACA,WACA,YACA,eACA,WACA,cACA,oBACA,YACA,mBACA,oBACA,WACA,aACA,SACA,UAEW,SAASC,EAAUC,GAC9B,IAAKA,EACD,OAAO,KAEX,MAAMzM,EAAMyM,EAAYzM,IAClB/E,EAAM,CACRyR,OAAQ,IAAM1M,EAEd2M,UAAW,IAAMF,EAAY7G,UAAUzH,OACvCyO,QAAS,IAAMH,EAAY7G,UAAUxI,KACrCyP,WAAY,IAAMJ,EAAY7G,UAAUrI,QACxCuP,SAAU,IAAML,EAAY7G,UAAUtI,MACtCyP,WAAY,IAAMN,EAAY7G,UAAU3H,QACxC+O,UAAW,IAAMP,EAAY7G,UAAUoH,YACvCC,QAAUC,IACN,MAAM1Q,EAAKwD,EAAI4F,UACf5F,EAAI4F,UAAY6G,EAAY7G,UAC5B,MAAMuH,EAASnN,EAAIiN,QAAQC,GAE3B,OADAlN,EAAI4F,UAAYpJ,EACT2Q,GAEXC,UAAYhI,IACR,MAAM5I,EAAKwD,EAAI4F,UACf5F,EAAI4F,UAAY6G,EAAY7G,UAC5B,MAAMuH,EAASnN,EAAIoN,UAAUhI,GAE7B,OADApF,EAAI4F,UAAYpJ,EACT2Q,GAGXE,sBAAuB,CAACH,EAAQzC,KAC5B,MAAMjO,EAAKwD,EAAI4F,UACf5F,EAAI4F,UAAY6G,EAAY7G,UAC5B,MAAMuH,EAASnN,EAAIqN,sBAAsBH,EAAQzC,GAEjD,OADAzK,EAAI4F,UAAYpJ,EACT2Q,GAEX3B,sBAAuB,CAAC8B,EAAU7C,KAC9B,MAAMjO,EAAKwD,EAAI4F,UACf5F,EAAI4F,UAAY6G,EAAY7G,UAC5B,MAAMuH,EAASnN,EAAIwL,sBAAsB8B,EAAU7C,GAEnD,OADAzK,EAAI4F,UAAYpJ,EACT2Q,IAGf,IAAK,MAAMlM,KAQf,SAAwBsM,GACpB,MAAMJ,EAAS,IAAI7Q,IACnB,IAAIkR,EAAQD,EACZ,KAAOC,GAAO,CACV,IAAK,MAAMvM,KAAOf,OAAOuN,oBAAoBD,GAC1B,MAAXvM,EAAI,IACgB,mBAAbsM,EAAItM,IACH,SAARA,GACQ,qBAARA,GACAkM,EAAOO,IAAIzM,GAGnBuM,EAAQtN,OAAOyN,eAAeH,EAClC,CACA,OAAO9M,MAAMkN,KAAKT,EACtB,CAvBsBU,CAAe7N,GAEvBiB,KAAOhG,GAASsR,EAAYuB,SAAS7M,KACvChG,EAAIgG,GAAOjB,EAAIiB,GAAKkI,KAAKnJ,IAGjC,OAAO/E,CACX,CCtEA,MADsD,oBAAb8S,SAA2B,EAAAC,gBAAkB,EAAAC,UCHtF,MAAMC,EAAiB,CACnB,aACA,2BACA,cACA,cACA,aCEG,MAAM,EAAa,gBAAoB,MA8EvC,MAAM,EAAM,aA7EnB,SAAc7J,EAAOpJ,GACjB,MAAMkT,GAAqB,IAAAC,YAAWjS,IAC/BsQ,EAAa4B,IAAkB,IAAA7T,UAAS,MACzC8T,GAAe,IAAAnU,WACboU,QAASC,IAAiB,IAAArU,QAAO,CAAEsU,OAAQ,KAAMzO,IAAK,QAC9D,IAAAiO,WAAU,KACN,MAAMQ,EAASpK,EAAMoK,OACrB,IACIC,EADAC,GAAY,EAuChB,OArCAC,QAAQC,QAAQJ,GAAU,4CACrBK,KAAMC,IACP,IAAKJ,EACD,OAEJ,IAAKI,EACD,MAAM,IAAIC,MAAM,kBAEpB,MAAMC,EAAW,QAASF,EAASA,EAASA,EAAOG,QACnD,IAAKD,EAASE,IACV,MAAM,IAAIH,MAAM,mBDpBjB,SAAoBP,EAAQpK,GACvC,IAAK,MAAMpD,KAAOiN,EACVjN,KAAOoD,IACPoK,EAAOxN,GAAOoD,EAAMpD,IAG5B,MAAM,cAAEmO,EAAgB,+FAAkG/K,EACtH+K,GACAX,EAAOY,wBAC6B,gBAApCZ,EAAOY,0BACPZ,EAAOa,iBAAiBF,EAAgBpL,IAChCA,GAEAgB,QAAQhB,MAAMA,KAEnB,EAEX,CCKYuL,CAAWN,EAAU5K,GACjBA,EAAMmL,YACNd,EAAS,EAAO/H,MAAMtC,EAAOiK,EAAaC,UAEzCG,IACDA,EAAS,IAAI,EAAOO,EAASE,IAAK9K,EAAOiK,EAAaC,UAE1DC,EAAaxO,IAAMwM,EAAUkC,GAC7BF,EAAaC,OAASQ,EACtBZ,EAAeK,GACfP,GAAoBsB,WAAWjB,EAAaxO,IAAKqE,EAAMvI,MAEtD4T,MAAM1L,IACP,MAAM,QAAE2L,GAAYtL,EAChBsL,EACAA,EAAQ,CACJ5T,KAAM,QACNgB,OAAQ,KACRiH,UAIJgB,QAAQhB,MAAMA,KAGf,KACH2K,GAAY,EACRD,IACAP,GAAoByB,aAAavL,EAAMvI,IACnCuI,EAAMmL,UACNd,EAAOpF,UAGPoF,EAAOjF,aAIpB,IACH,EAA0B,KAClBgD,GACAA,EAAY5G,SAASxB,MAG7B,IAAAwL,qBAAoB5U,EAAK,IAAMuT,EAAaxO,IAAK,CAACyM,IAClD,MAAM9M,GAAQ,IAAAmQ,SAAQ,KAAM,CACxBC,SAAU,WACVhG,MAAO,OACP/K,OAAQ,UACLqF,EAAM1E,QACT,CAAC0E,EAAM1E,QAIX,OAAQ,gBAAoB,MAAO,CAAE7D,GAAIuI,EAAMvI,GAAIb,IAAKqT,EAAc3O,MAAOA,GAAS8M,GAAgB,gBAAoB,EAAWuD,SAAU,CAAEpS,MAAO4Q,GACpJ,gBAAoB,MAAO,CAAE,oBAAqB,GAAI7O,MAJ5B,CAC1BX,OAAQ,SAG8EqF,EAAMrK,WACpG,G,aClFA,MAAMiW,EAAiB,0EAChB,SAASC,EAAgBC,EAASC,GACrC,IAAKD,IAAYC,EACb,OAEJ,MAAMzQ,EAAQwQ,EAAQxQ,MACtB,IAAK,MAAMsB,KAAOmP,EAAQ,CACtB,MAAMxS,EAAQwS,EAAOnP,GACjB/D,OAAOC,SAASS,KAAWqS,EAAeI,KAAKpP,GAC/CtB,EAAMsB,GAAO,GAAGrD,MAGhB+B,EAAMsB,GAAOrD,CAErB,CACJ,CChBO,SAAS0S,EAAkBC,EAAeC,GAC7C,GAAID,IAAkBC,EAClB,OAAO,KAEX,MAAMC,EAAgBC,EAAaH,GAC7BI,EAAgBD,EAAaF,GAC7B9F,EAAO,GACb,IAAK,MAAMkG,KAAKD,EACPF,EAAchT,IAAImT,IACnBlG,EAAKlB,KAAKoH,GAGlB,IAAK,MAAMA,KAAKH,EACPE,EAAclT,IAAImT,IACnBlG,EAAKlB,KAAKoH,GAGlB,OAAuB,IAAhBlG,EAAK9J,OAAe,KAAO8J,CACtC,CACA,SAASgG,EAAa5V,GAClB,OAAO,IAAIwB,IAAIxB,EAAYA,EAAU+V,OAAOC,MAAM,OAAS,GAC/D,ECbsB,IAAAC,OAAK,IAAAC,YAAW,CAAC3M,EAAOpJ,KAC1C,MAAM,IAAE+E,EAAG,OAAEyO,IAAW,IAAAL,YAAW,GAC7B6C,GAAU,IAAA9W,QAAO,CAAEkK,UACnB6M,GAAS,IAAApB,SAAQ,KACnB,IAAIqB,GAAc,EAClB,WAAeC,QAAQ/M,EAAMrK,SAAUqX,IAC/BA,IACAF,GAAc,KAGtB,MAAM1G,EAAU,IACTpG,EACH8L,QAASgB,EAAcpD,SAASuD,cAAc,OAAS,MAErDC,EAAK,IAAI9C,EAAO+C,OAAO/G,GAwB7B,OAvBA8G,EAAGE,UAAU,CAACpN,EAAMzI,UAAWyI,EAAM5I,WACrC8V,EAAGG,aAAaC,iBAAiB,QAAU7M,IACvCmM,EAAQ1C,QAAQlK,MAAM/I,UAAU,CAC5BS,KAAM,QACNgB,OAAQwU,EACRK,cAAe9M,MAGvByM,EAAGnI,GAAG,YAAatE,IACf,MAAM+M,EAAM/M,EACZ+M,EAAInW,OAASwV,EAAOY,YACpBb,EAAQ1C,QAAQlK,MAAM0N,cAAcF,KAExCN,EAAGnI,GAAG,OAAQtE,IACV,MAAM+M,EAAM/M,EACZ+M,EAAInW,OAASwV,EAAOY,YACpBb,EAAQ1C,QAAQlK,MAAM2N,SAASH,KAEnCN,EAAGnI,GAAG,UAAWtE,IACb,MAAM+M,EAAM/M,EACZ+M,EAAInW,OAASwV,EAAOY,YACpBb,EAAQ1C,QAAQlK,MAAM4N,YAAYJ,KAE/BN,GACR,KACH,IAAAtD,WAAU,KACNiD,EAAOgB,MAAMlS,EAAI0M,UACV,KACHwE,EAAOtN,WAEZ,IACH,MAAM,UAAEhI,EAAS,SAAEH,EAAQ,OAAE0W,EAAM,MAAExS,EAAK,UAAEyS,GAAY,EAAK,MAAEC,EAAQ,KAAI,SAAEC,EAAW,EAAC,kBAAEC,EAAoB,OAAM,eAAEC,EAAiB,QAAWnO,GACnJ,IAAA4J,WAAU,KACNiC,EAAgBgB,EAAOQ,aAAc/R,IACtC,CAACA,KACJ,IAAAkQ,qBAAoB5U,EAAK,IAAMiW,EAAQ,IACvC,MAAMpL,EAAWmL,EAAQ1C,QAAQlK,MAC7B6M,EAAOY,YAAYjW,MAAQD,GAAasV,EAAOY,YAAYnW,MAAQF,GACnEyV,EAAOO,UAAU,CAAC7V,EAAWH,IAE7B0W,IR1DD,SAAwB3R,EAAGC,GAC9B,MAAMgS,EAAK/R,MAAMC,QAAQH,GAAKA,EAAE,GAAKA,EAAIA,EAAEkS,EAAI,EACzCC,EAAKjS,MAAMC,QAAQH,GAAKA,EAAE,GAAKA,EAAIA,EAAEoS,EAAI,EACzCC,EAAKnS,MAAMC,QAAQF,GAAKA,EAAE,GAAKA,EAAIA,EAAEiS,EAAI,EACzCI,EAAKpS,MAAMC,QAAQF,GAAKA,EAAE,GAAKA,EAAIA,EAAEmS,EAAI,EAC/C,OAAOH,IAAOI,GAAMF,IAAOG,CAC/B,CQoDmBC,CAAe7B,EAAO8B,YAAab,IAC9CjB,EAAO+B,UAAUd,GAEjBjB,EAAOgC,gBAAkBd,GACzBlB,EAAOiC,aAAaf,GAEpBlB,EAAOkC,gBAAkBd,GACzBpB,EAAOmC,YAAYf,GAEnBpB,EAAOoC,yBAA2Bf,GAClCrB,EAAOqC,qBAAqBhB,GAE5BrB,EAAOsC,sBAAwBhB,GAC/BtB,EAAOuC,kBAAkBjB,GAEzBtB,EAAOwC,aAAerB,GACtBnB,EAAOyC,SAAStB,GAEpB,MAAMuB,EAAgBtD,EAAkBxK,EAAShL,UAAWuJ,EAAMvJ,WAClE,GAAI8Y,EACA,IAAK,MAAMhD,KAAKgD,EACZ1C,EAAO2C,gBAAgBjD,GAI/B,OADAK,EAAQ1C,QAAQlK,MAAQA,GACjB,IAAAyP,cAAazP,EAAMrK,SAAUkX,EAAOQ,kBClF1B,IAAAX,OAAK,IAAAC,YAAW,CAAC3M,EAAOpJ,KACzC,MAAM,IAAE+E,EAAG,OAAEyO,IAAW,IAAAL,YAAW,GAC7B9J,GAAY,IAAAwL,SAAQ,IACf/B,SAASuD,cAAc,OAC/B,IACGL,GAAU,IAAA9W,QAAO,CAAEkK,UACnBgO,GAAQ,IAAAvC,SAAQ,KAClB,MAAMrF,EAAU,IAAKpG,GACf0P,EAAK,IAAItF,EAAOuF,MAAMvJ,GAK5B,OAJAsJ,EAAGtC,UAAU,CAACpN,EAAMzI,UAAWyI,EAAM5I,WACrCsY,EAAGrM,KAAK,OAAQ5C,IACZmM,EAAQ1C,QAAQlK,MAAM4P,SAASnP,KAE5BiP,GACR,IAsBH,IArBA,IAAA9F,WAAU,KACN,MAAMiG,EAAUpP,IACZmM,EAAQ1C,QAAQlK,MAAM6P,UAAUpP,IAIpC,OAFAuN,EAAMjJ,GAAG,QAAS8K,GAClB7B,EAAM8B,cAAc7P,GAAW4N,MAAMlS,EAAI0M,UAClC,KAKH2F,EAAM+B,IAAI,QAASF,GACf7B,EAAMgC,UACNhC,EAAMzO,WAGf,KACH,IAAAqK,WAAU,KACNiC,EAAgBmC,EAAMX,aAAcrN,EAAM1E,QAC3C,CAAC0E,EAAM1E,SACV,IAAAkQ,qBAAoB5U,EAAK,IAAMoX,EAAO,IAClCA,EAAMgC,SAAU,CAChB,MAAMvO,EAAWmL,EAAQ1C,QAAQlK,MAC7BgO,EAAMP,YAAYjW,MAAQwI,EAAMzI,WAAayW,EAAMP,YAAYnW,MAAQ0I,EAAM5I,UAC7E4W,EAAMZ,UAAU,CAACpN,EAAMzI,UAAWyI,EAAM5I,WAExC4I,EAAM8N,SAAW5R,EAAUuF,EAASqM,OAAQ9N,EAAM8N,UAClDE,EAAM5H,QAAQ6J,OAASjQ,EAAMiQ,OAC7BjC,EAAMY,UAAU5O,EAAM8N,SAEtBrM,EAASwO,SAAWjQ,EAAMiQ,QAAUxO,EAASyO,WAAalQ,EAAMkQ,UAChElC,EAAMmC,YAAYnQ,EAAMkQ,UAE5B,MAAMX,EAAgBtD,EAAkBxK,EAAShL,UAAWuJ,EAAMvJ,WAClE,GAAI8Y,EACA,IAAK,MAAMhD,KAAKgD,EACZvB,EAAMwB,gBAAgBjD,GAG9BK,EAAQ1C,QAAQlK,MAAQA,CAC5B,CACA,OAAO,IAAAyP,cAAazP,EAAMrK,SAAUsK,MC7DjC,SAASmQ,EAAWC,EAAUC,EAAMC,EAAMC,GAC7C,MAAMC,GAAU,IAAA1G,YAAW,GACrB2G,GAAO,IAAAjF,SAAQ,IAAM4E,EAASI,GAAU,IAsB9C,OArBA,IAAA7G,WAAU,KACN,MAAM+G,EAAQH,GAAQD,GAAQD,EACxBM,EAAwB,mBAATN,GAAuC,mBAATC,EAAsBD,EAAO,KAC1EO,EAA2B,mBAATN,EAAsBA,EAAuB,mBAATD,EAAsBA,EAAO,MACnF,IAAE3U,GAAQ8U,EAOhB,OANK9U,EAAImV,WAAWJ,KAChB/U,EAAIoV,WAAWL,EAAMC,GAAMjF,UACvBkF,GACAA,EAAMH,IAGP,KACCI,GACAA,EAASJ,GAGT9U,EAAImV,WAAWJ,IACf/U,EAAIqV,cAAcN,KAG3B,IACIA,CACX,ECfkC,IAAAhE,MATlC,SAA6B1M,GACzB,MAAM0Q,EAAON,EAAW,EAAGhG,YAAa,IAAIA,EAAO6G,mBAAmBjR,GAAQ,CAC1E0L,SAAU1L,EAAM0L,WAKpB,OAHA,IAAA9B,WAAU,KACNiC,EAAgB6E,EAAK5N,WAAY9C,EAAM1E,QACxC,CAAC0E,EAAM1E,QACH,IACX,ICCiC,IAAAoR,MATjC,SAA4B1M,GACxB,MAAM0Q,EAAON,EAAW,EAAGhG,YAAa,IAAIA,EAAO8G,kBAAkB,CACjEjR,UAAWD,EAAMmR,aAAezH,SAAS0H,eAAepR,EAAMmR,eAC9D,CAAEzF,SAAU1L,EAAM0L,WAItB,OAHA,IAAA9B,WAAU,KACNiC,EAAgB6E,EAAKW,kBAAmBrR,EAAM1E,QAC/C,CAAC0E,EAAM1E,QACH,IACX,IC6BgC,IAAAoR,OAAK,IAAAC,YArCrC,SAA2B3M,EAAOpJ,GAC9B,MAAMgW,GAAU,IAAA9W,QAAO,CAAEkK,UACnB0Q,EAAON,EAAW,EAAGhG,aACvB,MAAMkH,EAAK,IAAIlH,EAAOmH,iBAAiBvR,GAIjCwR,EAAUF,EAAGG,SAAS3M,KAAKwM,GAqBjC,OApBAA,EAAGG,SAAW/M,IACL4M,EAAGxO,WAAW4O,iBACfF,EAAQ9M,IAGhB4M,EAAGvM,GAAG,YAAatE,IACfmM,EAAQ1C,QAAQlK,MAAM2R,cAAclR,KAExC6Q,EAAGvM,GAAG,QAAStE,IACXmM,EAAQ1C,QAAQlK,MAAMsL,UAAU7K,KAEpC6Q,EAAGvM,GAAG,iBAAkBtE,IACpBmM,EAAQ1C,QAAQlK,MAAM4R,mBAAmBnR,KAE7C6Q,EAAGvM,GAAG,yBAA0BtE,IAC5BmM,EAAQ1C,QAAQlK,MAAM6R,2BAA2BpR,KAErD6Q,EAAGvM,GAAG,uBAAwBtE,IAC1BmM,EAAQ1C,QAAQlK,MAAM8R,yBAAyBrR,KAE5C6Q,GACR,CAAE5F,SAAU1L,EAAM0L,WAMrB,OALAkB,EAAQ1C,QAAQlK,MAAQA,GACxB,IAAAwL,qBAAoB5U,EAAK,IAAM8Z,EAAM,KACrC,IAAA9G,WAAU,KACNiC,EAAgB6E,EAAK5N,WAAY9C,EAAM1E,QACxC,CAAC0E,EAAM1E,QACH,IACX,KC3BiC,IAAAoR,MATjC,SAA4B1M,GACxB,MAAM0Q,EAAON,EAAW,EAAGhG,YAAa,IAAIA,EAAO2H,kBAAkB/R,GAAQ,CACzE0L,SAAU1L,EAAM0L,WAKpB,OAHA,IAAA9B,WAAU,KACNiC,EAAgB6E,EAAK5N,WAAY9C,EAAM1E,QACxC,CAAC0E,EAAM1E,QACH,IACX,ICW4B,IAAAoR,MAnB5B,SAAuB1M,GACnB,MAAM0Q,EAAON,EAAW,EAAGhG,YAAa,IAAIA,EAAO4H,aAAahS,GAAQ,CACpE0L,SAAU1L,EAAM0L,WAEduG,GAAW,IAAAnc,QAAOkK,GAClBkS,EAAYD,EAAS/H,QAC3B+H,EAAS/H,QAAUlK,EACnB,MAAM,MAAE1E,GAAU0E,EAUlB,YATuBmS,IAAnBnS,EAAMkQ,UAA0BlQ,EAAMkQ,WAAagC,EAAUhC,WAC7DQ,EAAKtK,QAAQ8J,SAAWlQ,EAAMkQ,eAEfiC,IAAfnS,EAAMoS,MAAsBpS,EAAMoS,OAASF,EAAUE,MACrD1B,EAAK2B,QAAQrS,EAAMoS,OAEvB,IAAAxI,WAAU,KACNiC,EAAgB6E,EAAK5N,WAAYxH,IAClC,CAACA,IACG,IACX,GCrBe,SAASgX,EAAOC,EAAWC,GACtC,IAAKD,EACD,MAAM,IAAI5H,MAAM6H,EAExB,CCCA,IAAIC,EAAgB,EAqDb,SAASC,EAAO1S,GACnB,MAAMrE,GAAM,IAAAoO,YAAW,GAAYpO,IAAI0M,SACjC4J,GAAW,IAAAnc,QAAOkK,IACjB,CAAE2S,IAAkB,IAAAxc,UAAS,GAC9BsB,GAAK,IAAAgU,SAAQ,IAAMzL,EAAMvI,IAAM,cAAcgb,IAAmB,KACtE,IAAA7I,WAAU,KACN,GAAIjO,EAAK,CAEL,MAAMiX,EAAc,IAAMC,WAAW,IAAMF,EAAe5V,GAAWA,EAAU,GAAI,GAGnF,OAFApB,EAAIoJ,GAAG,YAAa6N,GACpBA,IACO,KAGH,GAFAjX,EAAIoU,IAAI,YAAa6C,GAEjBjX,EAAIL,OAASK,EAAIL,MAAMwX,SAAWnX,EAAImL,UAAUrP,GAAK,CAIrD,MAAMsb,EAAYpX,EAAIqX,YAAYxX,OAClC,GAAIuX,EACA,IAAK,MAAMrX,KAASqX,EAEZrX,EAAMqL,SAAWtP,GACjBkE,EAAIsX,YAAYvX,EAAMjE,IAIlCkE,EAAIuX,aAAazb,EACrB,EAER,GAED,CAACkE,IAEJ,IAAIoL,EAASpL,GAAOA,EAAIL,OAASK,EAAImL,UAAUrP,GAQ/C,OAPIsP,EA1ER,SAAsBA,EAAQ/G,EAAOkS,GACjCI,EAAOtS,EAAMvI,KAAOya,EAAUza,GAAI,qBAClC6a,EAAOtS,EAAMtI,OAASwa,EAAUxa,KAAM,uBACtC,IAAIyb,EAAa,GACbC,EAAkB,EACtB,IAAK,MAAMxW,KAAOoD,EACF,aAARpD,GAA8B,OAARA,GAAiBV,EAAUgW,EAAUtV,GAAMoD,EAAMpD,MACvEuW,EAAavW,EACbwW,KAGR,IAAKA,EACD,OAEJ,MAAM1b,EAAOsI,EAAMtI,KACN,YAATA,EACAqP,EAAOsM,QAAQrT,EAAMR,MAEP,UAAT9H,EACLqP,EAAOuM,YAAY,CACf3b,IAAKqI,EAAMrI,IACX4b,YAAavT,EAAMuT,cAGlB,mBAAoBxM,GAA8B,IAApBqM,GAAwC,gBAAfD,EAC5DpM,EAAOyM,eAAexT,EAAMuT,aAEvB,WAAYxM,GAAyB,QAAfoM,EAC3BpM,EAAO0M,OAAOzT,EAAMrI,KAEf,aAAcoP,GAAyB,UAAfoM,EAC7BpM,EAAO2M,SAAS1T,EAAM2T,OAItBhT,QAAQiT,KAAK,mCAAmCT,IAExD,CAsCQU,CAAa9M,EAAQ/G,EAAOiS,EAAS/H,SAGrCnD,EA3FR,SAAsBpL,EAAKlE,EAAIuI,GAE3B,GAAIrE,EAAIL,OAASK,EAAIL,MAAMwX,QAAS,CAChC,MAAM1M,EAAU,IAAKpG,GAKrB,cAJOoG,EAAQ3O,UACR2O,EAAQzQ,SAEfgG,EAAImY,UAAUrc,EAAI2O,GACXzK,EAAImL,UAAUrP,EACzB,CACA,OAAO,IACX,CAgFiBsc,CAAapY,EAAKlE,EAAIuI,GAEnCiS,EAAS/H,QAAUlK,EACV+G,GACL,WAAepL,IAAIqE,EAAMrK,SAAUqe,GAASA,IACxC,IAAAC,cAAaD,EAAO,CAChBjN,OAAQtP,MAEhB,IACR,CC9CA,IAAIyc,EAAe,EACZ,SAASC,EAAMnU,GAClB,MAAMrE,GAAM,IAAAoO,YAAW,GAAYpO,IAAI0M,SACjC4J,GAAW,IAAAnc,QAAOkK,IACjB,CAAE2S,IAAkB,IAAAxc,UAAS,GAC9BsB,GAAK,IAAAgU,SAAQ,IAAMzL,EAAMvI,IAAM,aAAayc,IAAkB,KACpE,IAAAtK,WAAU,KACN,GAAIjO,EAAK,CACL,MAAMiX,EAAc,IAAMD,EAAe5V,GAAWA,EAAU,GAG9D,OAFApB,EAAIoJ,GAAG,YAAa6N,GACpBA,IACO,KACHjX,EAAIoU,IAAI,YAAa6C,GAEjBjX,EAAIL,OAASK,EAAIL,MAAMwX,SAAWnX,EAAIyL,SAAS3P,IAC/CkE,EAAIsX,YAAYxb,GAG5B,GAED,CAACkE,IAGJ,GADcA,GAAOA,EAAIL,OAASK,EAAIyL,SAAS3P,GAE3C,KA/ER,SAAqBkE,EAAKlE,EAAIuI,EAAOkS,GAGjC,GAFAI,EAAOtS,EAAMvI,KAAOya,EAAUza,GAAI,oBAClC6a,EAAOtS,EAAMtI,OAASwa,EAAUxa,KAAM,sBACnB,WAAfsI,EAAMtI,MAAwC,WAAnBwa,EAAUxa,KACrC,OAGJ,MAAM,OAAE0c,EAAS,CAAC,EAAC,MAAExc,EAAQ,CAAC,EAAC,OAAEC,EAAM,QAAEwc,EAAO,QAAEC,EAAO,SAAEC,GAAavU,EAIxE,GAHIuU,IAAarC,EAAUqC,UACvB5Y,EAAI6Y,UAAU/c,EAAI8c,GAElBH,IAAWlC,EAAUkC,OAAQ,CAC7B,MAAMK,EAAavC,EAAUkC,QAAU,CAAC,EACxC,IAAK,MAAMxX,KAAOwX,EACTlY,EAAUkY,EAAOxX,GAAM6X,EAAW7X,KACnCjB,EAAI+Y,kBAAkBjd,EAAImF,EAAKwX,EAAOxX,IAG9C,IAAK,MAAMA,KAAO6X,EACTL,EAAOvX,eAAeD,IACvBjB,EAAI+Y,kBAAkBjd,EAAImF,OAAKuV,EAG3C,CACA,GAAIva,IAAUsa,EAAUta,MAAO,CAC3B,MAAM+c,EAAYzC,EAAUta,OAAS,CAAC,EACtC,IAAK,MAAMgF,KAAOhF,EACTsE,EAAUtE,EAAMgF,GAAM+X,EAAU/X,KACjCjB,EAAIiZ,iBAAiBnd,EAAImF,EAAKhF,EAAMgF,IAG5C,IAAK,MAAMA,KAAO+X,EACT/c,EAAMiF,eAAeD,IACtBjB,EAAIiZ,iBAAiBnd,EAAImF,OAAKuV,EAG1C,CAEKjW,EAAUrE,EAAQqa,EAAUra,SAC7B8D,EAAIkZ,UAAUpd,EAAII,GAElBwc,IAAYnC,EAAUmC,SAAWC,IAAYpC,EAAUoC,SACvD3Y,EAAImZ,kBAAkBrd,EAAI4c,EAASC,EAE3C,CAoCYS,CAAYpZ,EAAKlE,EAAIuI,EAAOiS,EAAS/H,QACzC,CACA,MAAOvK,GACHgB,QAAQiT,KAAKjU,EACjB,MAvCR,SAAqBhE,EAAKlE,EAAIuI,GAE1B,GAAIrE,EAAIL,OAASK,EAAIL,MAAMwX,YAAc,WAAY9S,IAAUrE,EAAImL,UAAU9G,EAAM+G,SAAU,CACzF,MAAMX,EAAU,IAAKpG,EAAOvI,aACrB2O,EAAQmO,SAEf5Y,EAAIqZ,SAAS5O,EAASpG,EAAMuU,SAChC,CACJ,CAkCQU,CAAYtZ,EAAKlE,EAAIuI,GAIzB,OADAiS,EAAS/H,QAAUlK,EACZ,IACX,C,uBCjGA,IAAIkV,EAAQ,EAAQ,MAEpB,SAASC,EAAKnV,GACV,OAAOkV,EAAMjI,cAAc,MAAMjN,EAAM,CAACkV,EAAMjI,cAAc,OAAO,CAAC,IAAM,GAAGiI,EAAMjI,cAAc,QAAQ,KAAK,+DAA+DiI,EAAMjI,cAAc,IAAI,CAAC,GAAK,YAAY,YAAY,UAAU,IAAM,GAAGiI,EAAMjI,cAAc,OAAO,CAAC,UAAY,WAAW,EAAI,2rIACjT,CAEAkI,EAAIC,aAAe,CAAC,GAAK,UAAU,YAAY,UAAU,QAAU,mBAEnE1K,EAAO2K,QAAUF,EAEjBA,EAAItK,QAAUsK,C,kDCTd,SAASG,GAAiB,MACxBC,EAAK,QACLC,KACGxV,GACFyV,GACD,OAAoB,gBAAoB,MAAO5Z,OAAOC,OAAO,CAC3D4Z,MAAO,6BACPC,QAAS,YACTC,KAAM,eACN,cAAe,OACf,YAAa,OACbhf,IAAK6e,EACL,kBAAmBD,GAClBxV,GAAQuV,EAAqB,gBAAoB,QAAS,CAC3D9d,GAAI+d,GACHD,GAAS,KAAmB,gBAAoB,OAAQ,CACzDM,SAAU,UACVC,EAAG,uIACHC,SAAU,YAEd,CACA,MAAMC,EAA2B,aAAiBV,GAClD,K","sources":["webpack://gatsby-starter-default/./src/images/bg.png","webpack://gatsby-starter-default/./src/components/dvrpcmap.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/components/use-map.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/utils/transform.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/mapbox/proxy-transform.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/utils/style-utils.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/utils/deep-equal.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/mapbox/mapbox.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/mapbox/create-ref.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/utils/use-isomorphic-layout-effect.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/utils/set-globals.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/components/map.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/utils/apply-react-style.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/utils/compare-class-names.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/components/marker.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/components/popup.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/components/use-control.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/components/attribution-control.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/components/fullscreen-control.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/components/geolocate-control.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/components/navigation-control.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/components/scale-control.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/utils/assert.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/components/source.js","webpack://gatsby-starter-default/./node_modules/@vis.gl/react-mapbox/dist/components/layer.js","webpack://gatsby-starter-default/./src/images/dot.svg","webpack://gatsby-starter-default/./node_modules/@heroicons/react/16/solid/esm/ChevronRightIcon.js"],"sourcesContent":["export default __webpack_public_path__ + \"static/bg-30f3e941d590bb15a8edf4a49048089b.png\";","import React, { useState, useCallback, useRef } from \"react\"\r\nimport Map, { Source, Layer, Popup } from \"react-map-gl/mapbox\"\r\nimport \"mapbox-gl/dist/mapbox-gl.css\"\r\nimport { LngLatBounds } from \"mapbox-gl\"\r\n\r\nconst DVRPCMap = ({ children, features }) => {\r\n  const mapRef = useRef()\r\n  const maxExtent = new LngLatBounds([\r\n    [-76.09405517578125, 39.49211914385648],\r\n    [-74.32525634765625, 40.614734298694216],\r\n  ])\r\n  const [clickedFeature, setClickedFeature] = useState(null)\r\n  const [cursor, setCursor] = useState(\"grab\")\r\n\r\n  const onClick = event => {\r\n    const feature = event.features[0]\r\n    if (feature) {\r\n      setClickedFeature({\r\n        feature: feature,\r\n        latitude: event.lngLat.lat,\r\n        longitude: event.lngLat.lng,\r\n      })\r\n    }\r\n  }\r\n\r\n  const onMouseEnter = useCallback(() => setCursor(\"pointer\"), [])\r\n  const onMouseLeave = useCallback(() => setCursor(\"grab\"), [])\r\n\r\n  return (\r\n    <div className=\"h-[500px] w-full\">\r\n      <Map\r\n        mapStyle=\"mapbox://styles/crvanpollard/ck5fpyqti0v971itf7edp2eyd\"\r\n        interactiveLayerIds={[\"trail-lines\"]}\r\n        ref={mapRef}\r\n        initialViewState={{ bounds: maxExtent }}\r\n        mapboxAccessToken=\"pk.eyJ1IjoidGhhY2hhZG9yaWFuZHZycGMiLCJhIjoiY2x6Ymw5bjNoMDIxdTJscHJlbDMxMzM1ZyJ9.AZoU09L4abDOTWEUM5Uwdw\"\r\n        minZoom={8}\r\n        onClick={onClick}\r\n        cursor={cursor}\r\n        onMouseEnter={onMouseEnter}\r\n        onMouseLeave={onMouseLeave}\r\n      >\r\n        {children}\r\n        <Source\r\n          id=\"boundaries\"\r\n          type=\"vector\"\r\n          url=\"https://tiles.dvrpc.org/data/dvrpc-municipal.json\"\r\n        >\r\n          <Layer\r\n            id=\"dvrpcnt\"\r\n            type=\"fill\"\r\n            source-layer=\"county\"\r\n            paint={{\r\n              \"fill-color\": \"#B6C1C6\",\r\n              \"fill-opacity\": 0.8,\r\n            }}\r\n            filter={[\"!=\", \"dvrpc\", \"Yes\"]}\r\n          />\r\n\r\n          <Layer\r\n            id=\"municipality-outline\"\r\n            type=\"line\"\r\n            source-layer=\"municipalities\"\r\n            paint={{\r\n              \"line-width\": 0.5,\r\n              \"line-color\": \"#efefef\",\r\n            }}\r\n          />\r\n\r\n          <Layer\r\n            id=\"county-outline\"\r\n            type=\"line\"\r\n            source-layer=\"county\"\r\n            paint={{\r\n              \"line-width\": 2.5,\r\n              \"line-color\": \"#fff\",\r\n            }}\r\n          />\r\n        </Source>\r\n      </Map>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DVRPCMap\r\n","import * as React from 'react';\nimport { useState, useCallback, useMemo, useContext } from 'react';\nimport { MapContext } from \"./map.js\";\nexport const MountedMapsContext = React.createContext(null);\nexport const MapProvider = props => {\n    const [maps, setMaps] = useState({});\n    const onMapMount = useCallback((map, id = 'default') => {\n        setMaps(currMaps => {\n            if (id === 'current') {\n                throw new Error(\"'current' cannot be used as map id\");\n            }\n            if (currMaps[id]) {\n                throw new Error(`Multiple maps with the same id: ${id}`);\n            }\n            return { ...currMaps, [id]: map };\n        });\n    }, []);\n    const onMapUnmount = useCallback((id = 'default') => {\n        setMaps(currMaps => {\n            if (currMaps[id]) {\n                const nextMaps = { ...currMaps };\n                delete nextMaps[id];\n                return nextMaps;\n            }\n            return currMaps;\n        });\n    }, []);\n    return (React.createElement(MountedMapsContext.Provider, { value: {\n            maps,\n            onMapMount,\n            onMapUnmount\n        } }, props.children));\n};\nexport function useMap() {\n    const maps = useContext(MountedMapsContext)?.maps;\n    const currentMap = useContext(MapContext);\n    const mapsWithCurrent = useMemo(() => {\n        return { ...maps, current: currentMap?.map };\n    }, [maps, currentMap]);\n    return mapsWithCurrent;\n}\n//# sourceMappingURL=use-map.js.map","/**\n * Capture a transform's current state\n * @param transform\n * @returns descriptor of the view state\n */\nexport function transformToViewState(tr) {\n    return {\n        longitude: tr.center.lng,\n        latitude: tr.center.lat,\n        zoom: tr._seaLevelZoom ?? tr.zoom,\n        pitch: tr.pitch,\n        bearing: tr.bearing,\n        padding: tr.padding,\n        elevation: tr._centerAltitude\n    };\n}\n/** Returns `true` if the given props can potentially override view state updates */\nexport function isViewStateControlled(v) {\n    return (Number.isFinite(v.longitude) ||\n        Number.isFinite(v.latitude) ||\n        Number.isFinite(v.zoom) ||\n        Number.isFinite(v.pitch) ||\n        Number.isFinite(v.bearing));\n}\n/**\n * Returns `true` if transform needs to be updated to match view state\n */\nexport function compareViewStateWithTransform(tr, v) {\n    if (Number.isFinite(v.longitude) && tr.center.lng !== v.longitude) {\n        return true;\n    }\n    if (Number.isFinite(v.latitude) && tr.center.lat !== v.latitude) {\n        return true;\n    }\n    if (Number.isFinite(v.bearing) && tr.bearing !== v.bearing) {\n        return true;\n    }\n    if (Number.isFinite(v.pitch) && tr.pitch !== v.pitch) {\n        return true;\n    }\n    if (Number.isFinite(v.zoom) && (tr._seaLevelZoom ?? tr.zoom) !== v.zoom) {\n        return true;\n    }\n    if (v.padding && !tr.isPaddingEqual(v.padding)) {\n        return true;\n    }\n    return false;\n}\nfunction noOp() { }\n/* eslint-disable complexity */\n/**\n * Mutate a transform to match the given view state. Should reverse `transformToViewState`\n * @param transform\n * @param viewState\n */\nexport function applyViewStateToTransform(tr, v) {\n    // prevent constrain from running until all properties are set\n    // eslint-disable-next-line @typescript-eslint/unbound-method\n    const constrain = tr._constrain;\n    // eslint-disable-next-line @typescript-eslint/unbound-method\n    const calcMatrices = tr._calcMatrices;\n    tr._constrain = noOp;\n    tr._calcMatrices = noOp;\n    if (Number.isFinite(v.bearing)) {\n        tr.bearing = v.bearing;\n    }\n    if (Number.isFinite(v.pitch)) {\n        tr.pitch = v.pitch;\n    }\n    if (v.padding && !tr.isPaddingEqual(v.padding)) {\n        tr.padding = v.padding;\n    }\n    if (Number.isFinite(v.longitude) || Number.isFinite(v.latitude)) {\n        const center = tr.center;\n        // @ts-expect-error LngLat constructor is not typed\n        tr._center = new center.constructor(v.longitude ?? center.lng, v.latitude ?? center.lat);\n    }\n    if (Number.isFinite(v.zoom)) {\n        tr._centerAltitude = v.elevation ?? 0;\n        if (tr.elevation) {\n            tr._seaLevelZoom = v.zoom;\n            const mercatorElevation = (tr.pixelsPerMeter / tr.worldSize) * tr._centerAltitude;\n            const altitude = tr._mercatorZfromZoom(v.zoom);\n            const minHeight = tr._mercatorZfromZoom(tr._maxZoom);\n            const height = Math.max(altitude - mercatorElevation, minHeight);\n            tr._setZoom(tr._zoomFromMercatorZ(height));\n        }\n        else {\n            tr._seaLevelZoom = null;\n            tr.zoom = v.zoom;\n        }\n    }\n    // restore methods\n    tr._constrain = constrain;\n    tr._calcMatrices = calcMatrices;\n    if (!tr._unmodified) {\n        tr._constrain();\n        tr._calcMatrices();\n    }\n}\n//# sourceMappingURL=transform.js.map","import { applyViewStateToTransform, isViewStateControlled } from \"../utils/transform.js\";\n// These are Transform class methods that:\n// + do not mutate any view state properties\n// + populate private members derived from view state properties\n// They should always reflect the state of their owning instance and NOT trigger any proxied getter/setter\nconst unproxiedMethods = new Set([\n    '_calcMatrices',\n    '_calcFogMatrices',\n    '_updateCameraState',\n    '_updateSeaLevelZoom'\n]);\nexport function createProxyTransform(tr) {\n    let internalUpdate = false;\n    let reactViewState = {};\n    /**\n     * Reflects view state set by react props\n     * This is the transform seen by painter, style etc.\n     */\n    const controlledTransform = tr;\n    /** Populated during camera move (handler/easeTo) if there is a discrepency between react props and proposed view state\n     * This is the transform seen by Mapbox's input handlers\n     */\n    let proposedTransform = null;\n    const handlers = {\n        get(target, prop) {\n            // Props added by us\n            if (prop === '$reactViewState') {\n                return reactViewState;\n            }\n            if (prop === '$proposedTransform') {\n                return proposedTransform;\n            }\n            if (prop === '$internalUpdate') {\n                return internalUpdate;\n            }\n            // Ugly - this method is called from HandlerManager bypassing zoom setter\n            if (prop === '_setZoom') {\n                return (z) => {\n                    if (internalUpdate) {\n                        proposedTransform?.[prop](z);\n                    }\n                    if (!Number.isFinite(reactViewState.zoom)) {\n                        controlledTransform[prop](z);\n                    }\n                };\n            }\n            // Ugly - this method is called from HandlerManager and mutates transform._camera\n            if (internalUpdate &&\n                prop === '_translateCameraConstrained' &&\n                isViewStateControlled(reactViewState)) {\n                proposedTransform = proposedTransform || controlledTransform.clone();\n            }\n            if (unproxiedMethods.has(prop)) {\n                // When this function is executed, it updates both transforms respectively\n                return function (...parms) {\n                    proposedTransform?.[prop](...parms);\n                    controlledTransform[prop](...parms);\n                };\n            }\n            // Expose the proposed transform to input handlers\n            if (internalUpdate && proposedTransform) {\n                return proposedTransform[prop];\n            }\n            // Expose the controlled transform to renderer, markers, and event listeners\n            return controlledTransform[prop];\n        },\n        set(target, prop, value) {\n            // Props added by us\n            if (prop === '$reactViewState') {\n                reactViewState = value;\n                applyViewStateToTransform(controlledTransform, reactViewState);\n                return true;\n            }\n            if (prop === '$proposedTransform') {\n                proposedTransform = value;\n                return true;\n            }\n            if (prop === '$internalUpdate') {\n                internalUpdate = value;\n                return true;\n            }\n            // Controlled props\n            let controlledValue = value;\n            if (prop === 'center' || prop === '_center') {\n                if (Number.isFinite(reactViewState.longitude) || Number.isFinite(reactViewState.latitude)) {\n                    // @ts-expect-error LngLat constructor is not typed\n                    controlledValue = new value.constructor(reactViewState.longitude ?? value.lng, reactViewState.latitude ?? value.lat);\n                }\n            }\n            else if (prop === 'zoom' || prop === '_zoom' || prop === '_seaLevelZoom') {\n                if (Number.isFinite(reactViewState.zoom)) {\n                    controlledValue = controlledTransform[prop];\n                }\n            }\n            else if (prop === '_centerAltitude') {\n                if (Number.isFinite(reactViewState.elevation)) {\n                    controlledValue = controlledTransform[prop];\n                }\n            }\n            else if (prop === 'pitch' || prop === '_pitch') {\n                if (Number.isFinite(reactViewState.pitch)) {\n                    controlledValue = controlledTransform[prop];\n                }\n            }\n            else if (prop === 'bearing' || prop === 'rotation' || prop === 'angle') {\n                if (Number.isFinite(reactViewState.bearing)) {\n                    controlledValue = controlledTransform[prop];\n                }\n            }\n            // During camera update, we save view states that are overriden by controlled values in proposedTransform\n            if (internalUpdate && controlledValue !== value) {\n                proposedTransform = proposedTransform || controlledTransform.clone();\n            }\n            if (internalUpdate && proposedTransform) {\n                proposedTransform[prop] = value;\n            }\n            // controlledTransform is not exposed to view state mutation\n            controlledTransform[prop] = controlledValue;\n            return true;\n        }\n    };\n    return new Proxy(tr, handlers);\n}\n//# sourceMappingURL=proxy-transform.js.map","const refProps = ['type', 'source', 'source-layer', 'minzoom', 'maxzoom', 'filter', 'layout'];\n// Prepare a map style object for diffing\n// If immutable - convert to plain object\n// Work around some issues in older styles that would fail Mapbox's diffing\nexport function normalizeStyle(style) {\n    if (!style) {\n        return null;\n    }\n    if (typeof style === 'string') {\n        return style;\n    }\n    if ('toJS' in style) {\n        style = style.toJS();\n    }\n    if (!style.layers) {\n        return style;\n    }\n    const layerIndex = {};\n    for (const layer of style.layers) {\n        layerIndex[layer.id] = layer;\n    }\n    const layers = style.layers.map(layer => {\n        let normalizedLayer = null;\n        if ('interactive' in layer) {\n            normalizedLayer = Object.assign({}, layer);\n            // Breaks style diffing :(\n            // @ts-ignore legacy field not typed\n            delete normalizedLayer.interactive;\n        }\n        // Style diffing doesn't work with refs so expand them out manually before diffing.\n        // @ts-ignore legacy field not typed\n        const layerRef = layerIndex[layer.ref];\n        if (layerRef) {\n            normalizedLayer = normalizedLayer || Object.assign({}, layer);\n            // @ts-ignore\n            delete normalizedLayer.ref;\n            // https://github.com/mapbox/mapbox-gl-js/blob/master/src/style-spec/deref.js\n            for (const propName of refProps) {\n                if (propName in layerRef) {\n                    normalizedLayer[propName] = layerRef[propName];\n                }\n            }\n        }\n        return normalizedLayer || layer;\n    });\n    // Do not mutate the style object provided by the user\n    return { ...style, layers };\n}\n//# sourceMappingURL=style-utils.js.map","/**\n * Compare two points\n * @param a\n * @param b\n * @returns true if the points are equal\n */\nexport function arePointsEqual(a, b) {\n    const ax = Array.isArray(a) ? a[0] : a ? a.x : 0;\n    const ay = Array.isArray(a) ? a[1] : a ? a.y : 0;\n    const bx = Array.isArray(b) ? b[0] : b ? b.x : 0;\n    const by = Array.isArray(b) ? b[1] : b ? b.y : 0;\n    return ax === bx && ay === by;\n}\n/* eslint-disable complexity */\n/**\n * Compare any two objects\n * @param a\n * @param b\n * @returns true if the objects are deep equal\n */\nexport function deepEqual(a, b) {\n    if (a === b) {\n        return true;\n    }\n    if (!a || !b) {\n        return false;\n    }\n    if (Array.isArray(a)) {\n        if (!Array.isArray(b) || a.length !== b.length) {\n            return false;\n        }\n        for (let i = 0; i < a.length; i++) {\n            if (!deepEqual(a[i], b[i])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    else if (Array.isArray(b)) {\n        return false;\n    }\n    if (typeof a === 'object' && typeof b === 'object') {\n        const aKeys = Object.keys(a);\n        const bKeys = Object.keys(b);\n        if (aKeys.length !== bKeys.length) {\n            return false;\n        }\n        for (const key of aKeys) {\n            if (!b.hasOwnProperty(key)) {\n                return false;\n            }\n            if (!deepEqual(a[key], b[key])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    return false;\n}\n//# sourceMappingURL=deep-equal.js.map","import { transformToViewState, compareViewStateWithTransform } from \"../utils/transform.js\";\nimport { createProxyTransform } from \"./proxy-transform.js\";\nimport { normalizeStyle } from \"../utils/style-utils.js\";\nimport { deepEqual } from \"../utils/deep-equal.js\";\nconst DEFAULT_STYLE = { version: 8, sources: {}, layers: [] };\nconst pointerEvents = {\n    mousedown: 'onMouseDown',\n    mouseup: 'onMouseUp',\n    mouseover: 'onMouseOver',\n    mousemove: 'onMouseMove',\n    click: 'onClick',\n    dblclick: 'onDblClick',\n    mouseenter: 'onMouseEnter',\n    mouseleave: 'onMouseLeave',\n    mouseout: 'onMouseOut',\n    contextmenu: 'onContextMenu',\n    touchstart: 'onTouchStart',\n    touchend: 'onTouchEnd',\n    touchmove: 'onTouchMove',\n    touchcancel: 'onTouchCancel'\n};\nconst cameraEvents = {\n    movestart: 'onMoveStart',\n    move: 'onMove',\n    moveend: 'onMoveEnd',\n    dragstart: 'onDragStart',\n    drag: 'onDrag',\n    dragend: 'onDragEnd',\n    zoomstart: 'onZoomStart',\n    zoom: 'onZoom',\n    zoomend: 'onZoomEnd',\n    rotatestart: 'onRotateStart',\n    rotate: 'onRotate',\n    rotateend: 'onRotateEnd',\n    pitchstart: 'onPitchStart',\n    pitch: 'onPitch',\n    pitchend: 'onPitchEnd'\n};\nconst otherEvents = {\n    wheel: 'onWheel',\n    boxzoomstart: 'onBoxZoomStart',\n    boxzoomend: 'onBoxZoomEnd',\n    boxzoomcancel: 'onBoxZoomCancel',\n    resize: 'onResize',\n    load: 'onLoad',\n    render: 'onRender',\n    idle: 'onIdle',\n    remove: 'onRemove',\n    data: 'onData',\n    styledata: 'onStyleData',\n    sourcedata: 'onSourceData',\n    error: 'onError'\n};\nconst settingNames = [\n    'minZoom',\n    'maxZoom',\n    'minPitch',\n    'maxPitch',\n    'maxBounds',\n    'projection',\n    'renderWorldCopies'\n];\nconst handlerNames = [\n    'scrollZoom',\n    'boxZoom',\n    'dragRotate',\n    'dragPan',\n    'keyboard',\n    'doubleClickZoom',\n    'touchZoomRotate',\n    'touchPitch'\n];\n/**\n * A wrapper for mapbox-gl's Map class\n */\nclass Mapbox {\n    constructor(MapClass, props, container) {\n        /** mapboxgl.Map instance */\n        this._map = null;\n        // Internal states\n        /** Making updates driven by React props. Do not trigger React callbacks to avoid infinite loop */\n        this._internalUpdate = false;\n        /** Map is currently rendering */\n        this._inRender = false;\n        /** Map features under the pointer */\n        this._hoveredFeatures = null;\n        /** View state changes driven by React props\n         * They still need to fire move/etc. events because controls such as marker/popup\n         * subscribe to the move event internally to update their position\n         * React callbacks like onMove are not called for these */\n        this._deferredEvents = {\n            move: false,\n            zoom: false,\n            pitch: false,\n            rotate: false\n        };\n        this._onEvent = (e) => {\n            // @ts-ignore\n            const cb = this.props[otherEvents[e.type]];\n            if (cb) {\n                cb(e);\n            }\n            else if (e.type === 'error') {\n                console.error(e.error); // eslint-disable-line\n            }\n        };\n        this._onPointerEvent = (e) => {\n            if (e.type === 'mousemove' || e.type === 'mouseout') {\n                this._updateHover(e);\n            }\n            // @ts-ignore\n            const cb = this.props[pointerEvents[e.type]];\n            if (cb) {\n                if (this.props.interactiveLayerIds && e.type !== 'mouseover' && e.type !== 'mouseout') {\n                    e.features = this._hoveredFeatures || this._queryRenderedFeatures(e.point);\n                }\n                cb(e);\n                delete e.features;\n            }\n        };\n        this._onCameraEvent = (e) => {\n            if (!this._internalUpdate) {\n                // @ts-ignore\n                const cb = this.props[cameraEvents[e.type]];\n                const tr = this._proxyTransform;\n                if (cb) {\n                    e.viewState = transformToViewState(tr.$proposedTransform ?? tr);\n                    cb(e);\n                }\n                if (e.type === 'moveend') {\n                    tr.$proposedTransform = null;\n                }\n            }\n            if (e.type in this._deferredEvents) {\n                this._deferredEvents[e.type] = false;\n            }\n        };\n        this._MapClass = MapClass;\n        this.props = props;\n        this._initialize(container);\n    }\n    get map() {\n        return this._map;\n    }\n    get transform() {\n        return this._map.transform;\n    }\n    setProps(props) {\n        const oldProps = this.props;\n        this.props = props;\n        const settingsChanged = this._updateSettings(props, oldProps);\n        if (settingsChanged) {\n            this._createProxyTransform(this._map);\n        }\n        const sizeChanged = this._updateSize(props);\n        const viewStateChanged = this._updateViewState(props, true);\n        this._updateStyle(props, oldProps);\n        this._updateStyleComponents(props, oldProps);\n        this._updateHandlers(props, oldProps);\n        // If 1) view state has changed to match props and\n        //    2) the props change is not triggered by map events,\n        // it's driven by an external state change. Redraw immediately\n        if (settingsChanged || sizeChanged || (viewStateChanged && !this._map.isMoving())) {\n            this.redraw();\n        }\n    }\n    static reuse(props, container) {\n        const that = Mapbox.savedMaps.pop();\n        if (!that) {\n            return null;\n        }\n        const map = that.map;\n        // When reusing the saved map, we need to reparent the map(canvas) and other child nodes\n        // intoto the new container from the props.\n        // Step 1: reparenting child nodes from old container to new container\n        const oldContainer = map.getContainer();\n        container.className = oldContainer.className;\n        while (oldContainer.childNodes.length > 0) {\n            container.appendChild(oldContainer.childNodes[0]);\n        }\n        // Step 2: replace the internal container with new container from the react component\n        // @ts-ignore\n        map._container = container;\n        // Step 4: apply new props\n        that.setProps({ ...props, styleDiffing: false });\n        map.resize();\n        const { initialViewState } = props;\n        if (initialViewState) {\n            if (initialViewState.bounds) {\n                map.fitBounds(initialViewState.bounds, { ...initialViewState.fitBoundsOptions, duration: 0 });\n            }\n            else {\n                that._updateViewState(initialViewState, false);\n            }\n        }\n        // Simulate load event\n        if (map.isStyleLoaded()) {\n            map.fire('load');\n        }\n        else {\n            map.once('styledata', () => map.fire('load'));\n        }\n        // Force reload\n        // @ts-ignore\n        map._update();\n        return that;\n    }\n    /* eslint-disable complexity,max-statements */\n    _initialize(container) {\n        const { props } = this;\n        const { mapStyle = DEFAULT_STYLE } = props;\n        const mapOptions = {\n            ...props,\n            ...props.initialViewState,\n            accessToken: props.mapboxAccessToken || getAccessTokenFromEnv() || null,\n            container,\n            style: normalizeStyle(mapStyle)\n        };\n        const viewState = mapOptions.initialViewState || mapOptions.viewState || mapOptions;\n        Object.assign(mapOptions, {\n            center: [viewState.longitude || 0, viewState.latitude || 0],\n            zoom: viewState.zoom || 0,\n            pitch: viewState.pitch || 0,\n            bearing: viewState.bearing || 0\n        });\n        if (props.gl) {\n            // eslint-disable-next-line\n            const getContext = HTMLCanvasElement.prototype.getContext;\n            // Hijack canvas.getContext to return our own WebGLContext\n            // This will be called inside the mapboxgl.Map constructor\n            // @ts-expect-error\n            HTMLCanvasElement.prototype.getContext = () => {\n                // Unhijack immediately\n                HTMLCanvasElement.prototype.getContext = getContext;\n                return props.gl;\n            };\n        }\n        const map = new this._MapClass(mapOptions);\n        // Props that are not part of constructor options\n        if (viewState.padding) {\n            map.setPadding(viewState.padding);\n        }\n        if (props.cursor) {\n            map.getCanvas().style.cursor = props.cursor;\n        }\n        this._createProxyTransform(map);\n        // Hack\n        // Insert code into map's render cycle\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        const renderMap = map._render;\n        map._render = (arg) => {\n            // Hijacked to set this state flag\n            this._inRender = true;\n            renderMap.call(map, arg);\n            this._inRender = false;\n        };\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        const runRenderTaskQueue = map._renderTaskQueue.run;\n        map._renderTaskQueue.run = (arg) => {\n            // This is where camera updates from input handler/animation happens\n            // And where all view state change events are fired\n            this._proxyTransform.$internalUpdate = true;\n            runRenderTaskQueue.call(map._renderTaskQueue, arg);\n            this._proxyTransform.$internalUpdate = false;\n            this._fireDefferedEvents();\n        };\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        const jumpTo = map.jumpTo;\n        map.jumpTo = (...args) => {\n            // This method will fire view state change events immediately\n            this._proxyTransform.$internalUpdate = true;\n            jumpTo.apply(map, args);\n            this._proxyTransform.$internalUpdate = false;\n            return map;\n        };\n        // Insert code into map's event pipeline\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        const fireEvent = map.fire;\n        map.fire = this._fireEvent.bind(this, fireEvent);\n        // add listeners\n        map.on('styledata', () => {\n            this._updateStyleComponents(this.props, {});\n        });\n        map.on('sourcedata', () => {\n            this._updateStyleComponents(this.props, {});\n        });\n        for (const eventName in pointerEvents) {\n            map.on(eventName, this._onPointerEvent);\n        }\n        for (const eventName in cameraEvents) {\n            map.on(eventName, this._onCameraEvent);\n        }\n        for (const eventName in otherEvents) {\n            map.on(eventName, this._onEvent);\n        }\n        this._map = map;\n    }\n    /* eslint-enable complexity,max-statements */\n    recycle() {\n        // Clean up unnecessary elements before storing for reuse.\n        const container = this.map.getContainer();\n        const children = container.querySelector('[mapboxgl-children]');\n        children?.remove();\n        Mapbox.savedMaps.push(this);\n    }\n    destroy() {\n        this._map.remove();\n    }\n    // Force redraw the map now. Typically resize() and jumpTo() is reflected in the next\n    // render cycle, which is managed by Mapbox's animation loop.\n    // This removes the synchronization issue caused by requestAnimationFrame.\n    redraw() {\n        const map = this._map;\n        // map._render will throw error if style does not exist\n        // https://github.com/mapbox/mapbox-gl-js/blob/fb9fc316da14e99ff4368f3e4faa3888fb43c513\n        //   /src/ui/map.js#L1834\n        if (!this._inRender && map.style) {\n            // cancel the scheduled update\n            if (map._frame) {\n                map._frame.cancel();\n                map._frame = null;\n            }\n            // the order is important - render() may schedule another update\n            map._render();\n        }\n    }\n    _createProxyTransform(map) {\n        const proxyTransform = createProxyTransform(map.transform);\n        map.transform = proxyTransform;\n        map.painter.transform = proxyTransform;\n        this._proxyTransform = proxyTransform;\n    }\n    /* Trigger map resize if size is controlled\n       @param {object} nextProps\n       @returns {bool} true if size has changed\n     */\n    _updateSize(nextProps) {\n        // Check if size is controlled\n        const { viewState } = nextProps;\n        if (viewState) {\n            const map = this._map;\n            if (viewState.width !== map.transform.width || viewState.height !== map.transform.height) {\n                map.resize();\n                return true;\n            }\n        }\n        return false;\n    }\n    // Adapted from map.jumpTo\n    /* Update camera to match props\n       @param {object} nextProps\n       @param {bool} triggerEvents - should fire camera events\n       @returns {bool} true if anything is changed\n     */\n    _updateViewState(nextProps, triggerEvents) {\n        const viewState = nextProps.viewState || nextProps;\n        const tr = this._proxyTransform;\n        const { zoom, pitch, bearing } = tr;\n        const changed = compareViewStateWithTransform(this._proxyTransform, viewState);\n        tr.$reactViewState = viewState;\n        if (changed && triggerEvents) {\n            const deferredEvents = this._deferredEvents;\n            // Delay DOM control updates to the next render cycle\n            deferredEvents.move = true;\n            deferredEvents.zoom || (deferredEvents.zoom = zoom !== tr.zoom);\n            deferredEvents.rotate || (deferredEvents.rotate = bearing !== tr.bearing);\n            deferredEvents.pitch || (deferredEvents.pitch = pitch !== tr.pitch);\n        }\n        return changed;\n    }\n    /* Update camera constraints and projection settings to match props\n       @param {object} nextProps\n       @param {object} currProps\n       @returns {bool} true if anything is changed\n     */\n    _updateSettings(nextProps, currProps) {\n        const map = this._map;\n        let changed = false;\n        for (const propName of settingNames) {\n            if (propName in nextProps && !deepEqual(nextProps[propName], currProps[propName])) {\n                changed = true;\n                const setter = map[`set${propName[0].toUpperCase()}${propName.slice(1)}`];\n                setter?.call(map, nextProps[propName]);\n            }\n        }\n        return changed;\n    }\n    /* Update map style to match props\n       @param {object} nextProps\n       @param {object} currProps\n       @returns {bool} true if style is changed\n     */\n    _updateStyle(nextProps, currProps) {\n        if (nextProps.cursor !== currProps.cursor) {\n            this._map.getCanvas().style.cursor = nextProps.cursor || '';\n        }\n        if (nextProps.mapStyle !== currProps.mapStyle) {\n            const { mapStyle = DEFAULT_STYLE, styleDiffing = true } = nextProps;\n            const options = {\n                diff: styleDiffing\n            };\n            if ('localIdeographFontFamily' in nextProps) {\n                // @ts-ignore Mapbox specific prop\n                options.localIdeographFontFamily = nextProps.localIdeographFontFamily;\n            }\n            this._map.setStyle(normalizeStyle(mapStyle), options);\n            return true;\n        }\n        return false;\n    }\n    /* Update fog, light and terrain to match props\n       @param {object} nextProps\n       @param {object} currProps\n       @returns {bool} true if anything is changed\n     */\n    _updateStyleComponents(nextProps, currProps) {\n        const map = this._map;\n        let changed = false;\n        if (map.isStyleLoaded()) {\n            if ('light' in nextProps && map.setLight && !deepEqual(nextProps.light, currProps.light)) {\n                changed = true;\n                map.setLight(nextProps.light);\n            }\n            if ('fog' in nextProps && map.setFog && !deepEqual(nextProps.fog, currProps.fog)) {\n                changed = true;\n                map.setFog(nextProps.fog);\n            }\n            if ('terrain' in nextProps &&\n                map.setTerrain &&\n                !deepEqual(nextProps.terrain, currProps.terrain)) {\n                if (!nextProps.terrain || map.getSource(nextProps.terrain.source)) {\n                    changed = true;\n                    map.setTerrain(nextProps.terrain);\n                }\n            }\n        }\n        return changed;\n    }\n    /* Update interaction handlers to match props\n       @param {object} nextProps\n       @param {object} currProps\n       @returns {bool} true if anything is changed\n     */\n    _updateHandlers(nextProps, currProps) {\n        const map = this._map;\n        let changed = false;\n        for (const propName of handlerNames) {\n            const newValue = nextProps[propName] ?? true;\n            const oldValue = currProps[propName] ?? true;\n            if (!deepEqual(newValue, oldValue)) {\n                changed = true;\n                if (newValue) {\n                    map[propName].enable(newValue);\n                }\n                else {\n                    map[propName].disable();\n                }\n            }\n        }\n        return changed;\n    }\n    _queryRenderedFeatures(point) {\n        const map = this._map;\n        const { interactiveLayerIds = [] } = this.props;\n        try {\n            return map.queryRenderedFeatures(point, {\n                layers: interactiveLayerIds.filter(map.getLayer.bind(map))\n            });\n        }\n        catch {\n            // May fail if style is not loaded\n            return [];\n        }\n    }\n    _updateHover(e) {\n        const { props } = this;\n        const shouldTrackHoveredFeatures = props.interactiveLayerIds && (props.onMouseMove || props.onMouseEnter || props.onMouseLeave);\n        if (shouldTrackHoveredFeatures) {\n            const eventType = e.type;\n            const wasHovering = this._hoveredFeatures?.length > 0;\n            const features = this._queryRenderedFeatures(e.point);\n            const isHovering = features.length > 0;\n            if (!isHovering && wasHovering) {\n                e.type = 'mouseleave';\n                this._onPointerEvent(e);\n            }\n            this._hoveredFeatures = features;\n            if (isHovering && !wasHovering) {\n                e.type = 'mouseenter';\n                this._onPointerEvent(e);\n            }\n            e.type = eventType;\n        }\n        else {\n            this._hoveredFeatures = null;\n        }\n    }\n    _fireEvent(baseFire, event, properties) {\n        const map = this._map;\n        const tr = this._proxyTransform;\n        // Always expose the controlled transform to controls/end user\n        const internal = tr.$internalUpdate;\n        try {\n            tr.$internalUpdate = false;\n            baseFire.call(map, event, properties);\n        }\n        finally {\n            tr.$internalUpdate = internal;\n        }\n        return map;\n    }\n    // If there are camera changes driven by props, invoke camera events so that DOM controls are synced\n    _fireDefferedEvents() {\n        const map = this._map;\n        this._internalUpdate = true;\n        for (const eventType in this._deferredEvents) {\n            if (this._deferredEvents[eventType]) {\n                map.fire(eventType);\n            }\n        }\n        this._internalUpdate = false;\n    }\n}\nMapbox.savedMaps = [];\nexport default Mapbox;\n/**\n * Access token can be provided via one of:\n *   mapboxAccessToken prop\n *   access_token query parameter\n *   MapboxAccessToken environment variable\n *   REACT_APP_MAPBOX_ACCESS_TOKEN environment variable\n * @returns access token\n */\nfunction getAccessTokenFromEnv() {\n    let accessToken = null;\n    /* global location, process */\n    if (typeof location !== 'undefined') {\n        const match = /access_token=([^&\\/]*)/.exec(location.search);\n        accessToken = match && match[1];\n    }\n    // Note: This depends on bundler plugins (e.g. webpack) importing environment correctly\n    try {\n        // eslint-disable-next-line no-process-env\n        accessToken = accessToken || process.env.MapboxAccessToken;\n    }\n    catch {\n        // ignore\n    }\n    try {\n        // eslint-disable-next-line no-process-env\n        accessToken = accessToken || process.env.REACT_APP_MAPBOX_ACCESS_TOKEN;\n    }\n    catch {\n        // ignore\n    }\n    return accessToken;\n}\n//# sourceMappingURL=mapbox.js.map","/** These methods may break the react binding if called directly */\nconst skipMethods = [\n    'setMaxBounds',\n    'setMinZoom',\n    'setMaxZoom',\n    'setMinPitch',\n    'setMaxPitch',\n    'setRenderWorldCopies',\n    'setProjection',\n    'setStyle',\n    'addSource',\n    'removeSource',\n    'addLayer',\n    'removeLayer',\n    'setLayerZoomRange',\n    'setFilter',\n    'setPaintProperty',\n    'setLayoutProperty',\n    'setLight',\n    'setTerrain',\n    'setFog',\n    'remove'\n];\nexport default function createRef(mapInstance) {\n    if (!mapInstance) {\n        return null;\n    }\n    const map = mapInstance.map;\n    const ref = {\n        getMap: () => map,\n        // Overwrite getters to use our shadow transform\n        getCenter: () => mapInstance.transform.center,\n        getZoom: () => mapInstance.transform.zoom,\n        getBearing: () => mapInstance.transform.bearing,\n        getPitch: () => mapInstance.transform.pitch,\n        getPadding: () => mapInstance.transform.padding,\n        getBounds: () => mapInstance.transform.getBounds(),\n        project: (lnglat) => {\n            const tr = map.transform;\n            map.transform = mapInstance.transform;\n            const result = map.project(lnglat);\n            map.transform = tr;\n            return result;\n        },\n        unproject: (point) => {\n            const tr = map.transform;\n            map.transform = mapInstance.transform;\n            const result = map.unproject(point);\n            map.transform = tr;\n            return result;\n        },\n        // options diverge between mapbox and maplibre\n        queryTerrainElevation: (lnglat, options) => {\n            const tr = map.transform;\n            map.transform = mapInstance.transform;\n            const result = map.queryTerrainElevation(lnglat, options);\n            map.transform = tr;\n            return result;\n        },\n        queryRenderedFeatures: (geometry, options) => {\n            const tr = map.transform;\n            map.transform = mapInstance.transform;\n            const result = map.queryRenderedFeatures(geometry, options);\n            map.transform = tr;\n            return result;\n        }\n    };\n    for (const key of getMethodNames(map)) {\n        // @ts-expect-error\n        if (!(key in ref) && !skipMethods.includes(key)) {\n            ref[key] = map[key].bind(map);\n        }\n    }\n    return ref;\n}\nfunction getMethodNames(obj) {\n    const result = new Set();\n    let proto = obj;\n    while (proto) {\n        for (const key of Object.getOwnPropertyNames(proto)) {\n            if (key[0] !== '_' &&\n                typeof obj[key] === 'function' &&\n                key !== 'fire' &&\n                key !== 'setEventedParent') {\n                result.add(key);\n            }\n        }\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Array.from(result);\n}\n//# sourceMappingURL=create-ref.js.map","// From https://github.com/streamich/react-use/blob/master/src/useIsomorphicLayoutEffect.ts\n// useLayoutEffect but does not trigger warning in server-side rendering\nimport { useEffect, useLayoutEffect } from 'react';\nconst useIsomorphicLayoutEffect = typeof document !== 'undefined' ? useLayoutEffect : useEffect;\nexport default useIsomorphicLayoutEffect;\n//# sourceMappingURL=use-isomorphic-layout-effect.js.map","const globalSettings = [\n    'baseApiUrl',\n    'maxParallelImageRequests',\n    'workerClass',\n    'workerCount',\n    'workerUrl'\n];\nexport default function setGlobals(mapLib, props) {\n    for (const key of globalSettings) {\n        if (key in props) {\n            mapLib[key] = props[key];\n        }\n    }\n    const { RTLTextPlugin = 'https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js' } = props;\n    if (RTLTextPlugin &&\n        mapLib.getRTLTextPluginStatus &&\n        mapLib.getRTLTextPluginStatus() === 'unavailable') {\n        mapLib.setRTLTextPlugin(RTLTextPlugin, (error) => {\n            if (error) {\n                // eslint-disable-next-line\n                console.error(error);\n            }\n        }, true);\n    }\n}\n//# sourceMappingURL=set-globals.js.map","import * as React from 'react';\nimport { useState, useRef, useEffect, useContext, useMemo, useImperativeHandle } from 'react';\nimport { MountedMapsContext } from \"./use-map.js\";\nimport Mapbox from \"../mapbox/mapbox.js\";\nimport createRef from \"../mapbox/create-ref.js\";\nimport useIsomorphicLayoutEffect from \"../utils/use-isomorphic-layout-effect.js\";\nimport setGlobals from \"../utils/set-globals.js\";\nexport const MapContext = React.createContext(null);\nfunction _Map(props, ref) {\n    const mountedMapsContext = useContext(MountedMapsContext);\n    const [mapInstance, setMapInstance] = useState(null);\n    const containerRef = useRef();\n    const { current: contextValue } = useRef({ mapLib: null, map: null });\n    useEffect(() => {\n        const mapLib = props.mapLib;\n        let isMounted = true;\n        let mapbox;\n        Promise.resolve(mapLib || import('mapbox-gl'))\n            .then((module) => {\n            if (!isMounted) {\n                return;\n            }\n            if (!module) {\n                throw new Error('Invalid mapLib');\n            }\n            const mapboxgl = 'Map' in module ? module : module.default;\n            if (!mapboxgl.Map) {\n                throw new Error('Invalid mapLib');\n            }\n            setGlobals(mapboxgl, props);\n            if (props.reuseMaps) {\n                mapbox = Mapbox.reuse(props, containerRef.current);\n            }\n            if (!mapbox) {\n                mapbox = new Mapbox(mapboxgl.Map, props, containerRef.current);\n            }\n            contextValue.map = createRef(mapbox);\n            contextValue.mapLib = mapboxgl;\n            setMapInstance(mapbox);\n            mountedMapsContext?.onMapMount(contextValue.map, props.id);\n        })\n            .catch(error => {\n            const { onError } = props;\n            if (onError) {\n                onError({\n                    type: 'error',\n                    target: null,\n                    error\n                });\n            }\n            else {\n                console.error(error); // eslint-disable-line\n            }\n        });\n        return () => {\n            isMounted = false;\n            if (mapbox) {\n                mountedMapsContext?.onMapUnmount(props.id);\n                if (props.reuseMaps) {\n                    mapbox.recycle();\n                }\n                else {\n                    mapbox.destroy();\n                }\n            }\n        };\n    }, []);\n    useIsomorphicLayoutEffect(() => {\n        if (mapInstance) {\n            mapInstance.setProps(props);\n        }\n    });\n    useImperativeHandle(ref, () => contextValue.map, [mapInstance]);\n    const style = useMemo(() => ({\n        position: 'relative',\n        width: '100%',\n        height: '100%',\n        ...props.style\n    }), [props.style]);\n    const CHILD_CONTAINER_STYLE = {\n        height: '100%'\n    };\n    return (React.createElement(\"div\", { id: props.id, ref: containerRef, style: style }, mapInstance && (React.createElement(MapContext.Provider, { value: contextValue },\n        React.createElement(\"div\", { \"mapboxgl-children\": \"\", style: CHILD_CONTAINER_STYLE }, props.children)))));\n}\nexport const Map = React.forwardRef(_Map);\n//# sourceMappingURL=map.js.map","// This is a simplified version of\n// https://github.com/facebook/react/blob/4131af3e4bf52f3a003537ec95a1655147c81270/src/renderers/dom/shared/CSSPropertyOperations.js#L62\nconst unitlessNumber = /box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;\nexport function applyReactStyle(element, styles) {\n    if (!element || !styles) {\n        return;\n    }\n    const style = element.style;\n    for (const key in styles) {\n        const value = styles[key];\n        if (Number.isFinite(value) && !unitlessNumber.test(key)) {\n            style[key] = `${value}px`;\n        }\n        else {\n            style[key] = value;\n        }\n    }\n}\n//# sourceMappingURL=apply-react-style.js.map","/** Compare two classNames string and return the difference */\nexport function compareClassNames(prevClassName, nextClassName) {\n    if (prevClassName === nextClassName) {\n        return null;\n    }\n    const prevClassList = getClassList(prevClassName);\n    const nextClassList = getClassList(nextClassName);\n    const diff = [];\n    for (const c of nextClassList) {\n        if (!prevClassList.has(c)) {\n            diff.push(c);\n        }\n    }\n    for (const c of prevClassList) {\n        if (!nextClassList.has(c)) {\n            diff.push(c);\n        }\n    }\n    return diff.length === 0 ? null : diff;\n}\nfunction getClassList(className) {\n    return new Set(className ? className.trim().split(/\\s+/) : []);\n}\n//# sourceMappingURL=compare-class-names.js.map","/* global document */\nimport * as React from 'react';\nimport { createPortal } from 'react-dom';\nimport { useImperativeHandle, useEffect, useMemo, useRef, useContext, forwardRef, memo } from 'react';\nimport { applyReactStyle } from \"../utils/apply-react-style.js\";\nimport { MapContext } from \"./map.js\";\nimport { arePointsEqual } from \"../utils/deep-equal.js\";\nimport { compareClassNames } from \"../utils/compare-class-names.js\";\n/* eslint-disable complexity,max-statements */\nexport const Marker = memo(forwardRef((props, ref) => {\n    const { map, mapLib } = useContext(MapContext);\n    const thisRef = useRef({ props });\n    const marker = useMemo(() => {\n        let hasChildren = false;\n        React.Children.forEach(props.children, el => {\n            if (el) {\n                hasChildren = true;\n            }\n        });\n        const options = {\n            ...props,\n            element: hasChildren ? document.createElement('div') : null\n        };\n        const mk = new mapLib.Marker(options);\n        mk.setLngLat([props.longitude, props.latitude]);\n        mk.getElement().addEventListener('click', (e) => {\n            thisRef.current.props.onClick?.({\n                type: 'click',\n                target: mk,\n                originalEvent: e\n            });\n        });\n        mk.on('dragstart', e => {\n            const evt = e;\n            evt.lngLat = marker.getLngLat();\n            thisRef.current.props.onDragStart?.(evt);\n        });\n        mk.on('drag', e => {\n            const evt = e;\n            evt.lngLat = marker.getLngLat();\n            thisRef.current.props.onDrag?.(evt);\n        });\n        mk.on('dragend', e => {\n            const evt = e;\n            evt.lngLat = marker.getLngLat();\n            thisRef.current.props.onDragEnd?.(evt);\n        });\n        return mk;\n    }, []);\n    useEffect(() => {\n        marker.addTo(map.getMap());\n        return () => {\n            marker.remove();\n        };\n    }, []);\n    const { longitude, latitude, offset, style, draggable = false, popup = null, rotation = 0, rotationAlignment = 'auto', pitchAlignment = 'auto' } = props;\n    useEffect(() => {\n        applyReactStyle(marker.getElement(), style);\n    }, [style]);\n    useImperativeHandle(ref, () => marker, []);\n    const oldProps = thisRef.current.props;\n    if (marker.getLngLat().lng !== longitude || marker.getLngLat().lat !== latitude) {\n        marker.setLngLat([longitude, latitude]);\n    }\n    if (offset && !arePointsEqual(marker.getOffset(), offset)) {\n        marker.setOffset(offset);\n    }\n    if (marker.isDraggable() !== draggable) {\n        marker.setDraggable(draggable);\n    }\n    if (marker.getRotation() !== rotation) {\n        marker.setRotation(rotation);\n    }\n    if (marker.getRotationAlignment() !== rotationAlignment) {\n        marker.setRotationAlignment(rotationAlignment);\n    }\n    if (marker.getPitchAlignment() !== pitchAlignment) {\n        marker.setPitchAlignment(pitchAlignment);\n    }\n    if (marker.getPopup() !== popup) {\n        marker.setPopup(popup);\n    }\n    const classNameDiff = compareClassNames(oldProps.className, props.className);\n    if (classNameDiff) {\n        for (const c of classNameDiff) {\n            marker.toggleClassName(c);\n        }\n    }\n    thisRef.current.props = props;\n    return createPortal(props.children, marker.getElement());\n}));\n//# sourceMappingURL=marker.js.map","import { createPortal } from 'react-dom';\nimport { useImperativeHandle, useEffect, useMemo, useRef, useContext, forwardRef, memo } from 'react';\nimport { applyReactStyle } from \"../utils/apply-react-style.js\";\nimport { MapContext } from \"./map.js\";\nimport { deepEqual } from \"../utils/deep-equal.js\";\nimport { compareClassNames } from \"../utils/compare-class-names.js\";\n/* eslint-disable complexity,max-statements */\nexport const Popup = memo(forwardRef((props, ref) => {\n    const { map, mapLib } = useContext(MapContext);\n    const container = useMemo(() => {\n        return document.createElement('div');\n    }, []);\n    const thisRef = useRef({ props });\n    const popup = useMemo(() => {\n        const options = { ...props };\n        const pp = new mapLib.Popup(options);\n        pp.setLngLat([props.longitude, props.latitude]);\n        pp.once('open', e => {\n            thisRef.current.props.onOpen?.(e);\n        });\n        return pp;\n    }, []);\n    useEffect(() => {\n        const onClose = e => {\n            thisRef.current.props.onClose?.(e);\n        };\n        popup.on('close', onClose);\n        popup.setDOMContent(container).addTo(map.getMap());\n        return () => {\n            // https://github.com/visgl/react-map-gl/issues/1825\n            // onClose should not be fired if the popup is removed by unmounting\n            // When using React strict mode, the component is mounted twice.\n            // Firing the onClose callback here would be a false signal to remove the component.\n            popup.off('close', onClose);\n            if (popup.isOpen()) {\n                popup.remove();\n            }\n        };\n    }, []);\n    useEffect(() => {\n        applyReactStyle(popup.getElement(), props.style);\n    }, [props.style]);\n    useImperativeHandle(ref, () => popup, []);\n    if (popup.isOpen()) {\n        const oldProps = thisRef.current.props;\n        if (popup.getLngLat().lng !== props.longitude || popup.getLngLat().lat !== props.latitude) {\n            popup.setLngLat([props.longitude, props.latitude]);\n        }\n        if (props.offset && !deepEqual(oldProps.offset, props.offset)) {\n            popup.options.anchor = props.anchor;\n            popup.setOffset(props.offset);\n        }\n        if (oldProps.anchor !== props.anchor || oldProps.maxWidth !== props.maxWidth) {\n            popup.setMaxWidth(props.maxWidth);\n        }\n        const classNameDiff = compareClassNames(oldProps.className, props.className);\n        if (classNameDiff) {\n            for (const c of classNameDiff) {\n                popup.toggleClassName(c);\n            }\n        }\n        thisRef.current.props = props;\n    }\n    return createPortal(props.children, container);\n}));\n//# sourceMappingURL=popup.js.map","import { useContext, useMemo, useEffect } from 'react';\nimport { MapContext } from \"./map.js\";\nexport function useControl(onCreate, arg1, arg2, arg3) {\n    const context = useContext(MapContext);\n    const ctrl = useMemo(() => onCreate(context), []);\n    useEffect(() => {\n        const opts = (arg3 || arg2 || arg1);\n        const onAdd = typeof arg1 === 'function' && typeof arg2 === 'function' ? arg1 : null;\n        const onRemove = typeof arg2 === 'function' ? arg2 : typeof arg1 === 'function' ? arg1 : null;\n        const { map } = context;\n        if (!map.hasControl(ctrl)) {\n            map.addControl(ctrl, opts?.position);\n            if (onAdd) {\n                onAdd(context);\n            }\n        }\n        return () => {\n            if (onRemove) {\n                onRemove(context);\n            }\n            // Map might have been removed (parent effects are destroyed before child ones)\n            if (map.hasControl(ctrl)) {\n                map.removeControl(ctrl);\n            }\n        };\n    }, []);\n    return ctrl;\n}\n//# sourceMappingURL=use-control.js.map","import { useEffect, memo } from 'react';\nimport { applyReactStyle } from \"../utils/apply-react-style.js\";\nimport { useControl } from \"./use-control.js\";\nfunction _AttributionControl(props) {\n    const ctrl = useControl(({ mapLib }) => new mapLib.AttributionControl(props), {\n        position: props.position\n    });\n    useEffect(() => {\n        applyReactStyle(ctrl._container, props.style);\n    }, [props.style]);\n    return null;\n}\nexport const AttributionControl = memo(_AttributionControl);\n//# sourceMappingURL=attribution-control.js.map","import { useEffect, memo } from 'react';\nimport { applyReactStyle } from \"../utils/apply-react-style.js\";\nimport { useControl } from \"./use-control.js\";\nfunction _FullscreenControl(props) {\n    const ctrl = useControl(({ mapLib }) => new mapLib.FullscreenControl({\n        container: props.containerId && document.getElementById(props.containerId)\n    }), { position: props.position });\n    useEffect(() => {\n        applyReactStyle(ctrl._controlContainer, props.style);\n    }, [props.style]);\n    return null;\n}\nexport const FullscreenControl = memo(_FullscreenControl);\n//# sourceMappingURL=fullscreen-control.js.map","import { useImperativeHandle, useRef, useEffect, forwardRef, memo } from 'react';\nimport { applyReactStyle } from \"../utils/apply-react-style.js\";\nimport { useControl } from \"./use-control.js\";\nfunction _GeolocateControl(props, ref) {\n    const thisRef = useRef({ props });\n    const ctrl = useControl(({ mapLib }) => {\n        const gc = new mapLib.GeolocateControl(props);\n        // Hack: fix GeolocateControl reuse\n        // When using React strict mode, the component is mounted twice.\n        // GeolocateControl's UI creation is asynchronous. Removing and adding it back causes the UI to be initialized twice.\n        const setupUI = gc._setupUI.bind(gc);\n        gc._setupUI = args => {\n            if (!gc._container.hasChildNodes()) {\n                setupUI(args);\n            }\n        };\n        gc.on('geolocate', e => {\n            thisRef.current.props.onGeolocate?.(e);\n        });\n        gc.on('error', e => {\n            thisRef.current.props.onError?.(e);\n        });\n        gc.on('outofmaxbounds', e => {\n            thisRef.current.props.onOutOfMaxBounds?.(e);\n        });\n        gc.on('trackuserlocationstart', e => {\n            thisRef.current.props.onTrackUserLocationStart?.(e);\n        });\n        gc.on('trackuserlocationend', e => {\n            thisRef.current.props.onTrackUserLocationEnd?.(e);\n        });\n        return gc;\n    }, { position: props.position });\n    thisRef.current.props = props;\n    useImperativeHandle(ref, () => ctrl, []);\n    useEffect(() => {\n        applyReactStyle(ctrl._container, props.style);\n    }, [props.style]);\n    return null;\n}\nexport const GeolocateControl = memo(forwardRef(_GeolocateControl));\n//# sourceMappingURL=geolocate-control.js.map","import { useEffect, memo } from 'react';\nimport { applyReactStyle } from \"../utils/apply-react-style.js\";\nimport { useControl } from \"./use-control.js\";\nfunction _NavigationControl(props) {\n    const ctrl = useControl(({ mapLib }) => new mapLib.NavigationControl(props), {\n        position: props.position\n    });\n    useEffect(() => {\n        applyReactStyle(ctrl._container, props.style);\n    }, [props.style]);\n    return null;\n}\nexport const NavigationControl = memo(_NavigationControl);\n//# sourceMappingURL=navigation-control.js.map","import { useEffect, useRef, memo } from 'react';\nimport { applyReactStyle } from \"../utils/apply-react-style.js\";\nimport { useControl } from \"./use-control.js\";\nfunction _ScaleControl(props) {\n    const ctrl = useControl(({ mapLib }) => new mapLib.ScaleControl(props), {\n        position: props.position\n    });\n    const propsRef = useRef(props);\n    const prevProps = propsRef.current;\n    propsRef.current = props;\n    const { style } = props;\n    if (props.maxWidth !== undefined && props.maxWidth !== prevProps.maxWidth) {\n        ctrl.options.maxWidth = props.maxWidth;\n    }\n    if (props.unit !== undefined && props.unit !== prevProps.unit) {\n        ctrl.setUnit(props.unit);\n    }\n    useEffect(() => {\n        applyReactStyle(ctrl._container, style);\n    }, [style]);\n    return null;\n}\nexport const ScaleControl = memo(_ScaleControl);\n//# sourceMappingURL=scale-control.js.map","export default function assert(condition, message) {\n    if (!condition) {\n        throw new Error(message);\n    }\n}\n//# sourceMappingURL=assert.js.map","import * as React from 'react';\nimport { useContext, useEffect, useMemo, useState, useRef, cloneElement } from 'react';\nimport { MapContext } from \"./map.js\";\nimport assert from \"../utils/assert.js\";\nimport { deepEqual } from \"../utils/deep-equal.js\";\nlet sourceCounter = 0;\nfunction createSource(map, id, props) {\n    // @ts-ignore\n    if (map.style && map.style._loaded) {\n        const options = { ...props };\n        delete options.id;\n        delete options.children;\n        // @ts-ignore\n        map.addSource(id, options);\n        return map.getSource(id);\n    }\n    return null;\n}\n/* eslint-disable complexity */\nfunction updateSource(source, props, prevProps) {\n    assert(props.id === prevProps.id, 'source id changed');\n    assert(props.type === prevProps.type, 'source type changed');\n    let changedKey = '';\n    let changedKeyCount = 0;\n    for (const key in props) {\n        if (key !== 'children' && key !== 'id' && !deepEqual(prevProps[key], props[key])) {\n            changedKey = key;\n            changedKeyCount++;\n        }\n    }\n    if (!changedKeyCount) {\n        return;\n    }\n    const type = props.type;\n    if (type === 'geojson') {\n        source.setData(props.data);\n    }\n    else if (type === 'image') {\n        source.updateImage({\n            url: props.url,\n            coordinates: props.coordinates\n        });\n    }\n    else if ('setCoordinates' in source && changedKeyCount === 1 && changedKey === 'coordinates') {\n        source.setCoordinates(props.coordinates);\n    }\n    else if ('setUrl' in source && changedKey === 'url') {\n        source.setUrl(props.url);\n    }\n    else if ('setTiles' in source && changedKey === 'tiles') {\n        source.setTiles(props.tiles);\n    }\n    else {\n        // eslint-disable-next-line\n        console.warn(`Unable to update <Source> prop: ${changedKey}`);\n    }\n}\n/* eslint-enable complexity */\nexport function Source(props) {\n    const map = useContext(MapContext).map.getMap();\n    const propsRef = useRef(props);\n    const [, setStyleLoaded] = useState(0);\n    const id = useMemo(() => props.id || `jsx-source-${sourceCounter++}`, []);\n    useEffect(() => {\n        if (map) {\n            /* global setTimeout */\n            const forceUpdate = () => setTimeout(() => setStyleLoaded(version => version + 1), 0);\n            map.on('styledata', forceUpdate);\n            forceUpdate();\n            return () => {\n                map.off('styledata', forceUpdate);\n                // @ts-ignore\n                if (map.style && map.style._loaded && map.getSource(id)) {\n                    // Parent effects are destroyed before child ones, see\n                    // https://github.com/facebook/react/issues/16728\n                    // Source can only be removed after all child layers are removed\n                    const allLayers = map.getStyle()?.layers;\n                    if (allLayers) {\n                        for (const layer of allLayers) {\n                            // @ts-ignore (2339) source does not exist on all layer types\n                            if (layer.source === id) {\n                                map.removeLayer(layer.id);\n                            }\n                        }\n                    }\n                    map.removeSource(id);\n                }\n            };\n        }\n        return undefined;\n    }, [map]);\n    // @ts-ignore\n    let source = map && map.style && map.getSource(id);\n    if (source) {\n        updateSource(source, props, propsRef.current);\n    }\n    else {\n        source = createSource(map, id, props);\n    }\n    propsRef.current = props;\n    return ((source &&\n        React.Children.map(props.children, child => child &&\n            cloneElement(child, {\n                source: id\n            }))) ||\n        null);\n}\n//# sourceMappingURL=source.js.map","import { useContext, useEffect, useMemo, useState, useRef } from 'react';\nimport { MapContext } from \"./map.js\";\nimport assert from \"../utils/assert.js\";\nimport { deepEqual } from \"../utils/deep-equal.js\";\n/* eslint-disable complexity, max-statements */\nfunction updateLayer(map, id, props, prevProps) {\n    assert(props.id === prevProps.id, 'layer id changed');\n    assert(props.type === prevProps.type, 'layer type changed');\n    if (props.type === 'custom' || prevProps.type === 'custom') {\n        return;\n    }\n    // @ts-ignore filter does not exist in some Layer types\n    const { layout = {}, paint = {}, filter, minzoom, maxzoom, beforeId } = props;\n    if (beforeId !== prevProps.beforeId) {\n        map.moveLayer(id, beforeId);\n    }\n    if (layout !== prevProps.layout) {\n        const prevLayout = prevProps.layout || {};\n        for (const key in layout) {\n            if (!deepEqual(layout[key], prevLayout[key])) {\n                map.setLayoutProperty(id, key, layout[key]);\n            }\n        }\n        for (const key in prevLayout) {\n            if (!layout.hasOwnProperty(key)) {\n                map.setLayoutProperty(id, key, undefined);\n            }\n        }\n    }\n    if (paint !== prevProps.paint) {\n        const prevPaint = prevProps.paint || {};\n        for (const key in paint) {\n            if (!deepEqual(paint[key], prevPaint[key])) {\n                map.setPaintProperty(id, key, paint[key]);\n            }\n        }\n        for (const key in prevPaint) {\n            if (!paint.hasOwnProperty(key)) {\n                map.setPaintProperty(id, key, undefined);\n            }\n        }\n    }\n    // @ts-ignore filter does not exist in some Layer types\n    if (!deepEqual(filter, prevProps.filter)) {\n        map.setFilter(id, filter);\n    }\n    if (minzoom !== prevProps.minzoom || maxzoom !== prevProps.maxzoom) {\n        map.setLayerZoomRange(id, minzoom, maxzoom);\n    }\n}\nfunction createLayer(map, id, props) {\n    // @ts-ignore\n    if (map.style && map.style._loaded && (!('source' in props) || map.getSource(props.source))) {\n        const options = { ...props, id };\n        delete options.beforeId;\n        // @ts-ignore\n        map.addLayer(options, props.beforeId);\n    }\n}\n/* eslint-enable complexity, max-statements */\nlet layerCounter = 0;\nexport function Layer(props) {\n    const map = useContext(MapContext).map.getMap();\n    const propsRef = useRef(props);\n    const [, setStyleLoaded] = useState(0);\n    const id = useMemo(() => props.id || `jsx-layer-${layerCounter++}`, []);\n    useEffect(() => {\n        if (map) {\n            const forceUpdate = () => setStyleLoaded(version => version + 1);\n            map.on('styledata', forceUpdate);\n            forceUpdate();\n            return () => {\n                map.off('styledata', forceUpdate);\n                // @ts-ignore\n                if (map.style && map.style._loaded && map.getLayer(id)) {\n                    map.removeLayer(id);\n                }\n            };\n        }\n        return undefined;\n    }, [map]);\n    // @ts-ignore\n    const layer = map && map.style && map.getLayer(id);\n    if (layer) {\n        try {\n            updateLayer(map, id, props, propsRef.current);\n        }\n        catch (error) {\n            console.warn(error); // eslint-disable-line\n        }\n    }\n    else {\n        createLayer(map, id, props);\n    }\n    // Store last rendered props\n    propsRef.current = props;\n    return null;\n}\n//# sourceMappingURL=layer.js.map","var React = require('react');\n\nfunction Dot (props) {\n    return React.createElement(\"svg\",props,[React.createElement(\"defs\",{\"key\":0},React.createElement(\"style\",null,\"\\n      .circle-1 {\\n        fill: #052f39;\\n      }\\n    \")),React.createElement(\"g\",{\"id\":\"Layer_1-2\",\"data-name\":\"Layer 1\",\"key\":1},React.createElement(\"path\",{\"className\":\"circle-1\",\"d\":\"M50.03,16.35c.85-.93-.77-2.56-1.02-3.48l-.47.2c-.3-.58-.74-1.06-1.31-1.64l-.35.28c-.69-.35-.71-1.62-1.44-2.44.18-.05.34.18.36.4,0-.82-.63-1.23-1.23-1.59-.59-.37-1.27-.59-1.43-1.27-.32-.08-.44-.26-.52-.49.02.02.04.03.07.03-.02-.03-.05-.06-.08-.09-.04-.15-.09-.29-.16-.44.03.16.07.3.11.4-.18-.14-.49-.3-.82-.42l.18-.47s-.04-.02-.07-.04c-.16-.35-.35.02-.43.41-.18-.04-.36-.06-.52-.04.25-.8-.83-.31-.67-1.17-.42.22-1.58-.65-2.15.02.05-.1-.01-.19.14-.12-.27-.25-.55-.5-.95-.43l.14-.62-1.06.39c-.27-.54-.39-.8.26-1.05-1.37.23-1-.1-2.15.22l.17-.36c-.33-.13-1.03.25-1.13-.13-.27-.46-1.19-.81-2.31-.99-1.11-.27-2.38-.34-3.39-.78.36,1.16-.95-.52-1.04.39-.12-.27-.41-.43-.08-.67-.53.15-.93.04-1.29,0-.36,0-.68.04-1,.46-.15-.26.18-.43.06-.58-.08.07-.31.28-.44.13-.13-.15.13-.25.29-.39-1.11.18-1.08,1.03-1.02,1.82-.58-.27-.84-.15-1.1.44-.23-.22-.6-.41.02-.65-.18.02-.76.05-1.27.15-.49.11-.89.31-.82.62-.15-.13-.47.08-.54.18-.75.17-.83.13-1.55.39l.23.05c-.08.81-.57.35-1.15.64v-.08c-.79-.03-.93.08-1.05.18-.13.1-.26.18-1.04.2l.26.41c.14.5-.2.49-.67.44-.46-.04-1.07-.13-1.34.27l.39.09c-.21.53-1.79-.59-2.31-.44-.14-.02.07-.21.17-.34-1.43.14.17.59-.52,1.24-.33-.18-.29-.85-.86-.53-.21-.02-.44.48-.73.97-.3.48-.6,1.04-1.15,1.07.32.07.62.15.43.58-.21.26-.73.34-1.14.55-.41.21-.76.49-.67.98-.11.01-.18-.01-.23-.05-.22.49-.8,1.48-.62,1.99-.79-.32-1.15.41-1.33,1.15-.2.73-.34,1.39-1,1-.24.46-.43.95-.65,1.42l-.12-.11c-.56.84-.33,1.33-.12,1.79-.18.17-.25-.04-.32-.09-.41.61-.61.97-.67,1.34-.03.38.07.77.27,1.44h-.51c.16.34-1.26,1.87-.86,3.39-.05-.02-.15-.06-.21-.18.24.84-.26,1.75-.4,2.61-.17.85-.21,1.6.72,1.82l.56.99c-.01-1.33.8.11,1.04-.45.16.47-.39,1.36-.55.76l.08-.11c-.48-.06-.52.36-.51.81.02.44.13.89-.19.94.16.64.27,1.33.39,1.92.12.6.22,1.2.32,1.8l.14.89c.07.32.14.63.21.95.17.62.28,1.27.55,1.85l.56-.54.31.81c-.06.28-.4.52-.63-.07-.24.47.75.83.9.77.24,1.25-.97-.07-.83.28l.26.45.03-.15c.43.26.76.12,1.09.79.11.48-.27.44-.2.62-.05.02-.03.09.13.26.17.34.33.68.54.99l.23-.68c.52.24.57.85.82.08-.19.56.27,1.5.94,2.23.64.75,1.33,1.4,1.41,1.65.8.15,1.23.65,1.86,1.19-.09-.22.24-.79.73-.31-1.02.88.62,1.28.6,2.36-.09-.81,1.83.97,1.61-.24.44.41-.23.45,0,.96.77.1,1.42.54,2.12,1.01.73.41,1.48.95,2.38,1.11.08-.16-.12-.5.32-.64.21.36.43.73.66,1.1.37,0,.56-.88,1.04-.15-.06-.16-.14-.4.1-.42,1.59.76,3.42.84,5.18.71.44-.03.89-.05,1.33-.06.44-.05.88-.08,1.33-.08.9.03,1.79.01,2.77.21-.55-.23-.24-.33.11-.42-.25-.03-.1-.42-.2-.64l1.53.29c.07-.7,1.4-.43,1.37-1.08l-.39.22c.2-.48-.19-.85-.61-1.24l1.3-.36c6.52-1.79,11.53-6.44,14.06-12.22,0,.02-.01.04,0,.07l.21.07c.09-.26.04-.48-.1-.39.1-.23.19-.46.28-.7.17.54,1.42.7,2.26.47-.16-.08-.3-.13-.32-.76-.27.13-.94,1.03-1.1.45.08-.77.36-.52.66-.81-.48.12-.44-.83-.92-1.1.4-1.39.66-2.83.77-4.29.05.02.11.02.16-.03l-.04-.41c.47-.36.53.82.78.31.23.58.73,1.3.31,2.07l-.63.05c.18.01.46-.46.31-.71.22.38-1.03,1.06-.31,1.57l.52-.48c.2.62.72,1.51.3,2.17.68-.17-.02-.18.81-.53-.93.26.4-1.9-.64-1.34.89-.39.55-.86,1.3-1.49-.2,0-.41.21-.25-.42-.06-.03-.12-.11-.17-.16,0-.02.01-.03.02-.04l-.03.03s-.03-.03-.01.01c-.1.14-.22.25-.33.29-.43-.36-.34-1.33-.55-1.67.11-.36.23.16.45-.03l-.36-.51c.45-.03.73-.99,1.01-.1v-.8c.26-.48.35-1.15.09-1.54.05-.39-.6-.9-.22-.61l-.42-1.21.11-.03c-.21-1.23-1.26-2.34-.82-3.71-.21-.33-.45-.67-.49-1.3l.34-.22c-.25-.41-.12-1.65-.57-1.73M4.55,40.06l.02-.22c.32.27.15.24-.02.22M46.72,12.59c0,.12.07,1.55-.17,1.98-.05.08-.1.13-.17.18-.13-.26-.26-.51-.4-.77l.65-.37-.7.27c-.14-.25-.28-.5-.43-.74.5-.3.97-.53,1.22-.54M47.58,17.73c-.07-.22-.14-.43-.22-.65.24.11.46.26.58.42-.14.02-.27.14-.36.23M44.02,8.82l-.11.38.83.38c-.43.07-1.08.13-1.76.19-.29-.32-.6-.63-.9-.94.71-.19,1.47-.27,1.94-.02M35.89,4.61c-.18-.08-.36-.15-.54-.23.3-.2.59-.4.9-.58-.14.19-.25.49-.36.81M23.14,2.24c.14.08.07.31-.04.61.06-.07.11-.13.15-.19.15.07.21.17.23.3-.15.03-.3.06-.45.09.02-.06.05-.13.07-.19-.06.07-.12.14-.18.22-.08.01-.16.03-.24.05-.18-.14-.34-.27-.45-.32l.92-.55ZM48.06,34.8c.1-.26.19-.52.28-.78.02.06.05.11.06.18,0,.21-.11.43-.34.61M48.42,33.81s-.01,0-.02-.01c0-.01,0-.02.01-.04v.05ZM51.08,26.08c-.53.61-1.07.07-1.45.22-.2-.71.24-1.14.18-1.64l-.18.64c-.21-.22-.39-.67-.27-.96-.05.05-.07.14-.09.22-.13-1-.32-1.99-.59-2.99l-.08-.31c.59.18,1.19.64,1.6,1.35.41.88-.45.49-.3.63.1.85.45,1.18.82,1.48.33.3.67.59.38,1.36M51.72,26.09s-.01-.01-.02-.02c.18-.45.11-.29.02.02\"}))]);\n}\n\nDot.defaultProps = {\"id\":\"Layer_2\",\"data-name\":\"Layer 2\",\"viewBox\":\"0 0 52.25 51.35\"};\n\nmodule.exports = Dot;\n\nDot.default = Dot;\n","import * as React from \"react\";\nfunction ChevronRightIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 16 16\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M6.22 4.22a.75.75 0 0 1 1.06 0l3.25 3.25a.75.75 0 0 1 0 1.06l-3.25 3.25a.75.75 0 0 1-1.06-1.06L8.94 8 6.22 5.28a.75.75 0 0 1 0-1.06Z\",\n    clipRule: \"evenodd\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ChevronRightIcon);\nexport default ForwardRef;"],"names":["children","features","mapRef","useRef","maxExtent","LngLatBounds","clickedFeature","setClickedFeature","useState","cursor","setCursor","onMouseEnter","useCallback","onMouseLeave","className","mapStyle","interactiveLayerIds","ref","initialViewState","bounds","mapboxAccessToken","minZoom","onClick","event","feature","latitude","lngLat","lat","longitude","lng","id","type","url","paint","filter","MountedMapsContext","noOp","unproxiedMethods","Set","createProxyTransform","tr","internalUpdate","reactViewState","controlledTransform","proposedTransform","handlers","get","target","prop","z","Number","isFinite","zoom","v","pitch","bearing","clone","has","parms","set","value","constrain","_constrain","calcMatrices","_calcMatrices","padding","isPaddingEqual","center","_center","constructor","_centerAltitude","elevation","_seaLevelZoom","mercatorElevation","pixelsPerMeter","worldSize","altitude","_mercatorZfromZoom","minHeight","_maxZoom","height","Math","max","_setZoom","_zoomFromMercatorZ","_unmodified","applyViewStateToTransform","controlledValue","Proxy","refProps","normalizeStyle","style","toJS","layers","layerIndex","layer","map","normalizedLayer","Object","assign","interactive","layerRef","propName","deepEqual","a","b","Array","isArray","length","i","aKeys","keys","bKeys","key","hasOwnProperty","DEFAULT_STYLE","version","sources","pointerEvents","mousedown","mouseup","mouseover","mousemove","click","dblclick","mouseenter","mouseleave","mouseout","contextmenu","touchstart","touchend","touchmove","touchcancel","cameraEvents","movestart","move","moveend","dragstart","drag","dragend","zoomstart","zoomend","rotatestart","rotate","rotateend","pitchstart","pitchend","otherEvents","wheel","boxzoomstart","boxzoomend","boxzoomcancel","resize","load","render","idle","remove","data","styledata","sourcedata","error","settingNames","handlerNames","Mapbox","MapClass","props","container","this","_map","_internalUpdate","_inRender","_hoveredFeatures","_deferredEvents","_onEvent","e","cb","console","_onPointerEvent","_updateHover","_queryRenderedFeatures","point","_onCameraEvent","_proxyTransform","viewState","transformToViewState","$proposedTransform","_MapClass","_initialize","transform","setProps","oldProps","settingsChanged","_updateSettings","_createProxyTransform","sizeChanged","_updateSize","viewStateChanged","_updateViewState","_updateStyle","_updateStyleComponents","_updateHandlers","isMoving","redraw","reuse","that","savedMaps","pop","oldContainer","getContainer","childNodes","appendChild","_container","styleDiffing","fitBounds","fitBoundsOptions","duration","isStyleLoaded","fire","once","_update","mapOptions","accessToken","getAccessTokenFromEnv","gl","getContext","HTMLCanvasElement","prototype","setPadding","getCanvas","renderMap","_render","arg","call","runRenderTaskQueue","_renderTaskQueue","run","$internalUpdate","_fireDefferedEvents","jumpTo","args","apply","fireEvent","_fireEvent","bind","on","eventName","recycle","querySelector","push","destroy","_frame","cancel","proxyTransform","painter","nextProps","width","triggerEvents","changed","compareViewStateWithTransform","$reactViewState","deferredEvents","currProps","setter","toUpperCase","slice","options","diff","localIdeographFontFamily","setStyle","setLight","light","setFog","fog","setTerrain","terrain","getSource","source","newValue","enable","disable","queryRenderedFeatures","getLayer","onMouseMove","eventType","wasHovering","isHovering","baseFire","properties","internal","location","match","exec","search","MapboxAccessToken","REACT_APP_MAPBOX_ACCESS_TOKEN","skipMethods","createRef","mapInstance","getMap","getCenter","getZoom","getBearing","getPitch","getPadding","getBounds","project","lnglat","result","unproject","queryTerrainElevation","geometry","obj","proto","getOwnPropertyNames","add","getPrototypeOf","from","getMethodNames","includes","document","useLayoutEffect","useEffect","globalSettings","mountedMapsContext","useContext","setMapInstance","containerRef","current","contextValue","mapLib","mapbox","isMounted","Promise","resolve","then","module","Error","mapboxgl","default","Map","RTLTextPlugin","getRTLTextPluginStatus","setRTLTextPlugin","setGlobals","reuseMaps","onMapMount","catch","onError","onMapUnmount","useImperativeHandle","useMemo","position","Provider","unitlessNumber","applyReactStyle","element","styles","test","compareClassNames","prevClassName","nextClassName","prevClassList","getClassList","nextClassList","c","trim","split","memo","forwardRef","thisRef","marker","hasChildren","forEach","el","createElement","mk","Marker","setLngLat","getElement","addEventListener","originalEvent","evt","getLngLat","onDragStart","onDrag","onDragEnd","addTo","offset","draggable","popup","rotation","rotationAlignment","pitchAlignment","ax","x","ay","y","bx","by","arePointsEqual","getOffset","setOffset","isDraggable","setDraggable","getRotation","setRotation","getRotationAlignment","setRotationAlignment","getPitchAlignment","setPitchAlignment","getPopup","setPopup","classNameDiff","toggleClassName","createPortal","pp","Popup","onOpen","onClose","setDOMContent","off","isOpen","anchor","maxWidth","setMaxWidth","useControl","onCreate","arg1","arg2","arg3","context","ctrl","opts","onAdd","onRemove","hasControl","addControl","removeControl","AttributionControl","FullscreenControl","containerId","getElementById","_controlContainer","gc","GeolocateControl","setupUI","_setupUI","hasChildNodes","onGeolocate","onOutOfMaxBounds","onTrackUserLocationStart","onTrackUserLocationEnd","NavigationControl","ScaleControl","propsRef","prevProps","undefined","unit","setUnit","assert","condition","message","sourceCounter","Source","setStyleLoaded","forceUpdate","setTimeout","_loaded","allLayers","getStyle","removeLayer","removeSource","changedKey","changedKeyCount","setData","updateImage","coordinates","setCoordinates","setUrl","setTiles","tiles","warn","updateSource","addSource","createSource","child","cloneElement","layerCounter","Layer","layout","minzoom","maxzoom","beforeId","moveLayer","prevLayout","setLayoutProperty","prevPaint","setPaintProperty","setFilter","setLayerZoomRange","updateLayer","addLayer","createLayer","React","Dot","defaultProps","exports","ChevronRightIcon","title","titleId","svgRef","xmlns","viewBox","fill","fillRule","d","clipRule","ForwardRef"],"sourceRoot":""}