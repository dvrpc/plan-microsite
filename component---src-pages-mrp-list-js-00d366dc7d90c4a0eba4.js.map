{"version":3,"file":"component---src-pages-mrp-list-js-00d366dc7d90c4a0eba4.js","mappings":"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","sources":["webpack://gatsby-starter-default/./src/pages/mrp-list.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\"\r\nimport { Link } from \"gatsby\"\r\nimport Layout from \"../components/layout\"\r\nimport Bg from \"../images/bg.png\"\r\nimport Dot from \"../images/dot.svg\"\r\nimport { ChevronRightIcon } from \"@heroicons/react/16/solid\"\r\nimport { ChevronDownIcon } from \"@heroicons/react/16/solid\"\r\nimport Projects from \"../components/projects.json\"\r\nimport Select from \"react-select\"\r\nimport Accordion from \"../components/accordion\"\r\n\r\nconst MRPList = () => {\r\n  const projects = { ...Projects }\r\n  const [state, setState] = useState([])\r\n  const [funding, setFunding] = useState([])\r\n  const [filteredProjects, setFilteredProjects] = useState()\r\n  const [filter, setFilter] = useState(\"\")\r\n  const [sortKey, setSortKey] = useState(\"\")\r\n  const [sortKeyHist, setSortKeyHist] = useState([])\r\n\r\n  const sortTable = string => {\r\n    setSortKey(string)\r\n    setSortKeyHist(prev => [...prev, sortKey])\r\n    if (sortKeyHist.length === 2) setSortKeyHist([])\r\n  }\r\n\r\n  const stateOptions = [\r\n    { value: \"PA\", label: \"PA\" },\r\n    { value: \"NJ\", label: \"NJ\" },\r\n  ]\r\n  const fundingOptions = [\r\n    { value: \"Roadway Illustrative\", label: \"Roadway Illustrative\" },\r\n    { value: \"Roadway Funded\", label: \"Roadway Funded\" },\r\n    { value: \"Roadway Unfunded\", label: \"Roadway Unfunded\" },\r\n    { value: \"Transit Funded\", label: \"Transit Funded\" },\r\n    { value: \"Transit Unfunded\", label: \"Transit Unfunded\" },\r\n    { value: \"Externally Funded\", label: \"Externally Funded\" },\r\n    { value: \"Externally Unfunded\", label: \"Externally Unfunded\" },\r\n  ]\r\n  const fundingHex = {\r\n    \"Roadway Funded\": \"#0078ae\",\r\n    \"Roadway Unfunded\": \"#67abd1\",\r\n    \"Transit Funded\": \"#00783e\",\r\n    \"Transit Unfunded\": \"#bcd85f\",\r\n    \"Externally Funded\": \"#704775\",\r\n    \"Externally Unfunded\": \"#ad5b87\",\r\n    \"Roadway Illustrative\": \"#4b4c4d\",\r\n  }\r\n\r\n  useEffect(() => {\r\n    let projectsCopy = { ...projects }\r\n    if (state.length > 0) {\r\n      const states = state.map(option => option.value)\r\n      Object.keys(projectsCopy).map(key => {\r\n        projectsCopy[key] = projectsCopy[key].filter(project =>\r\n          states.includes(project.state)\r\n        )\r\n      })\r\n    }\r\n    if (funding.length > 0) {\r\n      let ret = {}\r\n      funding.map(el => {\r\n        ret[el.value] = projectsCopy[el.value]\r\n      })\r\n      projectsCopy = { ...ret }\r\n    }\r\n    if (sortKey) {\r\n      if (sortKeyHist.length < 2) {\r\n        Object.keys(projectsCopy).map(key => {\r\n          projectsCopy[key] = projectsCopy[key].sort(\r\n            (a, b) => a[sortKey] > b[sortKey]\r\n          )\r\n        })\r\n      } else if (sortKeyHist.length === 2) {\r\n        Object.keys(projectsCopy).map(key => {\r\n          projectsCopy[key] = projectsCopy[key].sort(\r\n            (a, b) => a[sortKey] < b[sortKey]\r\n          )\r\n        })\r\n      }\r\n    }\r\n    let arr = Object.values(projectsCopy).flat()\r\n    if (filter) {\r\n      arr = arr.filter(\r\n        item =>\r\n          item.id.includes(filter) ||\r\n          item.facility.toLowerCase().includes(filter) ||\r\n          item.scope.toLowerCase().includes(filter) ||\r\n          item.location.toLowerCase().includes(filter) ||\r\n          item.period.toLowerCase().includes(filter) ||\r\n          item.cost.toLowerCase().includes(filter) ||\r\n          item.categories.toLowerCase().includes(filter)\r\n      )\r\n    }\r\n    setFilteredProjects([...arr])\r\n  }, [state, funding, setFilteredProjects, filter, sortKey, sortKeyHist])\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"bg-[#cbe5f3] flex flex-col items-center\">\r\n        <div className=\"w-full h-full\">\r\n          <img src={Bg} className=\"absolute object-cover h-2/5 w-full\" />\r\n          <div className=\"flex text-white font-bold w-[70%] mx-auto z-50 relative items-center underline mt-4\">\r\n            <Link to=\"/\">Home</Link>\r\n            <ChevronRightIcon width=\"1.5%\" />\r\n            <Link>Major Regional Project List</Link>\r\n          </div>\r\n        </div>\r\n        <div className=\"text-[#dfebf5] bg-[#063446] w-full flex flex-col relative px-12 py-6 mt-[10%]\">\r\n          <div className=\"w-[70%] mx-auto space-y-4\">\r\n            <h2 className=\"text-3xl font-bold\">Major Regional Project List</h2>\r\n            <p className=\"text-2xl pb-0 z-50\">\r\n              Explore all projects included in Update: Connections 2050. Each\r\n              project is classified as Funded, Unfunded, Illustrative, or\r\n              Externally Funded based on its status and funding source. Use the\r\n              filters below to sort and learn about each project.\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div className=\"w-[68%] relative border-l-4 border-[#063446]\">\r\n          <div className=\"flex w-full p-4 relative flex-col\">\r\n            <strong>Start your search:</strong>\r\n            <span>State</span>\r\n            <Select\r\n              options={stateOptions}\r\n              isMulti\r\n              value={state}\r\n              onChange={setState}\r\n              styles={{\r\n                multiValue: (provided, { data }) => ({\r\n                  ...provided,\r\n                  backgroundColor: \"#063446\",\r\n                  color: \"#ffffff\",\r\n                }),\r\n                multiValueLabel: (provided, { data }) => ({\r\n                  ...provided,\r\n                  color: \"#ffffff\",\r\n                }),\r\n              }}\r\n            />\r\n            <span>Funding Category</span>\r\n            <Select\r\n              options={fundingOptions}\r\n              isMulti\r\n              value={funding}\r\n              onChange={setFunding}\r\n              styles={{\r\n                multiValue: (provided, { data }) => ({\r\n                  ...provided,\r\n                  backgroundColor: fundingHex[data.value],\r\n                  color: \"#ffffff\",\r\n                }),\r\n                multiValueLabel: (provided, { data }) => ({\r\n                  ...provided,\r\n                  color: \"#ffffff\",\r\n                }),\r\n              }}\r\n            />\r\n            <span>Keyword</span>\r\n            <input\r\n              type=\"text\"\r\n              onChange={e => setFilter(e.target.value)}\r\n              value={filter}\r\n              className=\"input\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"w-full bg-[#eaf3fb] relative\">\r\n          <div className=\"border-l-4 border-[#0c2e39] w-[68%] mx-auto\">\r\n            <div className=\"flex flex-col space-y-6 p-6 pt-0\">\r\n              <table>\r\n                <thead className=\"text-left\">\r\n                  <tr>\r\n                    <th onClick={e => sortTable(\"id\")}>MRP ID</th>\r\n                    <th onClick={e => sortTable(\"facility\")}>Facility</th>\r\n                    <th onClick={e => sortTable(\"scope\")}>Scope</th>\r\n                    <th onClick={e => sortTable(\"location\")}>Location</th>\r\n                    <th onClick={e => sortTable(\"period\")}>Plan Period</th>\r\n                    <th onClick={e => sortTable(\"cost\")}>Cost</th>\r\n                    <th onClick={e => sortTable(\"categories\")}>\r\n                      Project Categories/Sponsor\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {filteredProjects &&\r\n                    filteredProjects.length > 0 &&\r\n                    filteredProjects.map((project, idx) => (\r\n                      <>\r\n                        {filteredProjects[idx - 1]?.funding !==\r\n                          project.funding && (\r\n                          <tr>\r\n                            <td\r\n                              className=\"text-2xl font-bold w-full text-white\"\r\n                              style={{\r\n                                backgroundColor: fundingHex[project.funding],\r\n                              }}\r\n                              colspan=\"7\"\r\n                            >\r\n                              {project.funding}\r\n                            </td>\r\n                          </tr>\r\n                        )}\r\n                        <tr>\r\n                          <td>{project.id}</td>\r\n                          <td>{project.facility}</td>\r\n                          <td>{project.scope}</td>\r\n                          <td>{project.location}</td>\r\n                          <td>{project.period}</td>\r\n                          <td>{project.cost}</td>\r\n                          <td>{project.categories}</td>\r\n                        </tr>\r\n                      </>\r\n                    ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport default MRPList\r\n"],"names":["projects","Projects","state","setState","useState","funding","setFunding","filteredProjects","setFilteredProjects","filter","setFilter","sortKey","setSortKey","sortKeyHist","setSortKeyHist","sortTable","string","prev","length","fundingHex","useEffect","projectsCopy","states","map","option","value","Object","keys","key","project","includes","ret","el","sort","a","b","arr","values","flat","item","id","facility","toLowerCase","scope","location","period","cost","categories","className","src","Bg","to","ChevronRightIcon","width","options","label","isMulti","onChange","styles","multiValue","provided","data","backgroundColor","color","multiValueLabel","type","e","target","onClick","idx","style","colspan"],"sourceRoot":""}